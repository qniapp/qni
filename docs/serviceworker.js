(()=>{var Dn=Object.create;var ie=Object.defineProperty;var Cn=Object.getOwnPropertyDescriptor;var jn=Object.getOwnPropertyNames;var kn=Object.getPrototypeOf,$n=Object.prototype.hasOwnProperty;var Zn=t=>ie(t,"__esModule",{value:!0}),i=(t,e)=>ie(t,"name",{value:e,configurable:!0});var et=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Kn=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of jn(e))!$n.call(t,o)&&(r||o!=="default")&&ie(t,o,{get:()=>e[o],enumerable:!(n=Cn(e,o))||n.enumerable});return t},zt=(t,e)=>Kn(Zn(ie(t!=null?Dn(kn(t)):{},"default",!e&&t&&t.__esModule?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var Ae=et(C=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0});C.Field=C.MonoidProduct=C.MonoidSum=C.SemigroupProduct=C.SemigroupSum=C.MagmaSub=C.Show=C.Bounded=C.Ord=C.Eq=C.isNumber=void 0;var Hn=i(function(t){return typeof t=="number"},"isNumber");C.isNumber=Hn;C.Eq={equals:function(t,e){return t===e}};C.Ord={equals:C.Eq.equals,compare:function(t,e){return t<e?-1:t>e?1:0}};C.Bounded={equals:C.Eq.equals,compare:C.Ord.compare,top:1/0,bottom:-1/0};C.Show={show:function(t){return JSON.stringify(t)}};C.MagmaSub={concat:function(t,e){return t-e}};C.SemigroupSum={concat:function(t,e){return t+e}};C.SemigroupProduct={concat:function(t,e){return t*e}};C.MonoidSum={concat:C.SemigroupSum.concat,empty:0};C.MonoidProduct={concat:C.SemigroupProduct.concat,empty:1};C.Field={add:C.SemigroupSum.concat,zero:0,mul:C.SemigroupProduct.concat,one:1,sub:C.MagmaSub.concat,degree:function(t){return 1},div:function(t,e){return t/e},mod:function(t,e){return t%e}}});var pt=et(w=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0});w.getEndomorphismMonoid=w.not=w.SK=w.hole=w.pipe=w.untupled=w.tupled=w.absurd=w.decrement=w.increment=w.tuple=w.flow=w.flip=w.constVoid=w.constUndefined=w.constNull=w.constFalse=w.constTrue=w.constant=w.unsafeCoerce=w.identity=w.apply=w.getRing=w.getSemiring=w.getMonoid=w.getSemigroup=w.getBooleanAlgebra=void 0;var Vn=i(function(t){return function(){return{meet:function(e,r){return function(n){return t.meet(e(n),r(n))}},join:function(e,r){return function(n){return t.join(e(n),r(n))}},zero:function(){return t.zero},one:function(){return t.one},implies:function(e,r){return function(n){return t.implies(e(n),r(n))}},not:function(e){return function(r){return t.not(e(r))}}}}},"getBooleanAlgebra");w.getBooleanAlgebra=Vn;var Gn=i(function(t){return function(){return{concat:function(e,r){return function(n){return t.concat(e(n),r(n))}}}}},"getSemigroup");w.getSemigroup=Gn;var Xn=i(function(t){var e=w.getSemigroup(t);return function(){return{concat:e().concat,empty:function(){return t.empty}}}},"getMonoid");w.getMonoid=Xn;var Qn=i(function(t){return{add:function(e,r){return function(n){return t.add(e(n),r(n))}},zero:function(){return t.zero},mul:function(e,r){return function(n){return t.mul(e(n),r(n))}},one:function(){return t.one}}},"getSemiring");w.getSemiring=Qn;var Yn=i(function(t){var e=w.getSemiring(t);return{add:e.add,mul:e.mul,one:e.one,zero:e.zero,sub:function(r,n){return function(o){return t.sub(r(o),n(o))}}}},"getRing");w.getRing=Yn;var Jn=i(function(t){return function(e){return e(t)}},"apply");w.apply=Jn;function Ee(t){return t}i(Ee,"identity");w.identity=Ee;w.unsafeCoerce=Ee;function Pt(t){return function(){return t}}i(Pt,"constant");w.constant=Pt;w.constTrue=Pt(!0);w.constFalse=Pt(!1);w.constNull=Pt(null);w.constUndefined=Pt(void 0);w.constVoid=w.constUndefined;function ti(t){return function(e,r){return t(r,e)}}i(ti,"flip");w.flip=ti;function Sr(t,e,r,n,o,s,h,y,W){switch(arguments.length){case 1:return t;case 2:return function(){return e(t.apply(this,arguments))};case 3:return function(){return r(e(t.apply(this,arguments)))};case 4:return function(){return n(r(e(t.apply(this,arguments))))};case 5:return function(){return o(n(r(e(t.apply(this,arguments)))))};case 6:return function(){return s(o(n(r(e(t.apply(this,arguments))))))};case 7:return function(){return h(s(o(n(r(e(t.apply(this,arguments)))))))};case 8:return function(){return y(h(s(o(n(r(e(t.apply(this,arguments))))))))};case 9:return function(){return W(y(h(s(o(n(r(e(t.apply(this,arguments)))))))))}}}i(Sr,"flow");w.flow=Sr;function ei(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t}i(ei,"tuple");w.tuple=ei;function ri(t){return t+1}i(ri,"increment");w.increment=ri;function ni(t){return t-1}i(ni,"decrement");w.decrement=ni;function Or(t){throw new Error("Called `absurd` function which should be uncallable")}i(Or,"absurd");w.absurd=Or;function ii(t){return function(e){return t.apply(void 0,e)}}i(ii,"tupled");w.tupled=ii;function ai(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t(e)}}i(ai,"untupled");w.untupled=ai;function ui(t,e,r,n,o,s,h,y,W){switch(arguments.length){case 1:return t;case 2:return e(t);case 3:return r(e(t));case 4:return n(r(e(t)));case 5:return o(n(r(e(t))));case 6:return s(o(n(r(e(t)))));case 7:return h(s(o(n(r(e(t))))));case 8:return y(h(s(o(n(r(e(t)))))));case 9:return W(y(h(s(o(n(r(e(t))))))));default:for(var M=arguments[0],K=1;K<arguments.length;K++)M=arguments[K](M);return M}}i(ui,"pipe");w.pipe=ui;w.hole=Or;var oi=i(function(t,e){return e},"SK");w.SK=oi;function ci(t){return function(e){return!t(e)}}i(ci,"not");w.not=ci;var fi=i(function(){return{concat:function(t,e){return Sr(t,e)},empty:Ee}},"getEndomorphismMonoid");w.getEndomorphismMonoid=fi});var Dt=et(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});it.sequenceS=it.sequenceT=it.getApplySemigroup=it.apS=it.apSecond=it.apFirst=it.ap=void 0;var si=pt();function li(t,e){return function(r){return function(n){return t.ap(t.map(n,function(o){return function(s){return e.ap(o,s)}}),r)}}}i(li,"ap");it.ap=li;function hi(t){return function(e){return function(r){return t.ap(t.map(r,function(n){return function(){return n}}),e)}}}i(hi,"apFirst");it.apFirst=hi;function pi(t){return function(e){return function(r){return t.ap(t.map(r,function(){return function(n){return n}}),e)}}}i(pi,"apSecond");it.apSecond=pi;function di(t){return function(e,r){return function(n){return t.ap(t.map(n,function(o){return function(s){var h;return Object.assign({},o,(h={},h[e]=s,h))}}),r)}}}i(di,"apS");it.apS=di;function vi(t){return function(e){return{concat:function(r,n){return t.ap(t.map(r,function(o){return function(s){return e.concat(o,s)}}),n)}}}}i(vi,"getApplySemigroup");it.getApplySemigroup=vi;function qe(t,e,r){return function(n){for(var o=Array(r.length+1),s=0;s<r.length;s++)o[s]=r[s];return o[r.length]=n,e===0?t.apply(null,o):qe(t,e-1,o)}}i(qe,"curried");var _e={1:function(t){return[t]},2:function(t){return function(e){return[t,e]}},3:function(t){return function(e){return function(r){return[t,e,r]}}},4:function(t){return function(e){return function(r){return function(n){return[t,e,r,n]}}}},5:function(t){return function(e){return function(r){return function(n){return function(o){return[t,e,r,n,o]}}}}}};function mi(t){return _e.hasOwnProperty(t)||(_e[t]=qe(si.tuple,t-1,[])),_e[t]}i(mi,"getTupleConstructor");function gi(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];for(var n=e.length,o=mi(n),s=t.map(e[0],o),h=1;h<n;h++)s=t.ap(s,e[h]);return s}}i(gi,"sequenceT");it.sequenceT=gi;function yi(t){var e=t.length;switch(e){case 1:return function(r){var n;return n={},n[t[0]]=r,n};case 2:return function(r){return function(n){var o;return o={},o[t[0]]=r,o[t[1]]=n,o}};case 3:return function(r){return function(n){return function(o){var s;return s={},s[t[0]]=r,s[t[1]]=n,s[t[2]]=o,s}}};case 4:return function(r){return function(n){return function(o){return function(s){var h;return h={},h[t[0]]=r,h[t[1]]=n,h[t[2]]=o,h[t[3]]=s,h}}}};case 5:return function(r){return function(n){return function(o){return function(s){return function(h){var y;return y={},y[t[0]]=r,y[t[1]]=n,y[t[2]]=o,y[t[3]]=s,y[t[4]]=h,y}}}}};default:return qe(function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];for(var o={},s=0;s<e;s++)o[t[s]]=r[s];return o},e-1,[])}}i(yi,"getRecordConstructor");function Ii(t){return function(e){for(var r=Object.keys(e),n=r.length,o=yi(r),s=t.map(e[r[0]],o),h=1;h<n;h++)s=t.ap(s,e[r[h]]);return s}}i(Ii,"sequenceS");it.sequenceS=Ii});var Ct=et(Ot=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});Ot.bind=Ot.chainFirst=void 0;function xi(t){return function(e){return function(r){return t.chain(r,function(n){return t.map(e(n),function(){return n})})}}}i(xi,"chainFirst");Ot.chainFirst=xi;function bi(t){return function(e,r){return function(n){return t.chain(n,function(o){return t.map(r(o),function(s){var h;return Object.assign({},o,(h={},h[e]=s,h))})})}}}i(bi,"bind");Ot.bind=bi});var xt=et(B=>{"use strict";var Mi=B&&B.__spreadArray||function(t,e){for(var r=0,n=e.length,o=t.length;r<n;r++,o++)t[o]=e[r];return t};Object.defineProperty(B,"__esModule",{value:!0});B.fromReadonlyNonEmptyArray=B.has=B.emptyRecord=B.emptyReadonlyArray=B.tail=B.head=B.isNonEmpty=B.singleton=B.right=B.left=B.isRight=B.isLeft=B.some=B.none=B.isSome=B.isNone=void 0;var wi=i(function(t){return t._tag==="None"},"isNone");B.isNone=wi;var Wi=i(function(t){return t._tag==="Some"},"isSome");B.isSome=Wi;B.none={_tag:"None"};var Ri=i(function(t){return{_tag:"Some",value:t}},"some");B.some=Ri;var Ai=i(function(t){return t._tag==="Left"},"isLeft");B.isLeft=Ai;var Ei=i(function(t){return t._tag==="Right"},"isRight");B.isRight=Ei;var _i=i(function(t){return{_tag:"Left",left:t}},"left");B.left=_i;var qi=i(function(t){return{_tag:"Right",right:t}},"right");B.right=qi;var Si=i(function(t){return[t]},"singleton");B.singleton=Si;var Oi=i(function(t){return t.length>0},"isNonEmpty");B.isNonEmpty=Oi;var Ui=i(function(t){return t[0]},"head");B.head=Ui;var Ni=i(function(t){return t.slice(1)},"tail");B.tail=Ni;B.emptyReadonlyArray=[];B.emptyRecord={};B.has=Object.prototype.hasOwnProperty;var Fi=i(function(t){return Mi([t[0]],t.slice(1))},"fromReadonlyNonEmptyArray");B.fromReadonlyNonEmptyArray=Fi});var Se=et(Q=>{"use strict";var Bi=Q&&Q.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Li=Q&&Q.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ti=Q&&Q.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Bi(e,t,r);return Li(e,t),e};Object.defineProperty(Q,"__esModule",{value:!0});Q.filterOrElse=Q.chainEitherK=Q.fromEitherK=Q.chainOptionK=Q.fromOptionK=Q.fromPredicate=Q.fromOption=void 0;var Ur=pt(),Wt=Ti(xt());function Nr(t){return function(e){return function(r){return t.fromEither(Wt.isNone(r)?Wt.left(e()):Wt.right(r.value))}}}i(Nr,"fromOption");Q.fromOption=Nr;function zi(t){return function(e,r){return function(n){return t.fromEither(e(n)?Wt.right(n):Wt.left(r(n)))}}}i(zi,"fromPredicate");Q.fromPredicate=zi;function Fr(t){var e=Nr(t);return function(r){var n=e(r);return function(o){return Ur.flow(o,n)}}}i(Fr,"fromOptionK");Q.fromOptionK=Fr;function Pi(t,e){var r=Fr(t);return function(n){var o=r(n);return function(s){return function(h){return e.chain(h,o(s))}}}}i(Pi,"chainOptionK");Q.chainOptionK=Pi;function Br(t){return function(e){return Ur.flow(e,t.fromEither)}}i(Br,"fromEitherK");Q.fromEitherK=Br;function Di(t,e){var r=Br(t);return function(n){return function(o){return e.chain(o,r(n))}}}i(Di,"chainEitherK");Q.chainEitherK=Di;function Ci(t,e){return function(r,n){return function(o){return e.chain(o,function(s){return t.fromEither(r(s)?Wt.right(s):Wt.left(n(s)))})}}}i(Ci,"filterOrElse");Q.filterOrElse=Ci});var Ut=et(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.getFunctorComposition=It.bindTo=It.flap=It.map=void 0;var ji=pt();function Lr(t,e){return function(r){return function(n){return t.map(n,function(o){return e.map(o,r)})}}}i(Lr,"map");It.map=Lr;function ki(t){return function(e){return function(r){return t.map(r,function(n){return n(e)})}}}i(ki,"flap");It.flap=ki;function $i(t){return function(e){return function(r){return t.map(r,function(n){var o;return o={},o[e]=n,o})}}}i($i,"bindTo");It.bindTo=$i;function Zi(t,e){var r=Lr(t,e);return{map:function(n,o){return ji.pipe(n,r(o))}}}i(Zi,"getFunctorComposition");It.getFunctorComposition=Zi});var ae=et(S=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0});S.eqDate=S.eqNumber=S.eqString=S.eqBoolean=S.eq=S.strictEqual=S.getStructEq=S.getTupleEq=S.Contravariant=S.getMonoid=S.getSemigroup=S.eqStrict=S.URI=S.contramap=S.tuple=S.struct=S.fromEquals=void 0;var Ki=pt(),Hi=i(function(t){return{equals:function(e,r){return e===r||t(e,r)}}},"fromEquals");S.fromEquals=Hi;var Vi=i(function(t){return S.fromEquals(function(e,r){for(var n in t)if(!t[n].equals(e[n],r[n]))return!1;return!0})},"struct");S.struct=Vi;var Gi=i(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return S.fromEquals(function(r,n){return t.every(function(o,s){return o.equals(r[s],n[s])})})},"tuple");S.tuple=Gi;var Xi=i(function(t,e){return Ki.pipe(t,S.contramap(e))},"contramap_"),Qi=i(function(t){return function(e){return S.fromEquals(function(r,n){return e.equals(t(r),t(n))})}},"contramap");S.contramap=Qi;S.URI="Eq";S.eqStrict={equals:function(t,e){return t===e}};var Yi={equals:function(){return!0}},Ji=i(function(){return{concat:function(t,e){return S.fromEquals(function(r,n){return t.equals(r,n)&&e.equals(r,n)})}}},"getSemigroup");S.getSemigroup=Ji;var ta=i(function(){return{concat:S.getSemigroup().concat,empty:Yi}},"getMonoid");S.getMonoid=ta;S.Contravariant={URI:S.URI,contramap:Xi};S.getTupleEq=S.tuple;S.getStructEq=S.struct;S.strictEqual=S.eqStrict.equals;S.eq=S.Contravariant;S.eqBoolean=S.eqStrict;S.eqString=S.eqStrict;S.eqNumber=S.eqStrict;S.eqDate={equals:function(t,e){return t.valueOf()===e.valueOf()}}});var jt=et(x=>{"use strict";Object.defineProperty(x,"__esModule",{value:!0});x.ordDate=x.ordNumber=x.ordString=x.ordBoolean=x.ord=x.getDualOrd=x.getTupleOrd=x.between=x.clamp=x.max=x.min=x.geq=x.leq=x.gt=x.lt=x.equals=x.trivial=x.Contravariant=x.getMonoid=x.getSemigroup=x.URI=x.contramap=x.reverse=x.tuple=x.fromCompare=x.equalsDefault=void 0;var ea=ae(),ue=pt(),ra=i(function(t){return function(e,r){return e===r||t(e,r)===0}},"equalsDefault");x.equalsDefault=ra;var na=i(function(t){return{equals:x.equalsDefault(t),compare:function(e,r){return e===r?0:t(e,r)}}},"fromCompare");x.fromCompare=na;var ia=i(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return x.fromCompare(function(r,n){for(var o=0;o<t.length-1;o++){var s=t[o].compare(r[o],n[o]);if(s!==0)return s}return t[o].compare(r[o],n[o])})},"tuple");x.tuple=ia;var aa=i(function(t){return x.fromCompare(function(e,r){return t.compare(r,e)})},"reverse");x.reverse=aa;var ua=i(function(t,e){return ue.pipe(t,x.contramap(e))},"contramap_"),oa=i(function(t){return function(e){return x.fromCompare(function(r,n){return e.compare(t(r),t(n))})}},"contramap");x.contramap=oa;x.URI="Ord";var ca=i(function(){return{concat:function(t,e){return x.fromCompare(function(r,n){var o=t.compare(r,n);return o!==0?o:e.compare(r,n)})}}},"getSemigroup");x.getSemigroup=ca;var fa=i(function(){return{concat:x.getSemigroup().concat,empty:x.fromCompare(function(){return 0})}},"getMonoid");x.getMonoid=fa;x.Contravariant={URI:x.URI,contramap:ua};x.trivial={equals:ue.constTrue,compare:ue.constant(0)};var sa=i(function(t){return function(e){return function(r){return r===e||t.compare(r,e)===0}}},"equals");x.equals=sa;var la=i(function(t){return function(e,r){return t.compare(e,r)===-1}},"lt");x.lt=la;var ha=i(function(t){return function(e,r){return t.compare(e,r)===1}},"gt");x.gt=ha;var pa=i(function(t){return function(e,r){return t.compare(e,r)!==1}},"leq");x.leq=pa;var da=i(function(t){return function(e,r){return t.compare(e,r)!==-1}},"geq");x.geq=da;var va=i(function(t){return function(e,r){return e===r||t.compare(e,r)<1?e:r}},"min");x.min=va;var ma=i(function(t){return function(e,r){return e===r||t.compare(e,r)>-1?e:r}},"max");x.max=ma;var ga=i(function(t){var e=x.min(t),r=x.max(t);return function(n,o){return function(s){return r(e(s,o),n)}}},"clamp");x.clamp=ga;var ya=i(function(t){var e=x.lt(t),r=x.gt(t);return function(n,o){return function(s){return!(e(s,n)||r(s,o))}}},"between");x.between=ya;x.getTupleOrd=x.tuple;x.getDualOrd=x.reverse;x.ord=x.Contravariant;function Ia(t,e){return t<e?-1:t>e?1:0}i(Ia,"compare");var Oe={equals:ea.eqStrict.equals,compare:Ia};x.ordBoolean=Oe;x.ordString=Oe;x.ordNumber=Oe;x.ordDate=ue.pipe(x.ordNumber,x.contramap(function(t){return t.valueOf()}))});var Tr=et(dt=>{"use strict";Object.defineProperty(dt,"__esModule",{value:!0});dt.concatAll=dt.endo=dt.filterSecond=dt.filterFirst=dt.reverse=void 0;var xa=i(function(t){return{concat:function(e,r){return t.concat(r,e)}}},"reverse");dt.reverse=xa;var ba=i(function(t){return function(e){return{concat:function(r,n){return t(r)?e.concat(r,n):n}}}},"filterFirst");dt.filterFirst=ba;var Ma=i(function(t){return function(e){return{concat:function(r,n){return t(n)?e.concat(r,n):r}}}},"filterSecond");dt.filterSecond=Ma;var wa=i(function(t){return function(e){return{concat:function(r,n){return e.concat(t(r),t(n))}}}},"endo");dt.endo=wa;var Wa=i(function(t){return function(e){return function(r){return r.reduce(function(n,o){return t.concat(n,o)},e)}}},"concatAll");dt.concatAll=Wa});var Cr=et(b=>{"use strict";var Ra=b&&b.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Aa=b&&b.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ue=b&&b.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Ra(e,t,r);return Aa(e,t),e};Object.defineProperty(b,"__esModule",{value:!0});b.semigroupProduct=b.semigroupSum=b.semigroupString=b.getFunctionSemigroup=b.semigroupAny=b.semigroupAll=b.fold=b.getIntercalateSemigroup=b.getMeetSemigroup=b.getJoinSemigroup=b.getDualSemigroup=b.getStructSemigroup=b.getTupleSemigroup=b.getFirstSemigroup=b.getLastSemigroup=b.getObjectSemigroup=b.semigroupVoid=b.concatAll=b.last=b.first=b.intercalate=b.tuple=b.struct=b.reverse=b.constant=b.max=b.min=void 0;var zr=pt(),Ea=Ue(xt()),Pr=Ue(Tr()),Dr=Ue(jt()),_a=i(function(t){return{concat:Dr.min(t)}},"min");b.min=_a;var qa=i(function(t){return{concat:Dr.max(t)}},"max");b.max=qa;var Sa=i(function(t){return{concat:function(){return t}}},"constant");b.constant=Sa;b.reverse=Pr.reverse;var Oa=i(function(t){return{concat:function(e,r){var n={};for(var o in t)Ea.has.call(t,o)&&(n[o]=t[o].concat(e[o],r[o]));return n}}},"struct");b.struct=Oa;var Ua=i(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return{concat:function(r,n){return t.map(function(o,s){return o.concat(r[s],n[s])})}}},"tuple");b.tuple=Ua;var Na=i(function(t){return function(e){return{concat:function(r,n){return e.concat(r,e.concat(t,n))}}}},"intercalate");b.intercalate=Na;var Fa=i(function(){return{concat:zr.identity}},"first");b.first=Fa;var Ba=i(function(){return{concat:function(t,e){return e}}},"last");b.last=Ba;b.concatAll=Pr.concatAll;b.semigroupVoid=b.constant(void 0);var La=i(function(){return{concat:function(t,e){return Object.assign({},t,e)}}},"getObjectSemigroup");b.getObjectSemigroup=La;b.getLastSemigroup=b.last;b.getFirstSemigroup=b.first;b.getTupleSemigroup=b.tuple;b.getStructSemigroup=b.struct;b.getDualSemigroup=b.reverse;b.getJoinSemigroup=b.max;b.getMeetSemigroup=b.min;b.getIntercalateSemigroup=b.intercalate;function Ta(t){var e=b.concatAll(t);return function(r,n){return n===void 0?e(r):e(r)(n)}}i(Ta,"fold");b.fold=Ta;b.semigroupAll={concat:function(t,e){return t&&e}};b.semigroupAny={concat:function(t,e){return t||e}};b.getFunctionSemigroup=zr.getSemigroup;b.semigroupString={concat:function(t,e){return t+e}};b.semigroupSum={concat:function(t,e){return t+e}};b.semigroupProduct={concat:function(t,e){return t*e}}});var oe=et(f=>{"use strict";var za=f&&f.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Pa=f&&f.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),jr=f&&f.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&za(e,t,r);return Pa(e,t),e},kt=f&&f.__spreadArray||function(t,e){for(var r=0,n=e.length,o=t.length;r<n;r++,o++)t[o]=e[r];return t};Object.defineProperty(f,"__esModule",{value:!0});f.reduceRight=f.foldMap=f.reduce=f.mapWithIndex=f.map=f.flatten=f.duplicate=f.extend=f.chain=f.ap=f.alt=f.altW=f.of=f.chunksOf=f.splitAt=f.chop=f.chainWithIndex=f.intersperse=f.prependAll=f.unzip=f.zip=f.zipWith=f.modifyAt=f.updateAt=f.sort=f.groupBy=f.group=f.reverse=f.concat=f.concatW=f.fromArray=f.unappend=f.unprepend=f.range=f.replicate=f.makeBy=f.fromReadonlyArray=f.rotate=f.union=f.sortBy=f.uniq=f.unsafeUpdateAt=f.unsafeInsertAt=f.append=f.appendW=f.prepend=f.prependW=f.isOutOfBound=f.isNonEmpty=f.empty=void 0;f.uncons=f.filterWithIndex=f.filter=f.groupSort=f.updateLast=f.modifyLast=f.updateHead=f.modifyHead=f.matchRight=f.matchLeft=f.concatAll=f.max=f.min=f.init=f.last=f.tail=f.head=f.apS=f.bind=f.bindTo=f.Do=f.Comonad=f.Alt=f.TraversableWithIndex=f.Traversable=f.FoldableWithIndex=f.Foldable=f.Monad=f.chainFirst=f.Chain=f.Applicative=f.apSecond=f.apFirst=f.Apply=f.FunctorWithIndex=f.Pointed=f.flap=f.Functor=f.getUnionSemigroup=f.getEq=f.getSemigroup=f.getShow=f.URI=f.extract=f.traverseWithIndex=f.sequence=f.traverse=f.reduceRightWithIndex=f.foldMapWithIndex=f.reduceWithIndex=void 0;f.readonlyNonEmptyArray=f.fold=f.prependToAll=f.insertAt=f.snoc=f.cons=f.unsnoc=void 0;var Ne=Dt(),kr=Ct(),Da=ae(),H=pt(),$r=Ut(),at=jr(xt()),Ca=jt(),Zr=jr(Cr());f.empty=at.emptyReadonlyArray;f.isNonEmpty=at.isNonEmpty;var ja=i(function(t,e){return t<0||t>=e.length},"isOutOfBound");f.isOutOfBound=ja;var ka=i(function(t){return function(e){return kt([t],e)}},"prependW");f.prependW=ka;f.prepend=f.prependW;var $a=i(function(t){return function(e){return kt(kt([],e),[t])}},"appendW");f.appendW=$a;f.append=f.appendW;var Za=i(function(t,e,r){if(f.isNonEmpty(r)){var n=at.fromReadonlyNonEmptyArray(r);return n.splice(t,0,e),n}return[e]},"unsafeInsertAt");f.unsafeInsertAt=Za;var Ka=i(function(t,e,r){if(r[t]===e)return r;var n=at.fromReadonlyNonEmptyArray(r);return n[t]=e,n},"unsafeUpdateAt");f.unsafeUpdateAt=Ka;var Ha=i(function(t){return function(e){if(e.length===1)return e;for(var r=[f.head(e)],n=f.tail(e),o=i(function(W){r.every(function(M){return!t.equals(M,W)})&&r.push(W)},"_loop_1"),s=0,h=n;s<h.length;s++){var y=h[s];o(y)}return r}},"uniq");f.uniq=Ha;var Va=i(function(t){if(f.isNonEmpty(t)){var e=Ca.getMonoid();return f.sort(t.reduce(e.concat,e.empty))}return H.identity},"sortBy");f.sortBy=Va;var Ga=i(function(t){var e=f.uniq(t);return function(r){return function(n){return e(H.pipe(n,$t(r)))}}},"union");f.union=Ga;var Xa=i(function(t){return function(e){var r=e.length,n=Math.round(t)%r;if(f.isOutOfBound(Math.abs(n),e)||n===0)return e;if(n<0){var o=f.splitAt(-n)(e),s=o[0],h=o[1];return H.pipe(h,$t(s))}else return f.rotate(n-r)(e)}},"rotate");f.rotate=Xa;var Qa=i(function(t){return f.isNonEmpty(t)?at.some(t):at.none},"fromReadonlyArray");f.fromReadonlyArray=Qa;var Ya=i(function(t){return function(e){for(var r=Math.max(0,Math.floor(e)),n=[t(0)],o=1;o<r;o++)n.push(t(o));return n}},"makeBy");f.makeBy=Ya;var Ja=i(function(t){return f.makeBy(function(){return t})},"replicate");f.replicate=Ja;var tu=i(function(t,e){return t<=e?f.makeBy(function(r){return t+r})(e-t+1):[t]},"range");f.range=tu;var eu=i(function(t){return[f.head(t),f.tail(t)]},"unprepend");f.unprepend=eu;var ru=i(function(t){return[f.init(t),f.last(t)]},"unappend");f.unappend=ru;var nu=i(function(t){return f.fromReadonlyArray(t.slice())},"fromArray");f.fromArray=nu;function Kr(t){return function(e){return e.concat(t)}}i(Kr,"concatW");f.concatW=Kr;function $t(t,e){return e?t.concat(e):function(r){return r.concat(t)}}i($t,"concat");f.concat=$t;var iu=i(function(t){return t.length===1?t:kt([f.last(t)],t.slice(0,-1).reverse())},"reverse");f.reverse=iu;function Hr(t){return function(e){var r=e.length;if(r===0)return f.empty;for(var n=[],o=e[0],s=[o],h=1;h<r;h++){var y=e[h];t.equals(y,o)?s.push(y):(n.push(s),o=y,s=[o])}return n.push(s),n}}i(Hr,"group");f.group=Hr;var au=i(function(t){return function(e){for(var r={},n=0,o=e;n<o.length;n++){var s=o[n],h=t(s);r.hasOwnProperty(h)?r[h].push(s):r[h]=[s]}return r}},"groupBy");f.groupBy=au;var uu=i(function(t){return function(e){return e.length===1?e:e.slice().sort(t.compare)}},"sort");f.sort=uu;var ou=i(function(t,e){return f.modifyAt(t,function(){return e})},"updateAt");f.updateAt=ou;var cu=i(function(t,e){return function(r){return f.isOutOfBound(t,r)?at.none:at.some(f.unsafeUpdateAt(t,e(r[t]),r))}},"modifyAt");f.modifyAt=cu;var fu=i(function(t,e,r){for(var n=[r(t[0],e[0])],o=Math.min(t.length,e.length),s=1;s<o;s++)n[s]=r(t[s],e[s]);return n},"zipWith");f.zipWith=fu;function Vr(t,e){return e===void 0?function(r){return Vr(r,t)}:f.zipWith(t,e,function(r,n){return[r,n]})}i(Vr,"zip");f.zip=Vr;var su=i(function(t){for(var e=[t[0][0]],r=[t[0][1]],n=1;n<t.length;n++)e[n]=t[n][0],r[n]=t[n][1];return[e,r]},"unzip");f.unzip=su;var lu=i(function(t){return function(e){for(var r=[t,e[0]],n=1;n<e.length;n++)r.push(t,e[n]);return r}},"prependAll");f.prependAll=lu;var hu=i(function(t){return function(e){var r=f.tail(e);return f.isNonEmpty(r)?H.pipe(r,f.prependAll(t),f.prepend(f.head(e))):e}},"intersperse");f.intersperse=hu;var pu=i(function(t){return function(e){for(var r=at.fromReadonlyNonEmptyArray(t(0,f.head(e))),n=1;n<e.length;n++)r.push.apply(r,t(n,e[n]));return r}},"chainWithIndex");f.chainWithIndex=pu;var du=i(function(t){return function(e){for(var r=t(e),n=r[0],o=r[1],s=[n],h=o;f.isNonEmpty(h);){var y=t(h),W=y[0],M=y[1];s.push(W),h=M}return s}},"chop");f.chop=du;var vu=i(function(t){return function(e){var r=Math.max(1,t);return r>=e.length?[e,f.empty]:[H.pipe(e.slice(1,r),f.prepend(f.head(e))),e.slice(r)]}},"splitAt");f.splitAt=vu;var mu=i(function(t){return f.chop(f.splitAt(t))},"chunksOf");f.chunksOf=mu;var gt=i(function(t,e){return H.pipe(t,f.map(e))},"_map"),Fe=i(function(t,e){return H.pipe(t,f.mapWithIndex(e))},"_mapWithIndex"),Zt=i(function(t,e){return H.pipe(t,f.ap(e))},"_ap"),Be=i(function(t,e){return H.pipe(t,f.chain(e))},"_chain"),Gr=i(function(t,e){return H.pipe(t,f.extend(e))},"_extend"),Kt=i(function(t,e,r){return H.pipe(t,f.reduce(e,r))},"_reduce"),Ht=i(function(t){var e=f.foldMap(t);return function(r,n){return H.pipe(r,e(n))}},"_foldMap"),Vt=i(function(t,e,r){return H.pipe(t,f.reduceRight(e,r))},"_reduceRight"),Le=i(function(t){var e=f.traverse(t);return function(r,n){return H.pipe(r,e(n))}},"_traverse"),Xr=i(function(t,e){return H.pipe(t,f.alt(e))},"_alt"),Te=i(function(t,e,r){return H.pipe(t,f.reduceWithIndex(e,r))},"_reduceWithIndex"),ze=i(function(t){var e=f.foldMapWithIndex(t);return function(r,n){return H.pipe(r,e(n))}},"_foldMapWithIndex"),Pe=i(function(t,e,r){return H.pipe(t,f.reduceRightWithIndex(e,r))},"_reduceRightWithIndex"),Qr=i(function(t){var e=f.traverseWithIndex(t);return function(r,n){return H.pipe(r,e(n))}},"_traverseWithIndex");f.of=at.singleton;var gu=i(function(t){return function(e){return H.pipe(e,Kr(t()))}},"altW");f.altW=gu;f.alt=f.altW;var yu=i(function(t){return f.chain(function(e){return H.pipe(t,f.map(e))})},"ap");f.ap=yu;var Iu=i(function(t){return f.chainWithIndex(function(e,r){return t(r)})},"chain");f.chain=Iu;var xu=i(function(t){return function(e){for(var r=f.tail(e),n=[t(e)];f.isNonEmpty(r);)n.push(t(r)),r=f.tail(r);return n}},"extend");f.extend=xu;f.duplicate=f.extend(H.identity);f.flatten=f.chain(H.identity);var bu=i(function(t){return f.mapWithIndex(function(e,r){return t(r)})},"map");f.map=bu;var Mu=i(function(t){return function(e){for(var r=[t(0,f.head(e))],n=1;n<e.length;n++)r.push(t(n,e[n]));return r}},"mapWithIndex");f.mapWithIndex=Mu;var wu=i(function(t,e){return f.reduceWithIndex(t,function(r,n,o){return e(n,o)})},"reduce");f.reduce=wu;var Wu=i(function(t){return function(e){return function(r){return r.slice(1).reduce(function(n,o){return t.concat(n,e(o))},e(r[0]))}}},"foldMap");f.foldMap=Wu;var Ru=i(function(t,e){return f.reduceRightWithIndex(t,function(r,n,o){return e(n,o)})},"reduceRight");f.reduceRight=Ru;var Au=i(function(t,e){return function(r){return r.reduce(function(n,o,s){return e(s,n,o)},t)}},"reduceWithIndex");f.reduceWithIndex=Au;var Eu=i(function(t){return function(e){return function(r){return r.slice(1).reduce(function(n,o,s){return t.concat(n,e(s+1,o))},e(0,r[0]))}}},"foldMapWithIndex");f.foldMapWithIndex=Eu;var _u=i(function(t,e){return function(r){return r.reduceRight(function(n,o,s){return e(s,o,n)},t)}},"reduceRightWithIndex");f.reduceRightWithIndex=_u;var qu=i(function(t){var e=f.traverseWithIndex(t);return function(r){return e(function(n,o){return r(o)})}},"traverse");f.traverse=qu;var Su=i(function(t){return f.traverseWithIndex(t)(H.SK)},"sequence");f.sequence=Su;var Ou=i(function(t){return function(e){return function(r){for(var n=t.map(e(0,f.head(r)),f.of),o=1;o<r.length;o++)n=t.ap(t.map(n,function(s){return function(h){return H.pipe(s,f.append(h))}}),e(o,r[o]));return n}}},"traverseWithIndex");f.traverseWithIndex=Ou;f.extract=at.head;f.URI="ReadonlyNonEmptyArray";var Uu=i(function(t){return{show:function(e){return"["+e.map(t.show).join(", ")+"]"}}},"getShow");f.getShow=Uu;var Nu=i(function(){return{concat:$t}},"getSemigroup");f.getSemigroup=Nu;var Fu=i(function(t){return Da.fromEquals(function(e,r){return e.length===r.length&&e.every(function(n,o){return t.equals(n,r[o])})})},"getEq");f.getEq=Fu;var Bu=i(function(t){var e=f.union(t);return{concat:function(r,n){return e(n)(r)}}},"getUnionSemigroup");f.getUnionSemigroup=Bu;f.Functor={URI:f.URI,map:gt};f.flap=$r.flap(f.Functor);f.Pointed={URI:f.URI,of:f.of};f.FunctorWithIndex={URI:f.URI,map:gt,mapWithIndex:Fe};f.Apply={URI:f.URI,map:gt,ap:Zt};f.apFirst=Ne.apFirst(f.Apply);f.apSecond=Ne.apSecond(f.Apply);f.Applicative={URI:f.URI,map:gt,ap:Zt,of:f.of};f.Chain={URI:f.URI,map:gt,ap:Zt,chain:Be};f.chainFirst=kr.chainFirst(f.Chain);f.Monad={URI:f.URI,map:gt,ap:Zt,of:f.of,chain:Be};f.Foldable={URI:f.URI,reduce:Kt,foldMap:Ht,reduceRight:Vt};f.FoldableWithIndex={URI:f.URI,reduce:Kt,foldMap:Ht,reduceRight:Vt,reduceWithIndex:Te,foldMapWithIndex:ze,reduceRightWithIndex:Pe};f.Traversable={URI:f.URI,map:gt,reduce:Kt,foldMap:Ht,reduceRight:Vt,traverse:Le,sequence:f.sequence};f.TraversableWithIndex={URI:f.URI,map:gt,mapWithIndex:Fe,reduce:Kt,foldMap:Ht,reduceRight:Vt,traverse:Le,sequence:f.sequence,reduceWithIndex:Te,foldMapWithIndex:ze,reduceRightWithIndex:Pe,traverseWithIndex:Qr};f.Alt={URI:f.URI,map:gt,alt:Xr};f.Comonad={URI:f.URI,map:gt,extend:Gr,extract:f.extract};f.Do=f.of(at.emptyRecord);f.bindTo=$r.bindTo(f.Functor);f.bind=kr.bind(f.Chain);f.apS=Ne.apS(f.Apply);f.head=f.extract;f.tail=at.tail;var Lu=i(function(t){return t[t.length-1]},"last");f.last=Lu;var Tu=i(function(t){return t.slice(0,-1)},"init");f.init=Tu;var zu=i(function(t){var e=Zr.min(t);return function(r){return r.reduce(e.concat)}},"min");f.min=zu;var Pu=i(function(t){var e=Zr.max(t);return function(r){return r.reduce(e.concat)}},"max");f.max=Pu;var Du=i(function(t){return function(e){return e.reduce(t.concat)}},"concatAll");f.concatAll=Du;var Cu=i(function(t){return function(e){return t(f.head(e),f.tail(e))}},"matchLeft");f.matchLeft=Cu;var ju=i(function(t){return function(e){return t(f.init(e),f.last(e))}},"matchRight");f.matchRight=ju;var ku=i(function(t){return function(e){return kt([t(f.head(e))],f.tail(e))}},"modifyHead");f.modifyHead=ku;var $u=i(function(t){return f.modifyHead(function(){return t})},"updateHead");f.updateHead=$u;var Zu=i(function(t){return function(e){return H.pipe(f.init(e),f.append(t(f.last(e))))}},"modifyLast");f.modifyLast=Zu;var Ku=i(function(t){return f.modifyLast(function(){return t})},"updateLast");f.updateLast=Ku;function Hu(t){var e=f.sort(t),r=Hr(t);return function(n){return f.isNonEmpty(n)?r(e(n)):f.empty}}i(Hu,"groupSort");f.groupSort=Hu;function Vu(t){return f.filterWithIndex(function(e,r){return t(r)})}i(Vu,"filter");f.filter=Vu;var Gu=i(function(t){return function(e){return f.fromReadonlyArray(e.filter(function(r,n){return t(n,r)}))}},"filterWithIndex");f.filterWithIndex=Gu;f.uncons=f.unprepend;f.unsnoc=f.unappend;function Xu(t,e){return e===void 0?f.prepend(t):H.pipe(e,f.prepend(t))}i(Xu,"cons");f.cons=Xu;var Qu=i(function(t,e){return H.pipe(t,$t([e]))},"snoc");f.snoc=Qu;var Yu=i(function(t,e){return function(r){return t<0||t>r.length?at.none:at.some(f.unsafeInsertAt(t,e,r))}},"insertAt");f.insertAt=Yu;f.prependToAll=f.prependAll;f.fold=f.concatAll;f.readonlyNonEmptyArray={URI:f.URI,of:f.of,map:gt,mapWithIndex:Fe,ap:Zt,chain:Be,extend:Gr,extract:f.extract,reduce:Kt,foldMap:Ht,reduceRight:Vt,traverse:Le,sequence:f.sequence,reduceWithIndex:Te,foldMapWithIndex:ze,reduceRightWithIndex:Pe,traverseWithIndex:Qr,alt:Xr}});var He=et(c=>{"use strict";var Ju=c&&c.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),to=c&&c.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Yr=c&&c.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Ju(e,t,r);return to(e,t),e},Gt=c&&c.__spreadArray||function(t,e){for(var r=0,n=e.length,o=t.length;r<n;r++,o++)t[o]=e[r];return t};Object.defineProperty(c,"__esModule",{value:!0});c.mapWithIndex=c.map=c.flatten=c.duplicate=c.extend=c.chain=c.ap=c.alt=c.altW=c.chunksOf=c.splitAt=c.chop=c.chainWithIndex=c.foldMap=c.foldMapWithIndex=c.intersperse=c.prependAll=c.unzip=c.zip=c.zipWith=c.of=c.copy=c.modifyAt=c.updateAt=c.insertAt=c.sort=c.groupBy=c.group=c.reverse=c.concat=c.concatW=c.unappend=c.unprepend=c.range=c.replicate=c.makeBy=c.fromArray=c.fromReadonlyNonEmptyArray=c.rotate=c.union=c.sortBy=c.uniq=c.unsafeUpdateAt=c.unsafeInsertAt=c.append=c.appendW=c.prepend=c.prependW=c.isOutOfBound=c.isNonEmpty=void 0;c.filterWithIndex=c.filter=c.groupSort=c.updateLast=c.modifyLast=c.updateHead=c.modifyHead=c.matchRight=c.matchLeft=c.concatAll=c.max=c.min=c.init=c.last=c.tail=c.head=c.apS=c.bind=c.bindTo=c.Do=c.Comonad=c.Alt=c.TraversableWithIndex=c.Traversable=c.FoldableWithIndex=c.Foldable=c.Monad=c.chainFirst=c.Chain=c.Applicative=c.apSecond=c.apFirst=c.Apply=c.FunctorWithIndex=c.Pointed=c.flap=c.Functor=c.getUnionSemigroup=c.getEq=c.getSemigroup=c.getShow=c.URI=c.extract=c.traverseWithIndex=c.sequence=c.traverse=c.reduceRightWithIndex=c.reduceRight=c.reduceWithIndex=c.reduce=void 0;c.nonEmptyArray=c.fold=c.prependToAll=c.snoc=c.cons=c.unsnoc=c.uncons=void 0;var De=Dt(),Jr=Ct(),G=pt(),tn=Ut(),bt=Yr(xt()),eo=jt(),ct=Yr(oe()),ro=i(function(t){return t.length>0},"isNonEmpty");c.isNonEmpty=ro;var no=i(function(t,e){return t<0||t>=e.length},"isOutOfBound");c.isOutOfBound=no;var io=i(function(t){return function(e){return Gt([t],e)}},"prependW");c.prependW=io;c.prepend=c.prependW;var ao=i(function(t){return function(e){return Gt(Gt([],e),[t])}},"appendW");c.appendW=ao;c.append=c.appendW;var uo=i(function(t,e,r){if(c.isNonEmpty(r)){var n=c.fromReadonlyNonEmptyArray(r);return n.splice(t,0,e),n}return[e]},"unsafeInsertAt");c.unsafeInsertAt=uo;var oo=i(function(t,e,r){var n=c.fromReadonlyNonEmptyArray(r);return n[t]=e,n},"unsafeUpdateAt");c.unsafeUpdateAt=oo;var co=i(function(t){return function(e){if(e.length===1)return c.copy(e);for(var r=[c.head(e)],n=c.tail(e),o=i(function(W){r.every(function(M){return!t.equals(M,W)})&&r.push(W)},"_loop_1"),s=0,h=n;s<h.length;s++){var y=h[s];o(y)}return r}},"uniq");c.uniq=co;var fo=i(function(t){if(c.isNonEmpty(t)){var e=eo.getMonoid();return c.sort(t.reduce(e.concat,e.empty))}return c.copy},"sortBy");c.sortBy=fo;var so=i(function(t){var e=c.uniq(t);return function(r){return function(n){return e(G.pipe(n,ce(r)))}}},"union");c.union=so;var lo=i(function(t){return function(e){var r=e.length,n=Math.round(t)%r;if(c.isOutOfBound(Math.abs(n),e)||n===0)return c.copy(e);if(n<0){var o=c.splitAt(-n)(e),s=o[0],h=o[1];return G.pipe(h,ce(s))}else return c.rotate(n-r)(e)}},"rotate");c.rotate=lo;c.fromReadonlyNonEmptyArray=bt.fromReadonlyNonEmptyArray;var ho=i(function(t){return c.isNonEmpty(t)?bt.some(t):bt.none},"fromArray");c.fromArray=ho;var po=i(function(t){return function(e){for(var r=Math.max(0,Math.floor(e)),n=[t(0)],o=1;o<r;o++)n.push(t(o));return n}},"makeBy");c.makeBy=po;var vo=i(function(t){return c.makeBy(function(){return t})},"replicate");c.replicate=vo;var mo=i(function(t,e){return t<=e?c.makeBy(function(r){return t+r})(e-t+1):[t]},"range");c.range=mo;var go=i(function(t){return[c.head(t),c.tail(t)]},"unprepend");c.unprepend=go;var yo=i(function(t){return[c.init(t),c.last(t)]},"unappend");c.unappend=yo;function en(t){return function(e){return e.concat(t)}}i(en,"concatW");c.concatW=en;function ce(t,e){return e?t.concat(e):function(r){return r.concat(t)}}i(ce,"concat");c.concat=ce;var Io=i(function(t){return Gt([c.last(t)],t.slice(0,-1).reverse())},"reverse");c.reverse=Io;function rn(t){return function(e){var r=e.length;if(r===0)return[];for(var n=[],o=e[0],s=[o],h=1;h<r;h++){var y=e[h];t.equals(y,o)?s.push(y):(n.push(s),o=y,s=[o])}return n.push(s),n}}i(rn,"group");c.group=rn;var xo=i(function(t){return function(e){for(var r={},n=0,o=e;n<o.length;n++){var s=o[n],h=t(s);r.hasOwnProperty(h)?r[h].push(s):r[h]=[s]}return r}},"groupBy");c.groupBy=xo;var bo=i(function(t){return function(e){return e.slice().sort(t.compare)}},"sort");c.sort=bo;var Mo=i(function(t,e){return function(r){return t<0||t>r.length?bt.none:bt.some(c.unsafeInsertAt(t,e,r))}},"insertAt");c.insertAt=Mo;var wo=i(function(t,e){return c.modifyAt(t,function(){return e})},"updateAt");c.updateAt=wo;var Wo=i(function(t,e){return function(r){return c.isOutOfBound(t,r)?bt.none:bt.some(c.unsafeUpdateAt(t,e(r[t]),r))}},"modifyAt");c.modifyAt=Wo;c.copy=c.fromReadonlyNonEmptyArray;var Ro=i(function(t){return[t]},"of");c.of=Ro;var Ao=i(function(t,e,r){for(var n=[r(t[0],e[0])],o=Math.min(t.length,e.length),s=1;s<o;s++)n[s]=r(t[s],e[s]);return n},"zipWith");c.zipWith=Ao;function nn(t,e){return e===void 0?function(r){return nn(r,t)}:c.zipWith(t,e,function(r,n){return[r,n]})}i(nn,"zip");c.zip=nn;var Eo=i(function(t){for(var e=[t[0][0]],r=[t[0][1]],n=1;n<t.length;n++)e[n]=t[n][0],r[n]=t[n][1];return[e,r]},"unzip");c.unzip=Eo;var _o=i(function(t){return function(e){for(var r=[t,e[0]],n=1;n<e.length;n++)r.push(t,e[n]);return r}},"prependAll");c.prependAll=_o;var qo=i(function(t){return function(e){var r=c.tail(e);return c.isNonEmpty(r)?G.pipe(r,c.prependAll(t),c.prepend(c.head(e))):c.copy(e)}},"intersperse");c.intersperse=qo;c.foldMapWithIndex=ct.foldMapWithIndex;c.foldMap=ct.foldMap;var So=i(function(t){return function(e){for(var r=c.fromReadonlyNonEmptyArray(t(0,c.head(e))),n=1;n<e.length;n++)r.push.apply(r,t(n,e[n]));return r}},"chainWithIndex");c.chainWithIndex=So;var Oo=i(function(t){return function(e){for(var r=t(e),n=r[0],o=r[1],s=[n],h=o;c.isNonEmpty(h);){var y=t(h),W=y[0],M=y[1];s.push(W),h=M}return s}},"chop");c.chop=Oo;var Uo=i(function(t){return function(e){var r=Math.max(1,t);return r>=e.length?[c.copy(e),[]]:[G.pipe(e.slice(1,r),c.prepend(c.head(e))),e.slice(r)]}},"splitAt");c.splitAt=Uo;var No=i(function(t){return c.chop(c.splitAt(t))},"chunksOf");c.chunksOf=No;var yt=i(function(t,e){return G.pipe(t,c.map(e))},"_map"),Ce=i(function(t,e){return G.pipe(t,c.mapWithIndex(e))},"_mapWithIndex"),Xt=i(function(t,e){return G.pipe(t,c.ap(e))},"_ap"),je=i(function(t,e){return G.pipe(t,c.chain(e))},"_chain"),an=i(function(t,e){return G.pipe(t,c.extend(e))},"_extend"),Qt=i(function(t,e,r){return G.pipe(t,c.reduce(e,r))},"_reduce"),Yt=i(function(t){var e=c.foldMap(t);return function(r,n){return G.pipe(r,e(n))}},"_foldMap"),Jt=i(function(t,e,r){return G.pipe(t,c.reduceRight(e,r))},"_reduceRight"),ke=i(function(t){var e=c.traverse(t);return function(r,n){return G.pipe(r,e(n))}},"_traverse"),un=i(function(t,e){return G.pipe(t,c.alt(e))},"_alt"),$e=i(function(t,e,r){return G.pipe(t,c.reduceWithIndex(e,r))},"_reduceWithIndex"),Ze=i(function(t){var e=c.foldMapWithIndex(t);return function(r,n){return G.pipe(r,e(n))}},"_foldMapWithIndex"),Ke=i(function(t,e,r){return G.pipe(t,c.reduceRightWithIndex(e,r))},"_reduceRightWithIndex"),on=i(function(t){var e=c.traverseWithIndex(t);return function(r,n){return G.pipe(r,e(n))}},"_traverseWithIndex"),Fo=i(function(t){return function(e){return G.pipe(e,en(t()))}},"altW");c.altW=Fo;c.alt=c.altW;var Bo=i(function(t){return c.chain(function(e){return G.pipe(t,c.map(e))})},"ap");c.ap=Bo;var Lo=i(function(t){return c.chainWithIndex(function(e,r){return t(r)})},"chain");c.chain=Lo;var To=i(function(t){return function(e){for(var r=c.tail(e),n=[t(e)];c.isNonEmpty(r);)n.push(t(r)),r=c.tail(r);return n}},"extend");c.extend=To;c.duplicate=c.extend(G.identity);c.flatten=c.chain(G.identity);var zo=i(function(t){return c.mapWithIndex(function(e,r){return t(r)})},"map");c.map=zo;var Po=i(function(t){return function(e){for(var r=[t(0,c.head(e))],n=1;n<e.length;n++)r.push(t(n,e[n]));return r}},"mapWithIndex");c.mapWithIndex=Po;c.reduce=ct.reduce;c.reduceWithIndex=ct.reduceWithIndex;c.reduceRight=ct.reduceRight;c.reduceRightWithIndex=ct.reduceRightWithIndex;var Do=i(function(t){var e=c.traverseWithIndex(t);return function(r){return e(function(n,o){return r(o)})}},"traverse");c.traverse=Do;var Co=i(function(t){return c.traverseWithIndex(t)(function(e,r){return r})},"sequence");c.sequence=Co;var jo=i(function(t){return function(e){return function(r){for(var n=t.map(e(0,c.head(r)),c.of),o=1;o<r.length;o++)n=t.ap(t.map(n,function(s){return function(h){return G.pipe(s,c.append(h))}}),e(o,r[o]));return n}}},"traverseWithIndex");c.traverseWithIndex=jo;c.extract=ct.head;c.URI="NonEmptyArray";c.getShow=ct.getShow;var ko=i(function(){return{concat:ce}},"getSemigroup");c.getSemigroup=ko;c.getEq=ct.getEq;var $o=i(function(t){var e=c.union(t);return{concat:function(r,n){return e(n)(r)}}},"getUnionSemigroup");c.getUnionSemigroup=$o;c.Functor={URI:c.URI,map:yt};c.flap=tn.flap(c.Functor);c.Pointed={URI:c.URI,of:c.of};c.FunctorWithIndex={URI:c.URI,map:yt,mapWithIndex:Ce};c.Apply={URI:c.URI,map:yt,ap:Xt};c.apFirst=De.apFirst(c.Apply);c.apSecond=De.apSecond(c.Apply);c.Applicative={URI:c.URI,map:yt,ap:Xt,of:c.of};c.Chain={URI:c.URI,map:yt,ap:Xt,chain:je};c.chainFirst=Jr.chainFirst(c.Chain);c.Monad={URI:c.URI,map:yt,ap:Xt,of:c.of,chain:je};c.Foldable={URI:c.URI,reduce:Qt,foldMap:Yt,reduceRight:Jt};c.FoldableWithIndex={URI:c.URI,reduce:Qt,foldMap:Yt,reduceRight:Jt,reduceWithIndex:$e,foldMapWithIndex:Ze,reduceRightWithIndex:Ke};c.Traversable={URI:c.URI,map:yt,reduce:Qt,foldMap:Yt,reduceRight:Jt,traverse:ke,sequence:c.sequence};c.TraversableWithIndex={URI:c.URI,map:yt,mapWithIndex:Ce,reduce:Qt,foldMap:Yt,reduceRight:Jt,traverse:ke,sequence:c.sequence,reduceWithIndex:$e,foldMapWithIndex:Ze,reduceRightWithIndex:Ke,traverseWithIndex:on};c.Alt={URI:c.URI,map:yt,alt:un};c.Comonad={URI:c.URI,map:yt,extend:an,extract:c.extract};c.Do=c.of(bt.emptyRecord);c.bindTo=tn.bindTo(c.Functor);c.bind=Jr.bind(c.Chain);c.apS=De.apS(c.Apply);c.head=ct.head;var Zo=i(function(t){return t.slice(1)},"tail");c.tail=Zo;c.last=ct.last;var Ko=i(function(t){return t.slice(0,-1)},"init");c.init=Ko;c.min=ct.min;c.max=ct.max;var Ho=i(function(t){return function(e){return e.reduce(t.concat)}},"concatAll");c.concatAll=Ho;var Vo=i(function(t){return function(e){return t(c.head(e),c.tail(e))}},"matchLeft");c.matchLeft=Vo;var Go=i(function(t){return function(e){return t(c.init(e),c.last(e))}},"matchRight");c.matchRight=Go;var Xo=i(function(t){return function(e){return Gt([t(c.head(e))],c.tail(e))}},"modifyHead");c.modifyHead=Xo;var Qo=i(function(t){return c.modifyHead(function(){return t})},"updateHead");c.updateHead=Qo;var Yo=i(function(t){return function(e){return G.pipe(c.init(e),c.append(t(c.last(e))))}},"modifyLast");c.modifyLast=Yo;var Jo=i(function(t){return c.modifyLast(function(){return t})},"updateLast");c.updateLast=Jo;function tc(t){var e=c.sort(t),r=rn(t);return function(n){return c.isNonEmpty(n)?r(e(n)):[]}}i(tc,"groupSort");c.groupSort=tc;function ec(t){return c.filterWithIndex(function(e,r){return t(r)})}i(ec,"filter");c.filter=ec;var rc=i(function(t){return function(e){return c.fromArray(e.filter(function(r,n){return t(n,r)}))}},"filterWithIndex");c.filterWithIndex=rc;c.uncons=c.unprepend;c.unsnoc=c.unappend;function nc(t,e){return e===void 0?c.prepend(t):G.pipe(e,c.prepend(t))}i(nc,"cons");c.cons=nc;var ic=i(function(t,e){return G.pipe(t,c.append(e))},"snoc");c.snoc=ic;c.prependToAll=c.prependAll;c.fold=ct.concatAll;c.nonEmptyArray={URI:c.URI,of:c.of,map:yt,mapWithIndex:Ce,ap:Xt,chain:je,extend:an,extract:c.extract,reduce:Qt,foldMap:Yt,reduceRight:Jt,traverse:ke,sequence:c.sequence,reduceWithIndex:$e,foldMapWithIndex:Ze,reduceRightWithIndex:Ke,traverseWithIndex:on,alt:un}});var Ge=et(F=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0});F.right=F.left=F.flap=F.Functor=F.Bifunctor=F.URI=F.bimap=F.mapLeft=F.map=F.separated=void 0;var Ve=pt(),ac=Ut(),uc=i(function(t,e){return{left:t,right:e}},"separated");F.separated=uc;var oc=i(function(t,e){return Ve.pipe(t,F.map(e))},"_map"),cc=i(function(t,e){return Ve.pipe(t,F.mapLeft(e))},"_mapLeft"),fc=i(function(t,e,r){return Ve.pipe(t,F.bimap(e,r))},"_bimap"),sc=i(function(t){return function(e){return F.separated(F.left(e),t(F.right(e)))}},"map");F.map=sc;var lc=i(function(t){return function(e){return F.separated(t(F.left(e)),F.right(e))}},"mapLeft");F.mapLeft=lc;var hc=i(function(t,e){return function(r){return F.separated(t(F.left(r)),e(F.right(r)))}},"bimap");F.bimap=hc;F.URI="Separated";F.Bifunctor={URI:F.URI,mapLeft:cc,bimap:fc};F.Functor={URI:F.URI,map:oc};F.flap=ac.flap(F.Functor);var pc=i(function(t){return t.left},"left");F.left=pc;var dc=i(function(t){return t.right},"right");F.right=dc});var Xe=et(ft=>{"use strict";var vc=ft&&ft.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),mc=ft&&ft.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),gc=ft&&ft.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&vc(e,t,r);return mc(e,t),e};Object.defineProperty(ft,"__esModule",{value:!0});ft.filterE=ft.witherDefault=ft.wiltDefault=void 0;var cn=gc(xt());function yc(t,e){return function(r){var n=t.traverse(r);return function(o,s){return r.map(n(o,s),e.separate)}}}i(yc,"wiltDefault");ft.wiltDefault=yc;function Ic(t,e){return function(r){var n=t.traverse(r);return function(o,s){return r.map(n(o,s),e.compact)}}}i(Ic,"witherDefault");ft.witherDefault=Ic;function xc(t){return function(e){var r=t.wither(e);return function(n){return function(o){return r(o,function(s){return e.map(n(s),function(h){return h?cn.some(s):cn.none})})}}}}i(xc,"filterE");ft.filterE=xc});var Qe=et(fe=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});fe.guard=void 0;function bc(t,e){return function(r){return r?e.of(void 0):t.zero()}}i(bc,"guard");fe.guard=bc});var xn=et(a=>{"use strict";var Mc=a&&a.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),wc=a&&a.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ye=a&&a.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Mc(e,t,r);return wc(e,t),e},Wc=a&&a.__spreadArray||function(t,e){for(var r=0,n=e.length,o=t.length;r<n;r++,o++)t[o]=e[r];return t};Object.defineProperty(a,"__esModule",{value:!0});a.sort=a.lefts=a.rights=a.reverse=a.modifyAt=a.deleteAt=a.updateAt=a.insertAt=a.findLastIndex=a.findLastMap=a.findLast=a.findFirstMap=a.findFirst=a.findIndex=a.dropLeftWhile=a.dropRight=a.dropLeft=a.spanLeft=a.takeLeftWhile=a.takeRight=a.takeLeft=a.init=a.tail=a.last=a.head=a.lookup=a.isOutOfBound=a.size=a.scanRight=a.scanLeft=a.chainWithIndex=a.foldRight=a.matchRight=a.matchRightW=a.foldLeft=a.matchLeft=a.matchLeftW=a.match=a.matchW=a.fromEither=a.fromOption=a.fromPredicate=a.replicate=a.makeBy=a.appendW=a.append=a.prependW=a.prepend=a.isNonEmpty=a.isEmpty=void 0;a.sequence=a.traverse=a.reduceRightWithIndex=a.reduceRight=a.reduceWithIndex=a.foldMap=a.reduce=a.foldMapWithIndex=a.duplicate=a.extend=a.filterWithIndex=a.partitionMapWithIndex=a.partitionMap=a.partitionWithIndex=a.partition=a.compact=a.filterMap=a.filterMapWithIndex=a.filter=a.separate=a.mapWithIndex=a.map=a.flatten=a.chain=a.ap=a.alt=a.altW=a.zero=a.of=a._chainRecBreadthFirst=a._chainRecDepthFirst=a.difference=a.intersection=a.union=a.concat=a.concatW=a.comprehension=a.fromOptionK=a.chunksOf=a.splitAt=a.chop=a.sortBy=a.uniq=a.elem=a.rotate=a.intersperse=a.prependAll=a.unzip=a.zip=a.zipWith=void 0;a.toArray=a.unsafeDeleteAt=a.unsafeUpdateAt=a.unsafeInsertAt=a.fromEitherK=a.FromEither=a.filterE=a.Witherable=a.ChainRecBreadthFirst=a.chainRecBreadthFirst=a.ChainRecDepthFirst=a.chainRecDepthFirst=a.TraversableWithIndex=a.Traversable=a.FoldableWithIndex=a.Foldable=a.FilterableWithIndex=a.Filterable=a.Compactable=a.Extend=a.Alternative=a.guard=a.Zero=a.Alt=a.Unfoldable=a.chainFirst=a.Monad=a.Chain=a.Applicative=a.apSecond=a.apFirst=a.Apply=a.FunctorWithIndex=a.Pointed=a.flap=a.Functor=a.getDifferenceMagma=a.getIntersectionSemigroup=a.getUnionMonoid=a.getUnionSemigroup=a.getOrd=a.getEq=a.getMonoid=a.getSemigroup=a.getShow=a.URI=a.unfold=a.wilt=a.wither=a.traverseWithIndex=void 0;a.readonlyArray=a.prependToAll=a.snoc=a.cons=a.range=a.apS=a.bind=a.bindTo=a.Do=a.exists=a.some=a.every=a.empty=a.fromArray=void 0;var Je=Dt(),fn=Ct(),Rc=ae(),Ac=Se(),P=pt(),sn=Ut(),T=Ye(xt()),Ec=Ye(Ae()),_c=jt(),z=Ye(oe()),tr=Ge(),er=Xe(),qc=Qe(),Sc=i(function(t){return t.length===0},"isEmpty");a.isEmpty=Sc;a.isNonEmpty=z.isNonEmpty;a.prepend=z.prepend;a.prependW=z.prependW;a.append=z.append;a.appendW=z.appendW;var Oc=i(function(t,e){return t<=0?a.empty:z.makeBy(e)(t)},"makeBy");a.makeBy=Oc;var Uc=i(function(t,e){return a.makeBy(t,function(){return e})},"replicate");a.replicate=Uc;function Nc(t){return function(e){return t(e)?[e]:a.empty}}i(Nc,"fromPredicate");a.fromPredicate=Nc;var Fc=i(function(t){return T.isNone(t)?a.empty:[t.value]},"fromOption");a.fromOption=Fc;var Bc=i(function(t){return T.isLeft(t)?a.empty:[t.right]},"fromEither");a.fromEither=Bc;var Lc=i(function(t,e){return function(r){return a.isNonEmpty(r)?e(r):t()}},"matchW");a.matchW=Lc;a.match=a.matchW;var Tc=i(function(t,e){return function(r){return a.isNonEmpty(r)?e(z.head(r),z.tail(r)):t()}},"matchLeftW");a.matchLeftW=Tc;a.matchLeft=a.matchLeftW;a.foldLeft=a.matchLeft;var zc=i(function(t,e){return function(r){return a.isNonEmpty(r)?e(z.init(r),z.last(r)):t()}},"matchRightW");a.matchRightW=zc;a.matchRight=a.matchRightW;a.foldRight=a.matchRight;var Pc=i(function(t){return function(e){if(a.isEmpty(e))return a.empty;for(var r=[],n=0;n<e.length;n++)r.push.apply(r,t(n,e[n]));return r}},"chainWithIndex");a.chainWithIndex=Pc;var Dc=i(function(t,e){return function(r){var n=r.length,o=new Array(n+1);o[0]=t;for(var s=0;s<n;s++)o[s+1]=e(o[s],r[s]);return o}},"scanLeft");a.scanLeft=Dc;var Cc=i(function(t,e){return function(r){var n=r.length,o=new Array(n+1);o[n]=t;for(var s=n-1;s>=0;s--)o[s]=e(r[s],o[s+1]);return o}},"scanRight");a.scanRight=Cc;var jc=i(function(t){return t.length},"size");a.size=jc;a.isOutOfBound=z.isOutOfBound;function ln(t,e){return e===void 0?function(r){return ln(t,r)}:a.isOutOfBound(t,e)?T.none:T.some(e[t])}i(ln,"lookup");a.lookup=ln;var kc=i(function(t){return a.isNonEmpty(t)?T.some(z.head(t)):T.none},"head");a.head=kc;var $c=i(function(t){return a.isNonEmpty(t)?T.some(z.last(t)):T.none},"last");a.last=$c;var Zc=i(function(t){return a.isNonEmpty(t)?T.some(z.tail(t)):T.none},"tail");a.tail=Zc;var Kc=i(function(t){return a.isNonEmpty(t)?T.some(z.init(t)):T.none},"init");a.init=Kc;var Hc=i(function(t){return function(e){return a.isOutOfBound(t,e)?e:t===0?a.empty:e.slice(0,t)}},"takeLeft");a.takeLeft=Hc;var Vc=i(function(t){return function(e){return a.isOutOfBound(t,e)?e:t===0?a.empty:e.slice(-t)}},"takeRight");a.takeRight=Vc;function Gc(t){return function(e){for(var r=[],n=0,o=e;n<o.length;n++){var s=o[n];if(!t(s))break;r.push(s)}var h=r.length;return h===e.length?e:h===0?a.empty:r}}i(Gc,"takeLeftWhile");a.takeLeftWhile=Gc;var hn=i(function(t,e){for(var r=t.length,n=0;n<r&&e(t[n]);n++);return n},"spanLeftIndex");function Xc(t){return function(e){var r=a.splitAt(hn(e,t))(e),n=r[0],o=r[1];return{init:n,rest:o}}}i(Xc,"spanLeft");a.spanLeft=Xc;var Qc=i(function(t){return function(e){return t<=0||a.isEmpty(e)?e:t>=e.length?a.empty:e.slice(t,e.length)}},"dropLeft");a.dropLeft=Qc;var Yc=i(function(t){return function(e){return t<=0||a.isEmpty(e)?e:t>=e.length?a.empty:e.slice(0,e.length-t)}},"dropRight");a.dropRight=Yc;function Jc(t){return function(e){var r=hn(e,t);return r===0?e:r===e.length?a.empty:e.slice(r)}}i(Jc,"dropLeftWhile");a.dropLeftWhile=Jc;var tf=i(function(t){return function(e){for(var r=0;r<e.length;r++)if(t(e[r]))return T.some(r);return T.none}},"findIndex");a.findIndex=tf;function ef(t){return function(e){for(var r=0;r<e.length;r++)if(t(e[r]))return T.some(e[r]);return T.none}}i(ef,"findFirst");a.findFirst=ef;var rf=i(function(t){return function(e){for(var r=0;r<e.length;r++){var n=t(e[r]);if(T.isSome(n))return n}return T.none}},"findFirstMap");a.findFirstMap=rf;function nf(t){return function(e){for(var r=e.length-1;r>=0;r--)if(t(e[r]))return T.some(e[r]);return T.none}}i(nf,"findLast");a.findLast=nf;var af=i(function(t){return function(e){for(var r=e.length-1;r>=0;r--){var n=t(e[r]);if(T.isSome(n))return n}return T.none}},"findLastMap");a.findLastMap=af;var uf=i(function(t){return function(e){for(var r=e.length-1;r>=0;r--)if(t(e[r]))return T.some(r);return T.none}},"findLastIndex");a.findLastIndex=uf;var of=i(function(t,e){return function(r){return t<0||t>r.length?T.none:T.some(z.unsafeInsertAt(t,e,r))}},"insertAt");a.insertAt=of;var cf=i(function(t,e){return a.modifyAt(t,function(){return e})},"updateAt");a.updateAt=cf;var ff=i(function(t){return function(e){return a.isOutOfBound(t,e)?T.none:T.some(a.unsafeDeleteAt(t,e))}},"deleteAt");a.deleteAt=ff;var sf=i(function(t,e){return function(r){return a.isOutOfBound(t,r)?T.none:T.some(a.unsafeUpdateAt(t,e(r[t]),r))}},"modifyAt");a.modifyAt=sf;var lf=i(function(t){return t.length<=1?t:t.slice().reverse()},"reverse");a.reverse=lf;var hf=i(function(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];n._tag==="Right"&&e.push(n.right)}return e},"rights");a.rights=hf;var pf=i(function(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];n._tag==="Left"&&e.push(n.left)}return e},"lefts");a.lefts=pf;var df=i(function(t){return function(e){return e.length<=1?e:e.slice().sort(t.compare)}},"sort");a.sort=df;var vf=i(function(t,e,r){for(var n=[],o=Math.min(t.length,e.length),s=0;s<o;s++)n[s]=r(t[s],e[s]);return n},"zipWith");a.zipWith=vf;function pn(t,e){return e===void 0?function(r){return pn(r,t)}:a.zipWith(t,e,function(r,n){return[r,n]})}i(pn,"zip");a.zip=pn;var mf=i(function(t){for(var e=[],r=[],n=0;n<t.length;n++)e[n]=t[n][0],r[n]=t[n][1];return[e,r]},"unzip");a.unzip=mf;var gf=i(function(t){var e=z.prependAll(t);return function(r){return a.isNonEmpty(r)?e(r):r}},"prependAll");a.prependAll=gf;var yf=i(function(t){var e=z.intersperse(t);return function(r){return a.isNonEmpty(r)?e(r):r}},"intersperse");a.intersperse=yf;var If=i(function(t){var e=z.rotate(t);return function(r){return a.isNonEmpty(r)?e(r):r}},"rotate");a.rotate=If;function se(t){return function(e,r){if(r===void 0){var n=se(t);return function(h){return n(e,h)}}for(var o=i(function(h){return t.equals(h,e)},"predicate"),s=0;s<r.length;s++)if(o(r[s]))return!0;return!1}}i(se,"elem");a.elem=se;var xf=i(function(t){var e=z.uniq(t);return function(r){return a.isNonEmpty(r)?e(r):r}},"uniq");a.uniq=xf;var bf=i(function(t){var e=z.sortBy(t);return function(r){return a.isNonEmpty(r)?e(r):r}},"sortBy");a.sortBy=bf;var Mf=i(function(t){var e=z.chop(t);return function(r){return a.isNonEmpty(r)?e(r):a.empty}},"chop");a.chop=Mf;var wf=i(function(t){return function(e){return t>=1&&a.isNonEmpty(e)?z.splitAt(t)(e):a.isEmpty(e)?[e,a.empty]:[a.empty,e]}},"splitAt");a.splitAt=wf;var Wf=i(function(t){var e=z.chunksOf(t);return function(r){return a.isNonEmpty(r)?e(r):a.empty}},"chunksOf");a.chunksOf=Wf;var Rf=i(function(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return a.fromOption(t.apply(void 0,e))}},"fromOptionK");a.fromOptionK=Rf;function Af(t,e,r){r===void 0&&(r=i(function(){return!0},"g"));var n=i(function(o,s){return a.isNonEmpty(s)?P.pipe(z.head(s),a.chain(function(h){return n(P.pipe(o,a.append(h)),z.tail(s))})):r.apply(void 0,o)?[e.apply(void 0,o)]:a.empty},"go");return n(a.empty,t)}i(Af,"comprehension");a.comprehension=Af;var Ef=i(function(t){return function(e){return a.isEmpty(e)?t:a.isEmpty(t)?e:e.concat(t)}},"concatW");a.concatW=Ef;a.concat=a.concatW;function rr(t){var e=z.union(t);return function(r,n){if(n===void 0){var o=rr(t);return function(s){return o(s,r)}}return a.isNonEmpty(r)&&a.isNonEmpty(n)?e(n)(r):a.isNonEmpty(r)?r:n}}i(rr,"union");a.union=rr;function nr(t){var e=se(t);return function(r,n){if(n===void 0){var o=nr(t);return function(s){return o(s,r)}}return r.filter(function(s){return e(s,n)})}}i(nr,"intersection");a.intersection=nr;function ir(t){var e=se(t);return function(r,n){if(n===void 0){var o=ir(t);return function(s){return o(s,r)}}return r.filter(function(s){return!e(s,n)})}}i(ir,"difference");a.difference=ir;var rt=i(function(t,e){return P.pipe(t,a.map(e))},"_map"),le=i(function(t,e){return P.pipe(t,a.mapWithIndex(e))},"_mapWithIndex"),Mt=i(function(t,e){return P.pipe(t,a.ap(e))},"_ap"),te=i(function(t,e){return P.pipe(t,a.chain(e))},"_chain"),he=i(function(t,e){return P.pipe(t,a.filter(e))},"_filter"),pe=i(function(t,e){return P.pipe(t,a.filterMap(e))},"_filterMap"),de=i(function(t,e){return P.pipe(t,a.partition(e))},"_partition"),ve=i(function(t,e){return P.pipe(t,a.partitionMap(e))},"_partitionMap"),dn=i(function(t,e){return P.pipe(t,a.partitionWithIndex(e))},"_partitionWithIndex"),vn=i(function(t,e){return P.pipe(t,a.partitionMapWithIndex(e))},"_partitionMapWithIndex"),ar=i(function(t,e){return P.pipe(t,a.alt(e))},"_alt"),Rt=i(function(t,e,r){return P.pipe(t,a.reduce(e,r))},"_reduce"),Nt=i(function(t){var e=a.foldMap(t);return function(r,n){return P.pipe(r,e(n))}},"_foldMap"),Ft=i(function(t,e,r){return P.pipe(t,a.reduceRight(e,r))},"_reduceRight"),ur=i(function(t,e,r){return P.pipe(t,a.reduceWithIndex(e,r))},"_reduceWithIndex"),or=i(function(t){var e=a.foldMapWithIndex(t);return function(r,n){return P.pipe(r,e(n))}},"_foldMapWithIndex"),cr=i(function(t,e,r){return P.pipe(t,a.reduceRightWithIndex(e,r))},"_reduceRightWithIndex"),mn=i(function(t,e){return P.pipe(t,a.filterMapWithIndex(e))},"_filterMapWithIndex"),gn=i(function(t,e){return P.pipe(t,a.filterWithIndex(e))},"_filterWithIndex"),yn=i(function(t,e){return P.pipe(t,a.extend(e))},"_extend"),me=i(function(t){var e=a.traverse(t);return function(r,n){return P.pipe(r,e(n))}},"_traverse"),In=i(function(t){var e=a.traverseWithIndex(t);return function(r,n){return P.pipe(r,e(n))}},"_traverseWithIndex"),_f=i(function(t,e){return P.pipe(t,a.chainRecDepthFirst(e))},"_chainRecDepthFirst");a._chainRecDepthFirst=_f;var qf=i(function(t,e){return P.pipe(t,a.chainRecBreadthFirst(e))},"_chainRecBreadthFirst");a._chainRecBreadthFirst=qf;a.of=z.of;var Sf=i(function(){return a.empty},"zero");a.zero=Sf;var Of=i(function(t){return function(e){return e.concat(t())}},"altW");a.altW=Of;a.alt=a.altW;var Uf=i(function(t){return a.chain(function(e){return P.pipe(t,a.map(e))})},"ap");a.ap=Uf;var Nf=i(function(t){return function(e){return P.pipe(e,a.chainWithIndex(function(r,n){return t(n)}))}},"chain");a.chain=Nf;a.flatten=a.chain(P.identity);var Ff=i(function(t){return function(e){return e.map(function(r){return t(r)})}},"map");a.map=Ff;var Bf=i(function(t){return function(e){return e.map(function(r,n){return t(n,r)})}},"mapWithIndex");a.mapWithIndex=Bf;var Lf=i(function(t){for(var e=[],r=[],n=0,o=t;n<o.length;n++){var s=o[n];s._tag==="Left"?e.push(s.left):r.push(s.right)}return tr.separated(e,r)},"separate");a.separate=Lf;var Tf=i(function(t){return function(e){return e.filter(t)}},"filter");a.filter=Tf;var zf=i(function(t){return function(e){for(var r=[],n=0;n<e.length;n++){var o=t(n,e[n]);T.isSome(o)&&r.push(o.value)}return r}},"filterMapWithIndex");a.filterMapWithIndex=zf;var Pf=i(function(t){return a.filterMapWithIndex(function(e,r){return t(r)})},"filterMap");a.filterMap=Pf;a.compact=a.filterMap(P.identity);var Df=i(function(t){return a.partitionWithIndex(function(e,r){return t(r)})},"partition");a.partition=Df;var Cf=i(function(t){return function(e){for(var r=[],n=[],o=0;o<e.length;o++){var s=e[o];t(o,s)?n.push(s):r.push(s)}return tr.separated(r,n)}},"partitionWithIndex");a.partitionWithIndex=Cf;var jf=i(function(t){return a.partitionMapWithIndex(function(e,r){return t(r)})},"partitionMap");a.partitionMap=jf;var kf=i(function(t){return function(e){for(var r=[],n=[],o=0;o<e.length;o++){var s=t(o,e[o]);s._tag==="Left"?r.push(s.left):n.push(s.right)}return tr.separated(r,n)}},"partitionMapWithIndex");a.partitionMapWithIndex=kf;var $f=i(function(t){return function(e){return e.filter(function(r,n){return t(n,r)})}},"filterWithIndex");a.filterWithIndex=$f;var Zf=i(function(t){return function(e){return e.map(function(r,n){return t(e.slice(n))})}},"extend");a.extend=Zf;a.duplicate=a.extend(P.identity);var Kf=i(function(t){return function(e){return function(r){return r.reduce(function(n,o,s){return t.concat(n,e(s,o))},t.empty)}}},"foldMapWithIndex");a.foldMapWithIndex=Kf;var Hf=i(function(t,e){return a.reduceWithIndex(t,function(r,n,o){return e(n,o)})},"reduce");a.reduce=Hf;var Vf=i(function(t){var e=a.foldMapWithIndex(t);return function(r){return e(function(n,o){return r(o)})}},"foldMap");a.foldMap=Vf;var Gf=i(function(t,e){return function(r){for(var n=r.length,o=t,s=0;s<n;s++)o=e(s,o,r[s]);return o}},"reduceWithIndex");a.reduceWithIndex=Gf;var Xf=i(function(t,e){return a.reduceRightWithIndex(t,function(r,n,o){return e(n,o)})},"reduceRight");a.reduceRight=Xf;var Qf=i(function(t,e){return function(r){return r.reduceRight(function(n,o,s){return e(s,o,n)},t)}},"reduceRightWithIndex");a.reduceRightWithIndex=Qf;var Yf=i(function(t){var e=a.traverseWithIndex(t);return function(r){return e(function(n,o){return r(o)})}},"traverse");a.traverse=Yf;var Jf=i(function(t){return function(e){return Rt(e,t.of(a.zero()),function(r,n){return t.ap(t.map(r,function(o){return function(s){return P.pipe(o,a.append(s))}}),n)})}},"sequence");a.sequence=Jf;var ts=i(function(t){return function(e){return a.reduceWithIndex(t.of(a.zero()),function(r,n,o){return t.ap(t.map(n,function(s){return function(h){return P.pipe(s,a.append(h))}}),e(r,o))})}},"traverseWithIndex");a.traverseWithIndex=ts;var es=i(function(t){var e=fr(t);return function(r){return function(n){return e(n,r)}}},"wither");a.wither=es;var rs=i(function(t){var e=sr(t);return function(r){return function(n){return e(n,r)}}},"wilt");a.wilt=rs;var ns=i(function(t,e){for(var r=[],n=t;;){var o=e(n);if(T.isSome(o)){var s=o.value,h=s[0],y=s[1];r.push(h),n=y}else break}return r},"unfold");a.unfold=ns;a.URI="ReadonlyArray";var is=i(function(t){return{show:function(e){return"["+e.map(t.show).join(", ")+"]"}}},"getShow");a.getShow=is;var as=i(function(){return{concat:function(t,e){return a.isEmpty(t)?e:a.isEmpty(e)?t:t.concat(e)}}},"getSemigroup");a.getSemigroup=as;var us=i(function(){return{concat:a.getSemigroup().concat,empty:a.empty}},"getMonoid");a.getMonoid=us;var os=i(function(t){return Rc.fromEquals(function(e,r){return e.length===r.length&&e.every(function(n,o){return t.equals(n,r[o])})})},"getEq");a.getEq=os;var cs=i(function(t){return _c.fromCompare(function(e,r){for(var n=e.length,o=r.length,s=Math.min(n,o),h=0;h<s;h++){var y=t.compare(e[h],r[h]);if(y!==0)return y}return Ec.Ord.compare(n,o)})},"getOrd");a.getOrd=cs;var fs=i(function(t){var e=rr(t);return{concat:function(r,n){return e(n)(r)}}},"getUnionSemigroup");a.getUnionSemigroup=fs;var ss=i(function(t){return{concat:a.getUnionSemigroup(t).concat,empty:a.empty}},"getUnionMonoid");a.getUnionMonoid=ss;var ls=i(function(t){var e=nr(t);return{concat:function(r,n){return e(n)(r)}}},"getIntersectionSemigroup");a.getIntersectionSemigroup=ls;var hs=i(function(t){var e=ir(t);return{concat:function(r,n){return e(n)(r)}}},"getDifferenceMagma");a.getDifferenceMagma=hs;a.Functor={URI:a.URI,map:rt};a.flap=sn.flap(a.Functor);a.Pointed={URI:a.URI,of:a.of};a.FunctorWithIndex={URI:a.URI,map:rt,mapWithIndex:le};a.Apply={URI:a.URI,map:rt,ap:Mt};a.apFirst=Je.apFirst(a.Apply);a.apSecond=Je.apSecond(a.Apply);a.Applicative={URI:a.URI,map:rt,ap:Mt,of:a.of};a.Chain={URI:a.URI,map:rt,ap:Mt,chain:te};a.Monad={URI:a.URI,map:rt,ap:Mt,of:a.of,chain:te};a.chainFirst=fn.chainFirst(a.Chain);a.Unfoldable={URI:a.URI,unfold:a.unfold};a.Alt={URI:a.URI,map:rt,alt:ar};a.Zero={URI:a.URI,zero:a.zero};a.guard=qc.guard(a.Zero,a.Pointed);a.Alternative={URI:a.URI,map:rt,ap:Mt,of:a.of,alt:ar,zero:a.zero};a.Extend={URI:a.URI,map:rt,extend:yn};a.Compactable={URI:a.URI,compact:a.compact,separate:a.separate};a.Filterable={URI:a.URI,map:rt,compact:a.compact,separate:a.separate,filter:he,filterMap:pe,partition:de,partitionMap:ve};a.FilterableWithIndex={URI:a.URI,map:rt,mapWithIndex:le,compact:a.compact,separate:a.separate,filter:he,filterMap:pe,partition:de,partitionMap:ve,partitionMapWithIndex:vn,partitionWithIndex:dn,filterMapWithIndex:mn,filterWithIndex:gn};a.Foldable={URI:a.URI,reduce:Rt,foldMap:Nt,reduceRight:Ft};a.FoldableWithIndex={URI:a.URI,reduce:Rt,foldMap:Nt,reduceRight:Ft,reduceWithIndex:ur,foldMapWithIndex:or,reduceRightWithIndex:cr};a.Traversable={URI:a.URI,map:rt,reduce:Rt,foldMap:Nt,reduceRight:Ft,traverse:me,sequence:a.sequence};a.TraversableWithIndex={URI:a.URI,map:rt,mapWithIndex:le,reduce:Rt,foldMap:Nt,reduceRight:Ft,reduceWithIndex:ur,foldMapWithIndex:or,reduceRightWithIndex:cr,traverse:me,sequence:a.sequence,traverseWithIndex:In};var ps=i(function(t){return function(e){for(var r=Wc([],t(e)),n=[];r.length>0;){var o=r.shift();T.isLeft(o)?r.unshift.apply(r,t(o.left)):n.push(o.right)}return n}},"chainRecDepthFirst");a.chainRecDepthFirst=ps;a.ChainRecDepthFirst={URI:a.URI,map:rt,ap:Mt,chain:te,chainRec:a._chainRecDepthFirst};var ds=i(function(t){return function(e){var r=t(e),n=[],o=[];function s(M){T.isLeft(M)?t(M.left).forEach(function(K){return n.push(K)}):o.push(M.right)}i(s,"go");for(var h=0,y=r;h<y.length;h++){var W=y[h];s(W)}for(;n.length>0;)s(n.shift());return o}},"chainRecBreadthFirst");a.chainRecBreadthFirst=ds;a.ChainRecBreadthFirst={URI:a.URI,map:rt,ap:Mt,chain:te,chainRec:a._chainRecBreadthFirst};var fr=er.witherDefault(a.Traversable,a.Compactable),sr=er.wiltDefault(a.Traversable,a.Compactable);a.Witherable={URI:a.URI,map:rt,compact:a.compact,separate:a.separate,filter:he,filterMap:pe,partition:de,partitionMap:ve,reduce:Rt,foldMap:Nt,reduceRight:Ft,traverse:me,sequence:a.sequence,wither:fr,wilt:sr};a.filterE=er.filterE(a.Witherable);a.FromEither={URI:a.URI,fromEither:a.fromEither};a.fromEitherK=Ac.fromEitherK(a.FromEither);a.unsafeInsertAt=z.unsafeInsertAt;var vs=i(function(t,e,r){return a.isNonEmpty(r)?z.unsafeUpdateAt(t,e,r):r},"unsafeUpdateAt");a.unsafeUpdateAt=vs;var ms=i(function(t,e){var r=e.slice();return r.splice(t,1),r},"unsafeDeleteAt");a.unsafeDeleteAt=ms;var gs=i(function(t){return t.slice()},"toArray");a.toArray=gs;var ys=i(function(t){return a.isEmpty(t)?a.empty:t.slice()},"fromArray");a.fromArray=ys;a.empty=z.empty;var Is=i(function(t){return function(e){return e.every(t)}},"every");a.every=Is;var xs=i(function(t){return function(e){return e.some(t)}},"some");a.some=xs;a.exists=a.some;a.Do=a.of(T.emptyRecord);a.bindTo=sn.bindTo(a.Functor);a.bind=fn.bind(a.Chain);a.apS=Je.apS(a.Apply);a.range=z.range;a.cons=z.cons;a.snoc=z.snoc;a.prependToAll=a.prependAll;a.readonlyArray={URI:a.URI,compact:a.compact,separate:a.separate,map:rt,ap:Mt,of:a.of,chain:te,filter:he,filterMap:pe,partition:de,partitionMap:ve,mapWithIndex:le,partitionMapWithIndex:vn,partitionWithIndex:dn,filterMapWithIndex:mn,filterWithIndex:gn,alt:ar,zero:a.zero,unfold:a.unfold,reduce:Rt,foldMap:Nt,reduceRight:Ft,traverse:me,sequence:a.sequence,reduceWithIndex:ur,foldMapWithIndex:or,reduceRightWithIndex:cr,traverseWithIndex:In,extend:yn,wither:fr,wilt:sr}});var On=et(u=>{"use strict";var bs=u&&u.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ms=u&&u.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),lr=u&&u.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&bs(e,t,r);return Ms(e,t),e};Object.defineProperty(u,"__esModule",{value:!0});u.lefts=u.rights=u.reverse=u.modifyAt=u.deleteAt=u.updateAt=u.insertAt=u.copy=u.findLastIndex=u.findLastMap=u.findLast=u.findFirstMap=u.findFirst=u.findIndex=u.dropLeftWhile=u.dropRight=u.dropLeft=u.spanLeft=u.takeLeftWhile=u.takeRight=u.takeLeft=u.init=u.tail=u.last=u.head=u.lookup=u.isOutOfBound=u.size=u.scanRight=u.scanLeft=u.chainWithIndex=u.foldRight=u.matchRight=u.matchRightW=u.foldLeft=u.matchLeft=u.matchLeftW=u.match=u.matchW=u.fromEither=u.fromOption=u.fromPredicate=u.replicate=u.makeBy=u.appendW=u.append=u.prependW=u.prepend=u.isNonEmpty=u.isEmpty=void 0;u.traverseWithIndex=u.sequence=u.traverse=u.reduceRightWithIndex=u.reduceRight=u.reduceWithIndex=u.reduce=u.foldMapWithIndex=u.foldMap=u.duplicate=u.extend=u.filterWithIndex=u.alt=u.altW=u.partitionMapWithIndex=u.partitionMap=u.partitionWithIndex=u.partition=u.filter=u.separate=u.compact=u.filterMap=u.filterMapWithIndex=u.mapWithIndex=u.flatten=u.chain=u.ap=u.map=u.zero=u.of=u.difference=u.intersection=u.union=u.concat=u.concatW=u.comprehension=u.fromOptionK=u.chunksOf=u.splitAt=u.chop=u.sortBy=u.uniq=u.elem=u.rotate=u.intersperse=u.prependAll=u.unzip=u.zip=u.zipWith=u.sort=void 0;u.some=u.every=u.unsafeDeleteAt=u.unsafeUpdateAt=u.unsafeInsertAt=u.fromEitherK=u.FromEither=u.filterE=u.ChainRecBreadthFirst=u.chainRecBreadthFirst=u.ChainRecDepthFirst=u.chainRecDepthFirst=u.Witherable=u.TraversableWithIndex=u.Traversable=u.FoldableWithIndex=u.Foldable=u.FilterableWithIndex=u.Filterable=u.Compactable=u.Extend=u.Alternative=u.guard=u.Zero=u.Alt=u.Unfoldable=u.Monad=u.chainFirst=u.Chain=u.Applicative=u.apSecond=u.apFirst=u.Apply=u.FunctorWithIndex=u.Pointed=u.flap=u.Functor=u.getDifferenceMagma=u.getIntersectionSemigroup=u.getUnionMonoid=u.getUnionSemigroup=u.getOrd=u.getEq=u.getMonoid=u.getSemigroup=u.getShow=u.URI=u.unfold=u.wilt=u.wither=void 0;u.array=u.prependToAll=u.snoc=u.cons=u.empty=u.range=u.apS=u.bind=u.bindTo=u.Do=u.exists=void 0;var hr=Dt(),bn=Ct(),ws=Se(),k=pt(),Mn=Ut(),ut=lr(xt()),$=lr(He()),X=lr(xn()),pr=Ge(),dr=Xe(),Ws=Qe(),Rs=i(function(t){return t.length===0},"isEmpty");u.isEmpty=Rs;u.isNonEmpty=$.isNonEmpty;u.prepend=$.prepend;u.prependW=$.prependW;u.append=$.append;u.appendW=$.appendW;var As=i(function(t,e){return t<=0?[]:$.makeBy(e)(t)},"makeBy");u.makeBy=As;var Es=i(function(t,e){return u.makeBy(t,function(){return e})},"replicate");u.replicate=Es;function _s(t){return function(e){return t(e)?[e]:[]}}i(_s,"fromPredicate");u.fromPredicate=_s;var qs=i(function(t){return ut.isNone(t)?[]:[t.value]},"fromOption");u.fromOption=qs;var Ss=i(function(t){return ut.isLeft(t)?[]:[t.right]},"fromEither");u.fromEither=Ss;var Os=i(function(t,e){return function(r){return u.isNonEmpty(r)?e(r):t()}},"matchW");u.matchW=Os;u.match=u.matchW;var Us=i(function(t,e){return function(r){return u.isNonEmpty(r)?e($.head(r),$.tail(r)):t()}},"matchLeftW");u.matchLeftW=Us;u.matchLeft=u.matchLeftW;u.foldLeft=u.matchLeft;var Ns=i(function(t,e){return function(r){return u.isNonEmpty(r)?e($.init(r),$.last(r)):t()}},"matchRightW");u.matchRightW=Ns;u.matchRight=u.matchRightW;u.foldRight=u.matchRight;var Fs=i(function(t){return function(e){for(var r=[],n=0;n<e.length;n++)r.push.apply(r,t(n,e[n]));return r}},"chainWithIndex");u.chainWithIndex=Fs;var Bs=i(function(t,e){return function(r){var n=r.length,o=new Array(n+1);o[0]=t;for(var s=0;s<n;s++)o[s+1]=e(o[s],r[s]);return o}},"scanLeft");u.scanLeft=Bs;var Ls=i(function(t,e){return function(r){var n=r.length,o=new Array(n+1);o[n]=t;for(var s=n-1;s>=0;s--)o[s]=e(r[s],o[s+1]);return o}},"scanRight");u.scanRight=Ls;var Ts=i(function(t){return t.length},"size");u.size=Ts;u.isOutOfBound=$.isOutOfBound;u.lookup=X.lookup;u.head=X.head;u.last=X.last;var zs=i(function(t){return u.isNonEmpty(t)?ut.some($.tail(t)):ut.none},"tail");u.tail=zs;var Ps=i(function(t){return u.isNonEmpty(t)?ut.some($.init(t)):ut.none},"init");u.init=Ps;var Ds=i(function(t){return function(e){return u.isOutOfBound(t,e)?u.copy(e):e.slice(0,t)}},"takeLeft");u.takeLeft=Ds;var Cs=i(function(t){return function(e){return u.isOutOfBound(t,e)?u.copy(e):t===0?[]:e.slice(-t)}},"takeRight");u.takeRight=Cs;function js(t){return function(e){for(var r=[],n=0,o=e;n<o.length;n++){var s=o[n];if(!t(s))break;r.push(s)}return r}}i(js,"takeLeftWhile");u.takeLeftWhile=js;var wn=i(function(t,e){for(var r=t.length,n=0;n<r&&e(t[n]);n++);return n},"spanLeftIndex");function ks(t){return function(e){var r=u.splitAt(wn(e,t))(e),n=r[0],o=r[1];return{init:n,rest:o}}}i(ks,"spanLeft");u.spanLeft=ks;var $s=i(function(t){return function(e){return t<=0||u.isEmpty(e)?u.copy(e):t>=e.length?[]:e.slice(t,e.length)}},"dropLeft");u.dropLeft=$s;var Zs=i(function(t){return function(e){return t<=0||u.isEmpty(e)?u.copy(e):t>=e.length?[]:e.slice(0,e.length-t)}},"dropRight");u.dropRight=Zs;function Ks(t){return function(e){return e.slice(wn(e,t))}}i(Ks,"dropLeftWhile");u.dropLeftWhile=Ks;u.findIndex=X.findIndex;function Hs(t){return X.findFirst(t)}i(Hs,"findFirst");u.findFirst=Hs;u.findFirstMap=X.findFirstMap;function Vs(t){return X.findLast(t)}i(Vs,"findLast");u.findLast=Vs;u.findLastMap=X.findLastMap;u.findLastIndex=X.findLastIndex;var Gs=i(function(t){return t.slice()},"copy");u.copy=Gs;var Xs=i(function(t,e){return function(r){return t<0||t>r.length?ut.none:ut.some(u.unsafeInsertAt(t,e,r))}},"insertAt");u.insertAt=Xs;var Qs=i(function(t,e){return u.modifyAt(t,function(){return e})},"updateAt");u.updateAt=Qs;var Ys=i(function(t){return function(e){return u.isOutOfBound(t,e)?ut.none:ut.some(u.unsafeDeleteAt(t,e))}},"deleteAt");u.deleteAt=Ys;var Js=i(function(t,e){return function(r){return u.isOutOfBound(t,r)?ut.none:ut.some(u.unsafeUpdateAt(t,e(r[t]),r))}},"modifyAt");u.modifyAt=Js;var tl=i(function(t){return u.isEmpty(t)?[]:t.slice().reverse()},"reverse");u.reverse=tl;var el=i(function(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];n._tag==="Right"&&e.push(n.right)}return e},"rights");u.rights=el;var rl=i(function(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];n._tag==="Left"&&e.push(n.left)}return e},"lefts");u.lefts=rl;var nl=i(function(t){return function(e){return e.length<=1?u.copy(e):e.slice().sort(t.compare)}},"sort");u.sort=nl;var il=i(function(t,e,r){for(var n=[],o=Math.min(t.length,e.length),s=0;s<o;s++)n[s]=r(t[s],e[s]);return n},"zipWith");u.zipWith=il;function Wn(t,e){return e===void 0?function(r){return Wn(r,t)}:u.zipWith(t,e,function(r,n){return[r,n]})}i(Wn,"zip");u.zip=Wn;var al=i(function(t){for(var e=[],r=[],n=0;n<t.length;n++)e[n]=t[n][0],r[n]=t[n][1];return[e,r]},"unzip");u.unzip=al;var ul=i(function(t){var e=$.prependAll(t);return function(r){return u.isNonEmpty(r)?e(r):[]}},"prependAll");u.prependAll=ul;var ol=i(function(t){var e=$.intersperse(t);return function(r){return u.isNonEmpty(r)?e(r):u.copy(r)}},"intersperse");u.intersperse=ol;var cl=i(function(t){var e=$.rotate(t);return function(r){return u.isNonEmpty(r)?e(r):u.copy(r)}},"rotate");u.rotate=cl;u.elem=X.elem;var fl=i(function(t){var e=$.uniq(t);return function(r){return u.isNonEmpty(r)?e(r):u.copy(r)}},"uniq");u.uniq=fl;var sl=i(function(t){var e=$.sortBy(t);return function(r){return u.isNonEmpty(r)?e(r):u.copy(r)}},"sortBy");u.sortBy=sl;var ll=i(function(t){var e=$.chop(t);return function(r){return u.isNonEmpty(r)?e(r):[]}},"chop");u.chop=ll;var hl=i(function(t){return function(e){return t>=1&&u.isNonEmpty(e)?$.splitAt(t)(e):u.isEmpty(e)?[u.copy(e),[]]:[[],u.copy(e)]}},"splitAt");u.splitAt=hl;var pl=i(function(t){var e=$.chunksOf(t);return function(r){return u.isNonEmpty(r)?e(r):[]}},"chunksOf");u.chunksOf=pl;var dl=i(function(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return u.fromOption(t.apply(void 0,e))}},"fromOptionK");u.fromOptionK=dl;function vl(t,e,r){r===void 0&&(r=i(function(){return!0},"g"));var n=i(function(o,s){return u.isNonEmpty(s)?k.pipe($.head(s),u.chain(function(h){return n(k.pipe(o,u.append(h)),$.tail(s))})):r.apply(void 0,o)?[e.apply(void 0,o)]:[]},"go");return n([],t)}i(vl,"comprehension");u.comprehension=vl;var ml=i(function(t){return function(e){return u.isEmpty(e)?u.copy(t):u.isEmpty(t)?u.copy(e):e.concat(t)}},"concatW");u.concatW=ml;u.concat=u.concatW;function vr(t){var e=$.union(t);return function(r,n){if(n===void 0){var o=vr(t);return function(s){return o(s,r)}}return u.isNonEmpty(r)&&u.isNonEmpty(n)?e(n)(r):u.isNonEmpty(r)?u.copy(r):u.copy(n)}}i(vr,"union");u.union=vr;function mr(t){var e=u.elem(t);return function(r,n){if(n===void 0){var o=mr(t);return function(s){return o(s,r)}}return r.filter(function(s){return e(s,n)})}}i(mr,"intersection");u.intersection=mr;function gr(t){var e=u.elem(t);return function(r,n){if(n===void 0){var o=gr(t);return function(s){return o(s,r)}}return r.filter(function(s){return!e(s,n)})}}i(gr,"difference");u.difference=gr;var nt=i(function(t,e){return k.pipe(t,u.map(e))},"_map"),ge=i(function(t,e){return k.pipe(t,u.mapWithIndex(e))},"_mapWithIndex"),wt=i(function(t,e){return k.pipe(t,u.ap(e))},"_ap"),ee=i(function(t,e){return k.pipe(t,u.chain(e))},"_chain"),ye=i(function(t,e){return k.pipe(t,u.filter(e))},"_filter"),Ie=i(function(t,e){return k.pipe(t,u.filterMap(e))},"_filterMap"),xe=i(function(t,e){return k.pipe(t,u.partition(e))},"_partition"),be=i(function(t,e){return k.pipe(t,u.partitionMap(e))},"_partitionMap"),Rn=i(function(t,e){return k.pipe(t,u.partitionWithIndex(e))},"_partitionWithIndex"),An=i(function(t,e){return k.pipe(t,u.partitionMapWithIndex(e))},"_partitionMapWithIndex"),yr=i(function(t,e){return k.pipe(t,u.alt(e))},"_alt"),At=i(function(t,e,r){return k.pipe(t,u.reduce(e,r))},"_reduce"),Bt=i(function(t){var e=u.foldMap(t);return function(r,n){return k.pipe(r,e(n))}},"_foldMap"),Lt=i(function(t,e,r){return k.pipe(t,u.reduceRight(e,r))},"_reduceRight"),Ir=i(function(t,e,r){return k.pipe(t,u.reduceWithIndex(e,r))},"_reduceWithIndex"),xr=i(function(t){var e=u.foldMapWithIndex(t);return function(r,n){return k.pipe(r,e(n))}},"_foldMapWithIndex"),br=i(function(t,e,r){return k.pipe(t,u.reduceRightWithIndex(e,r))},"_reduceRightWithIndex"),En=i(function(t,e){return k.pipe(t,u.filterMapWithIndex(e))},"_filterMapWithIndex"),_n=i(function(t,e){return k.pipe(t,u.filterWithIndex(e))},"_filterWithIndex"),qn=i(function(t,e){return k.pipe(t,u.extend(e))},"_extend"),Me=i(function(t){var e=u.traverse(t);return function(r,n){return k.pipe(r,e(n))}},"_traverse"),Sn=i(function(t){var e=u.traverseWithIndex(t);return function(r,n){return k.pipe(r,e(n))}},"_traverseWithIndex"),gl=X._chainRecDepthFirst,yl=X._chainRecBreadthFirst;u.of=$.of;var Il=i(function(){return[]},"zero");u.zero=Il;var xl=i(function(t){return function(e){return e.map(function(r){return t(r)})}},"map");u.map=xl;var bl=i(function(t){return u.chain(function(e){return k.pipe(t,u.map(e))})},"ap");u.ap=bl;var Ml=i(function(t){return function(e){return k.pipe(e,u.chainWithIndex(function(r,n){return t(n)}))}},"chain");u.chain=Ml;u.flatten=u.chain(k.identity);var wl=i(function(t){return function(e){return e.map(function(r,n){return t(n,r)})}},"mapWithIndex");u.mapWithIndex=wl;var Wl=i(function(t){return function(e){for(var r=[],n=0;n<e.length;n++){var o=t(n,e[n]);ut.isSome(o)&&r.push(o.value)}return r}},"filterMapWithIndex");u.filterMapWithIndex=Wl;var Rl=i(function(t){return u.filterMapWithIndex(function(e,r){return t(r)})},"filterMap");u.filterMap=Rl;u.compact=u.filterMap(k.identity);var Al=i(function(t){for(var e=[],r=[],n=0,o=t;n<o.length;n++){var s=o[n];s._tag==="Left"?e.push(s.left):r.push(s.right)}return pr.separated(e,r)},"separate");u.separate=Al;var El=i(function(t){return function(e){return e.filter(t)}},"filter");u.filter=El;var _l=i(function(t){return u.partitionWithIndex(function(e,r){return t(r)})},"partition");u.partition=_l;var ql=i(function(t){return function(e){for(var r=[],n=[],o=0;o<e.length;o++){var s=e[o];t(o,s)?n.push(s):r.push(s)}return pr.separated(r,n)}},"partitionWithIndex");u.partitionWithIndex=ql;var Sl=i(function(t){return u.partitionMapWithIndex(function(e,r){return t(r)})},"partitionMap");u.partitionMap=Sl;var Ol=i(function(t){return function(e){for(var r=[],n=[],o=0;o<e.length;o++){var s=t(o,e[o]);s._tag==="Left"?r.push(s.left):n.push(s.right)}return pr.separated(r,n)}},"partitionMapWithIndex");u.partitionMapWithIndex=Ol;var Ul=i(function(t){return function(e){return e.concat(t())}},"altW");u.altW=Ul;u.alt=u.altW;var Nl=i(function(t){return function(e){return e.filter(function(r,n){return t(n,r)})}},"filterWithIndex");u.filterWithIndex=Nl;var Fl=i(function(t){return function(e){return e.map(function(r,n){return t(e.slice(n))})}},"extend");u.extend=Fl;u.duplicate=u.extend(k.identity);u.foldMap=X.foldMap;u.foldMapWithIndex=X.foldMapWithIndex;u.reduce=X.reduce;u.reduceWithIndex=X.reduceWithIndex;u.reduceRight=X.reduceRight;u.reduceRightWithIndex=X.reduceRightWithIndex;var Bl=i(function(t){var e=u.traverseWithIndex(t);return function(r){return e(function(n,o){return r(o)})}},"traverse");u.traverse=Bl;var Ll=i(function(t){return function(e){return At(e,t.of(u.zero()),function(r,n){return t.ap(t.map(r,function(o){return function(s){return k.pipe(o,u.append(s))}}),n)})}},"sequence");u.sequence=Ll;var Tl=i(function(t){return function(e){return u.reduceWithIndex(t.of(u.zero()),function(r,n,o){return t.ap(t.map(n,function(s){return function(h){return k.pipe(s,u.append(h))}}),e(r,o))})}},"traverseWithIndex");u.traverseWithIndex=Tl;var zl=i(function(t){var e=Mr(t);return function(r){return function(n){return e(n,r)}}},"wither");u.wither=zl;var Pl=i(function(t){var e=wr(t);return function(r){return function(n){return e(n,r)}}},"wilt");u.wilt=Pl;var Dl=i(function(t,e){for(var r=[],n=t;;){var o=e(n);if(ut.isSome(o)){var s=o.value,h=s[0],y=s[1];r.push(h),n=y}else break}return r},"unfold");u.unfold=Dl;u.URI="Array";u.getShow=X.getShow;var Cl=i(function(){return{concat:function(t,e){return t.concat(e)}}},"getSemigroup");u.getSemigroup=Cl;var jl=i(function(){return{concat:u.getSemigroup().concat,empty:[]}},"getMonoid");u.getMonoid=jl;u.getEq=X.getEq;u.getOrd=X.getOrd;var kl=i(function(t){var e=vr(t);return{concat:function(r,n){return e(n)(r)}}},"getUnionSemigroup");u.getUnionSemigroup=kl;var $l=i(function(t){return{concat:u.getUnionSemigroup(t).concat,empty:[]}},"getUnionMonoid");u.getUnionMonoid=$l;var Zl=i(function(t){var e=mr(t);return{concat:function(r,n){return e(n)(r)}}},"getIntersectionSemigroup");u.getIntersectionSemigroup=Zl;var Kl=i(function(t){var e=gr(t);return{concat:function(r,n){return e(n)(r)}}},"getDifferenceMagma");u.getDifferenceMagma=Kl;u.Functor={URI:u.URI,map:nt};u.flap=Mn.flap(u.Functor);u.Pointed={URI:u.URI,of:u.of};u.FunctorWithIndex={URI:u.URI,map:nt,mapWithIndex:ge};u.Apply={URI:u.URI,map:nt,ap:wt};u.apFirst=hr.apFirst(u.Apply);u.apSecond=hr.apSecond(u.Apply);u.Applicative={URI:u.URI,map:nt,ap:wt,of:u.of};u.Chain={URI:u.URI,map:nt,ap:wt,chain:ee};u.chainFirst=bn.chainFirst(u.Chain);u.Monad={URI:u.URI,map:nt,ap:wt,of:u.of,chain:ee};u.Unfoldable={URI:u.URI,unfold:u.unfold};u.Alt={URI:u.URI,map:nt,alt:yr};u.Zero={URI:u.URI,zero:u.zero};u.guard=Ws.guard(u.Zero,u.Pointed);u.Alternative={URI:u.URI,map:nt,ap:wt,of:u.of,alt:yr,zero:u.zero};u.Extend={URI:u.URI,map:nt,extend:qn};u.Compactable={URI:u.URI,compact:u.compact,separate:u.separate};u.Filterable={URI:u.URI,map:nt,compact:u.compact,separate:u.separate,filter:ye,filterMap:Ie,partition:xe,partitionMap:be};u.FilterableWithIndex={URI:u.URI,map:nt,mapWithIndex:ge,compact:u.compact,separate:u.separate,filter:ye,filterMap:Ie,partition:xe,partitionMap:be,partitionMapWithIndex:An,partitionWithIndex:Rn,filterMapWithIndex:En,filterWithIndex:_n};u.Foldable={URI:u.URI,reduce:At,foldMap:Bt,reduceRight:Lt};u.FoldableWithIndex={URI:u.URI,reduce:At,foldMap:Bt,reduceRight:Lt,reduceWithIndex:Ir,foldMapWithIndex:xr,reduceRightWithIndex:br};u.Traversable={URI:u.URI,map:nt,reduce:At,foldMap:Bt,reduceRight:Lt,traverse:Me,sequence:u.sequence};u.TraversableWithIndex={URI:u.URI,map:nt,mapWithIndex:ge,reduce:At,foldMap:Bt,reduceRight:Lt,reduceWithIndex:Ir,foldMapWithIndex:xr,reduceRightWithIndex:br,traverse:Me,sequence:u.sequence,traverseWithIndex:Sn};var Mr=dr.witherDefault(u.Traversable,u.Compactable),wr=dr.wiltDefault(u.Traversable,u.Compactable);u.Witherable={URI:u.URI,map:nt,compact:u.compact,separate:u.separate,filter:ye,filterMap:Ie,partition:xe,partitionMap:be,reduce:At,foldMap:Bt,reduceRight:Lt,traverse:Me,sequence:u.sequence,wither:Mr,wilt:wr};u.chainRecDepthFirst=X.chainRecDepthFirst;u.ChainRecDepthFirst={URI:u.URI,map:nt,ap:wt,chain:ee,chainRec:gl};u.chainRecBreadthFirst=X.chainRecBreadthFirst;u.ChainRecBreadthFirst={URI:u.URI,map:nt,ap:wt,chain:ee,chainRec:yl};u.filterE=dr.filterE(u.Witherable);u.FromEither={URI:u.URI,fromEither:u.fromEither};u.fromEitherK=ws.fromEitherK(u.FromEither);u.unsafeInsertAt=$.unsafeInsertAt;var Hl=i(function(t,e,r){return u.isNonEmpty(r)?$.unsafeUpdateAt(t,e,r):[]},"unsafeUpdateAt");u.unsafeUpdateAt=Hl;var Vl=i(function(t,e){var r=e.slice();return r.splice(t,1),r},"unsafeDeleteAt");u.unsafeDeleteAt=Vl;u.every=X.every;var Gl=i(function(t){return function(e){return e.some(t)}},"some");u.some=Gl;u.exists=u.some;u.Do=u.of(ut.emptyRecord);u.bindTo=Mn.bindTo(u.Functor);u.bind=bn.bind(u.Chain);u.apS=hr.apS(u.Apply);u.range=$.range;u.empty=[];u.cons=$.cons;u.snoc=$.snoc;u.prependToAll=u.prependAll;u.array={URI:u.URI,compact:u.compact,separate:u.separate,map:nt,ap:wt,of:u.of,chain:ee,filter:ye,filterMap:Ie,partition:xe,partitionMap:be,mapWithIndex:ge,partitionMapWithIndex:An,partitionWithIndex:Rn,filterMapWithIndex:En,filterWithIndex:_n,alt:yr,zero:u.zero,unfold:u.unfold,reduce:At,foldMap:Bt,reduceRight:Lt,traverse:Me,sequence:u.sequence,reduceWithIndex:Ir,foldMapWithIndex:xr,reduceRightWithIndex:br,traverseWithIndex:Sn,extend:qn,wither:Mr,wilt:wr}});var zn=et((Ar,Tn)=>{(function(t){"use strict";var e=2e3,r={s:1,n:0,d:1};function n(v){function m(){var p=Error.apply(this,arguments);p.name=this.name=v,this.stack=p.stack,this.message=p.message}i(m,"errorConstructor");function l(){}return i(l,"IntermediateInheritor"),l.prototype=Error.prototype,m.prototype=new l,m}i(n,"createError");var o=R.DivisionByZero=n("DivisionByZero"),s=R.InvalidParameter=n("InvalidParameter");function h(v,m){return isNaN(v=parseInt(v,10))&&y(),v*m}i(h,"assign");function y(){throw new s}i(y,"throwInvalidParam");function W(v){for(var m={},l=v,p=2,d=4;d<=l;){for(;l%p===0;)l/=p,m[p]=(m[p]||0)+1;d+=1+2*p++}return l!==v?l>1&&(m[l]=(m[l]||0)+1):m[v]=(m[v]||0)+1,m}i(W,"factorize");var M=i(function(v,m){var l=0,p=1,d=1,g=0,I=0,D=0,N=1,J=1,A=0,q=1,_=1,E=1,mt=1e7,st;if(v!=null)if(m!==void 0)l=v,p=m,d=l*p;else switch(typeof v){case"object":{"d"in v&&"n"in v?(l=v.n,p=v.d,"s"in v&&(l*=v.s)):0 in v?(l=v[0],1 in v&&(p=v[1])):y(),d=l*p;break}case"number":{if(v<0&&(d=v,v=-v),v%1===0)l=v;else if(v>0){for(v>=1&&(J=Math.pow(10,Math.floor(1+Math.log(v)/Math.LN10)),v/=J);q<=mt&&E<=mt;)if(st=(A+_)/(q+E),v===st){q+E<=mt?(l=A+_,p=q+E):E>q?(l=_,p=E):(l=A,p=q);break}else v>st?(A+=_,q+=E):(_+=A,E+=q),q>mt?(l=_,p=E):(l=A,p=q);l*=J}else(isNaN(v)||isNaN(m))&&(p=l=NaN);break}case"string":if(q=v.match(/\d+|./g),q===null&&y(),q[A]==="-"?(d=-1,A++):q[A]==="+"&&A++,q.length===A+1?I=h(q[A++],d):q[A+1]==="."||q[A]==="."?(q[A]!=="."&&(g=h(q[A++],d)),A++,(A+1===q.length||q[A+1]==="("&&q[A+3]===")"||q[A+1]==="'"&&q[A+3]==="'")&&(I=h(q[A],d),N=Math.pow(10,q[A].length),A++),(q[A]==="("&&q[A+2]===")"||q[A]==="'"&&q[A+2]==="'")&&(D=h(q[A+1],d),J=Math.pow(10,q[A+1].length)-1,A+=3)):q[A+1]==="/"||q[A+1]===":"?(I=h(q[A],d),N=h(q[A+2],1),A+=3):q[A+3]==="/"&&q[A+1]===" "&&(g=h(q[A],d),I=h(q[A+2],d),N=h(q[A+4],1),A+=5),q.length<=A){p=N*J,d=l=D+p*g+J*I;break}default:y()}if(p===0)throw new o;r.s=d<0?-1:1,r.n=Math.abs(l),r.d=Math.abs(p)},"parse");function K(v,m,l){for(var p=1;m>0;v=v*v%l,m>>=1)m&1&&(p=p*v%l);return p}i(K,"modpow");function j(v,m){for(;m%2===0;m/=2);for(;m%5===0;m/=5);if(m===1)return 0;for(var l=10%m,p=1;l!==1;p++)if(l=l*10%m,p>e)return 0;return p}i(j,"cycleLen");function Y(v,m,l){for(var p=1,d=K(10,l,m),g=0;g<300;g++){if(p===d)return g;p=p*10%m,d=d*10%m}return 0}i(Y,"cycleStart");function tt(v,m){if(!v)return m;if(!m)return v;for(;;){if(v%=m,!v)return m;if(m%=v,!m)return v}}i(tt,"gcd");function R(v,m){if(!(this instanceof R))return new R(v,m);M(v,m),v=tt(r.d,r.n),this.s=r.s,this.n=r.n/v,this.d=r.d/v}i(R,"Fraction"),R.prototype={s:1,n:0,d:1,abs:function(){return new R(this.n,this.d)},neg:function(){return new R(-this.s*this.n,this.d)},add:function(v,m){return M(v,m),new R(this.s*this.n*r.d+r.s*this.d*r.n,this.d*r.d)},sub:function(v,m){return M(v,m),new R(this.s*this.n*r.d-r.s*this.d*r.n,this.d*r.d)},mul:function(v,m){return M(v,m),new R(this.s*r.s*this.n*r.n,this.d*r.d)},div:function(v,m){return M(v,m),new R(this.s*r.s*this.n*r.d,this.d*r.n)},clone:function(){return new R(this)},mod:function(v,m){return isNaN(this.n)||isNaN(this.d)?new R(NaN):v===void 0?new R(this.s*this.n%this.d,1):(M(v,m),r.n===0&&this.d===0&&R(0,0),new R(this.s*(r.d*this.n)%(r.n*this.d),r.d*this.d))},gcd:function(v,m){return M(v,m),new R(tt(r.n,this.n)*tt(r.d,this.d),r.d*this.d)},lcm:function(v,m){return M(v,m),r.n===0&&this.n===0?new R:new R(r.n*this.n,tt(r.n,this.n)*tt(r.d,this.d))},ceil:function(v){return v=Math.pow(10,v||0),isNaN(this.n)||isNaN(this.d)?new R(NaN):new R(Math.ceil(v*this.s*this.n/this.d),v)},floor:function(v){return v=Math.pow(10,v||0),isNaN(this.n)||isNaN(this.d)?new R(NaN):new R(Math.floor(v*this.s*this.n/this.d),v)},round:function(v){return v=Math.pow(10,v||0),isNaN(this.n)||isNaN(this.d)?new R(NaN):new R(Math.round(v*this.s*this.n/this.d),v)},inverse:function(){return new R(this.s*this.d,this.n)},pow:function(v,m){if(M(v,m),r.d===1)return r.s<0?new R(Math.pow(this.s*this.d,r.n),Math.pow(this.n,r.n)):new R(Math.pow(this.s*this.n,r.n),Math.pow(this.d,r.n));if(this.s<0)return null;var l=W(this.n),p=W(this.d),d=1,g=1;for(var I in l)if(I!=="1"){if(I==="0"){d=0;break}if(l[I]*=r.n,l[I]%r.d===0)l[I]/=r.d;else return null;d*=Math.pow(I,l[I])}for(var I in p)if(I!=="1"){if(p[I]*=r.n,p[I]%r.d===0)p[I]/=r.d;else return null;g*=Math.pow(I,p[I])}return r.s<0?new R(g,d):new R(d,g)},equals:function(v,m){return M(v,m),this.s*this.n*r.d===r.s*r.n*this.d},compare:function(v,m){M(v,m);var l=this.s*this.n*r.d-r.s*r.n*this.d;return(0<l)-(l<0)},simplify:function(v){if(isNaN(this.n)||isNaN(this.d))return this;var m=this.abs().toContinued();v=v||.001;function l(g){return g.length===1?new R(g[0]):l(g.slice(1)).inverse().add(g[0])}i(l,"rec");for(var p=0;p<m.length;p++){var d=l(m.slice(0,p+1));if(d.sub(this.abs()).abs().valueOf()<v)return d.mul(this.s)}return this},divisible:function(v,m){return M(v,m),!(!(r.n*this.d)||this.n*r.d%(r.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(v){var m,l="",p=this.n,d=this.d;return this.s<0&&(l+="-"),d===1?l+=p:(v&&(m=Math.floor(p/d))>0&&(l+=m,l+=" ",p%=d),l+=p,l+="/",l+=d),l},toLatex:function(v){var m,l="",p=this.n,d=this.d;return this.s<0&&(l+="-"),d===1?l+=p:(v&&(m=Math.floor(p/d))>0&&(l+=m,p%=d),l+="\\frac{",l+=p,l+="}{",l+=d,l+="}"),l},toContinued:function(){var v,m=this.n,l=this.d,p=[];if(isNaN(m)||isNaN(l))return p;do p.push(Math.floor(m/l)),v=m%l,m=l,l=v;while(m!==1);return p},toString:function(v){var m,l=this.n,p=this.d;if(isNaN(l)||isNaN(p))return"NaN";v=v||15;var d=j(l,p),g=Y(l,p,d),I=this.s===-1?"-":"";if(I+=l/p|0,l%=p,l*=10,l&&(I+="."),d){for(var D=g;D--;)I+=l/p|0,l%=p,l*=10;I+="(";for(var D=d;D--;)I+=l/p|0,l%=p,l*=10;I+=")"}else for(var D=v;l&&D--;)I+=l/p|0,l%=p,l*=10;return I}},typeof define=="function"&&define.amd?define([],function(){return R}):typeof Ar=="object"?(Object.defineProperty(R,"__esModule",{value:!0}),R.default=R,R.Fraction=R,Tn.exports=R):t.Fraction=R})(Ar)});var Un=zt(Ae()),Nn=zt(On()),We=zt(He()),Fn=zt(oe()),Xl=Object.create,Rr=Object.defineProperty,Ql=Object.getOwnPropertyDescriptor,Yl=Object.getOwnPropertyNames,Jl=Object.getPrototypeOf,th=Object.prototype.hasOwnProperty,eh=i(t=>Rr(t,"__esModule",{value:!0}),"gt"),rh=i((t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),"wt"),nh=i((t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Yl(e))!th.call(t,o)&&(r||o!=="default")&&Rr(t,o,{get:()=>e[o],enumerable:!(n=Ql(e,o))||n.enumerable});return t},"vt"),ih=i((t,e)=>nh(eh(Rr(t!=null?Xl(Jl(t)):{},"default",!e&&t&&t.__esModule?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t),"yt"),ah=rh((t,e)=>{(function(r){"use strict";var n=2e3,o={s:1,n:0,d:1};function s(l){function p(){var g=Error.apply(this,arguments);g.name=this.name=l,this.stack=g.stack,this.message=g.message}i(p,"o");function d(){}return i(d,"s"),d.prototype=Error.prototype,p.prototype=new d,p}i(s,"i");var h=m.DivisionByZero=s("DivisionByZero"),y=m.InvalidParameter=s("InvalidParameter");function W(l,p){return isNaN(l=parseInt(l,10))&&M(),l*p}i(W,"l");function M(){throw new y}i(M,"f");function K(l){for(var p={},d=l,g=2,I=4;I<=d;){for(;d%g===0;)d/=g,p[g]=(p[g]||0)+1;I+=1+2*g++}return d!==l?d>1&&(p[d]=(p[d]||0)+1):p[l]=(p[l]||0)+1,p}i(K,"M");var j=i(function(l,p){var d=0,g=1,I=1,D=0,N=0,J=0,A=1,q=1,_=0,E=1,mt=1,st=1,ne=1e7,Re;if(l!=null)if(p!==void 0)d=l,g=p,I=d*g;else switch(typeof l){case"object":{"d"in l&&"n"in l?(d=l.n,g=l.d,"s"in l&&(d*=l.s)):0 in l?(d=l[0],1 in l&&(g=l[1])):M(),I=d*g;break}case"number":{if(l<0&&(I=l,l=-l),l%1===0)d=l;else if(l>0){for(l>=1&&(q=Math.pow(10,Math.floor(1+Math.log(l)/Math.LN10)),l/=q);E<=ne&&st<=ne;)if(Re=(_+mt)/(E+st),l===Re){E+st<=ne?(d=_+mt,g=E+st):st>E?(d=mt,g=st):(d=_,g=E);break}else l>Re?(_+=mt,E+=st):(mt+=_,st+=E),E>ne?(d=mt,g=st):(d=_,g=E);d*=q}else(isNaN(l)||isNaN(p))&&(g=d=NaN);break}case"string":if(E=l.match(/\d+|./g),E===null&&M(),E[_]==="-"?(I=-1,_++):E[_]==="+"&&_++,E.length===_+1?N=W(E[_++],I):E[_+1]==="."||E[_]==="."?(E[_]!=="."&&(D=W(E[_++],I)),_++,(_+1===E.length||E[_+1]==="("&&E[_+3]===")"||E[_+1]==="'"&&E[_+3]==="'")&&(N=W(E[_],I),A=Math.pow(10,E[_].length),_++),(E[_]==="("&&E[_+2]===")"||E[_]==="'"&&E[_+2]==="'")&&(J=W(E[_+1],I),q=Math.pow(10,E[_+1].length)-1,_+=3)):E[_+1]==="/"||E[_+1]===":"?(N=W(E[_],I),A=W(E[_+2],1),_+=3):E[_+3]==="/"&&E[_+1]===" "&&(D=W(E[_],I),N=W(E[_+2],I),A=W(E[_+4],1),_+=5),E.length<=_){g=A*q,I=d=J+g*D+q*N;break}default:M()}if(g===0)throw new h;o.s=I<0?-1:1,o.n=Math.abs(d),o.d=Math.abs(g)},"w");function Y(l,p,d){for(var g=1;p>0;l=l*l%d,p>>=1)p&1&&(g=g*l%d);return g}i(Y,"A");function tt(l,p){for(;p%2===0;p/=2);for(;p%5===0;p/=5);if(p===1)return 0;for(var d=10%p,g=1;d!==1;g++)if(d=d*10%p,g>n)return 0;return g}i(tt,"E");function R(l,p,d){for(var g=1,I=Y(10,d,p),D=0;D<300;D++){if(g===I)return D;g=g*10%p,I=I*10%p}return 0}i(R,"N");function v(l,p){if(!l)return p;if(!p)return l;for(;;){if(l%=p,!l)return p;if(p%=l,!p)return l}}i(v,"k");function m(l,p){if(!(this instanceof m))return new m(l,p);j(l,p),l=v(o.d,o.n),this.s=o.s,this.n=o.n/l,this.d=o.d/l}i(m,"m"),m.prototype={s:1,n:0,d:1,abs:function(){return new m(this.n,this.d)},neg:function(){return new m(-this.s*this.n,this.d)},add:function(l,p){return j(l,p),new m(this.s*this.n*o.d+o.s*this.d*o.n,this.d*o.d)},sub:function(l,p){return j(l,p),new m(this.s*this.n*o.d-o.s*this.d*o.n,this.d*o.d)},mul:function(l,p){return j(l,p),new m(this.s*o.s*this.n*o.n,this.d*o.d)},div:function(l,p){return j(l,p),new m(this.s*o.s*this.n*o.d,this.d*o.n)},clone:function(){return new m(this)},mod:function(l,p){return isNaN(this.n)||isNaN(this.d)?new m(NaN):l===void 0?new m(this.s*this.n%this.d,1):(j(l,p),o.n===0&&this.d===0&&m(0,0),new m(this.s*(o.d*this.n)%(o.n*this.d),o.d*this.d))},gcd:function(l,p){return j(l,p),new m(v(o.n,this.n)*v(o.d,this.d),o.d*this.d)},lcm:function(l,p){return j(l,p),o.n===0&&this.n===0?new m:new m(o.n*this.n,v(o.n,this.n)*v(o.d,this.d))},ceil:function(l){return l=Math.pow(10,l||0),isNaN(this.n)||isNaN(this.d)?new m(NaN):new m(Math.ceil(l*this.s*this.n/this.d),l)},floor:function(l){return l=Math.pow(10,l||0),isNaN(this.n)||isNaN(this.d)?new m(NaN):new m(Math.floor(l*this.s*this.n/this.d),l)},round:function(l){return l=Math.pow(10,l||0),isNaN(this.n)||isNaN(this.d)?new m(NaN):new m(Math.round(l*this.s*this.n/this.d),l)},inverse:function(){return new m(this.s*this.d,this.n)},pow:function(l,p){if(j(l,p),o.d===1)return o.s<0?new m(Math.pow(this.s*this.d,o.n),Math.pow(this.n,o.n)):new m(Math.pow(this.s*this.n,o.n),Math.pow(this.d,o.n));if(this.s<0)return null;var d=K(this.n),g=K(this.d),I=1,D=1;for(var N in d)if(N!=="1"){if(N==="0"){I=0;break}if(d[N]*=o.n,d[N]%o.d===0)d[N]/=o.d;else return null;I*=Math.pow(N,d[N])}for(var N in g)if(N!=="1"){if(g[N]*=o.n,g[N]%o.d===0)g[N]/=o.d;else return null;D*=Math.pow(N,g[N])}return o.s<0?new m(D,I):new m(I,D)},equals:function(l,p){return j(l,p),this.s*this.n*o.d===o.s*o.n*this.d},compare:function(l,p){j(l,p);var d=this.s*this.n*o.d-o.s*o.n*this.d;return(0<d)-(d<0)},simplify:function(l){if(isNaN(this.n)||isNaN(this.d))return this;var p=this.abs().toContinued();l=l||.001;function d(D){return D.length===1?new m(D[0]):d(D.slice(1)).inverse().add(D[0])}i(d,"s");for(var g=0;g<p.length;g++){var I=d(p.slice(0,g+1));if(I.sub(this.abs()).abs().valueOf()<l)return I.mul(this.s)}return this},divisible:function(l,p){return j(l,p),!(!(o.n*this.d)||this.n*o.d%(o.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(l){var p,d="",g=this.n,I=this.d;return this.s<0&&(d+="-"),I===1?d+=g:(l&&(p=Math.floor(g/I))>0&&(d+=p,d+=" ",g%=I),d+=g,d+="/",d+=I),d},toLatex:function(l){var p,d="",g=this.n,I=this.d;return this.s<0&&(d+="-"),I===1?d+=g:(l&&(p=Math.floor(g/I))>0&&(d+=p,g%=I),d+="\\frac{",d+=g,d+="}{",d+=I,d+="}"),d},toContinued:function(){var l,p=this.n,d=this.d,g=[];if(isNaN(p)||isNaN(d))return g;do g.push(Math.floor(p/d)),l=p%d,p=d,d=l;while(p!==1);return g},toString:function(l){var p,d=this.n,g=this.d;if(isNaN(d)||isNaN(g))return"NaN";l=l||15;var I=tt(d,g),D=R(d,g,I),N=this.s===-1?"-":"";if(N+=d/g|0,d%=g,d*=10,d&&(N+="."),I){for(var J=D;J--;)N+=d/g|0,d%=g,d*=10;N+="(";for(var J=I;J--;)N+=d/g|0,d%=g,d*=10;N+=")"}else for(var J=l;d&&J--;)N+=d/g|0,d%=g,d*=10;return N}},typeof define=="function"&&define.amd?define([],function(){return m}):typeof t=="object"?(Object.defineProperty(m,"__esModule",{value:!0}),m.default=m,m.Fraction=m,e.exports=m):r.Fraction=m})(t)}),uh=ih(ah());function we(t){let e=oh(t);return new uh.default(e).valueOf()*Math.PI}i(we,"R");function oh(t){return t.replace(/(\d+)/g,"$1").replace(//g,"1")}i(oh,"xt");var ch=Object.prototype.toString.call({}),fh="!recursion-limit!",sh=10;function Et(t,e=sh){return lh(t)||hh(t,e)||ph(t,e)}i(Et,"P");function lh(t){if(t===null)return"null";if(t===void 0)return"undefined";if(typeof t=="string")return`"${t}"`;if(typeof t=="number")return String(t)}i(lh,"Tt");function hh(t,e){if(e===0)return fh;if(t instanceof Map)return dh(t,e);if(t instanceof Set)return vh(t,e);if((r=>r[Symbol.iterator]!==void 0)(t))return mh(t,e)}i(hh,"Et");function ph(t,e){let r=String(t);return r!==ch?r:gh(t,e)}i(ph,"Nt");function dh(t,e){let r=[];for(let[n,o]of t.entries()){if(r.length>1e3){r.push("[...]");break}let s=Et(n,e-1),h=Et(o,e-1);r.push(`${s}: ${h}`)}return`Map{${r.join(", ")}}`}i(dh,"kt");function vh(t,e){let r=[];for(let n of t){if(r.length>1e3){r.push("[...]");break}r.push(Et(n,e-1))}return`Set{${r.join(", ")}}`}i(vh,"qt");function mh(t,e){let r=[];for(let n of t){if(r.length>1e3){r.push("[...]");break}r.push(Et(n,e-1))}return`${Array.isArray(t)?"":t.constructor.name}[${r.join(", ")}]`}i(mh,"zt");function gh(t,e){let r=[];for(let o in t){if(!Object.prototype.hasOwnProperty.call(t,o))continue;if(r.length>1e3){r.push("[...]");break}let s=t[o],h=Et(o,e-1),y=Et(s,e-1);r.push(`${h}: ${y}`)}let n=t.constructor.name;return`${n==={}.constructor.name?"":`(Type: ${n})`}{${r.join(", ")}}`}i(gh,"Ct");var Wr=0,ot=i(class extends Error{constructor(t,e){super(t);this.detailsObj=e,this.name="Error",this.message=t,this.stack=new Error().stack,this.stack!==void 0&&(this.stack=this.stack.replace(/^Error\n\s+at new DetailedError (\S+)\s?\n\s+at /,`
    `)),Wr++;try{this.details=Wr===1?Et(this.detailsObj):"(failed to describe detailsObj due to possibly re-entrancy)"}catch(r){console.error(r),this.details="(failed to describe detailsObj, see the console for details)"}finally{Wr--}}},"T"),yh=[{character:"\xBD",ref:"\xBD",expanded:"1/2",value:.5},{character:"\xBC",ref:"\xBC",expanded:"1/4",value:.25},{character:"\xBE",ref:"\xBE",expanded:"3/4",value:.75},{character:"\u2153",ref:"\u2153",expanded:"1/3",value:.3333333333333333},{character:"\u2154",ref:"\u2154",expanded:"2/3",value:.6666666666666666},{character:"\u2155",ref:"\u2155",expanded:"1/5",value:.2},{character:"\u2156",ref:"\u2156",expanded:"2/5",value:.4},{character:"\u2157",ref:"\u2157",expanded:"3/5",value:.6},{character:"\u2158",ref:"\u2158",expanded:"4/5",value:.8},{character:"\u2159",ref:"\u2159",expanded:"1/6",value:.16666666666666666},{character:"\u215A",ref:"\u215A",expanded:"5/6",value:.8333333333333334},{character:"\u2150",ref:"\u2150",expanded:"1/7",value:.14285714285714285},{character:"\u215B",ref:"\u215B",expanded:"1/8",value:.125},{character:"\u215C",ref:"\u215C",expanded:"3/8",value:.375},{character:"\u215D",ref:"\u215D",expanded:"5/8",value:.625},{character:"\u215E",ref:"\u215E",expanded:"7/8",value:.875},{character:"\u2151",ref:"\u2151",expanded:"1/9",value:.1111111111111111},{character:"\u2152",ref:"\u2152",expanded:"1/10",value:.1}],lt=i(class{static parseFloat(t){if(t.length===0)throw new Error(`Not a number: '${t}'`);if(t[0]==="-")return-lt.parseFloat(t.substr(1));if(t[0]==="\u221A")return Math.sqrt(lt.parseFloat(t.substr(1)));let e=lt.matchUnicodeFraction(n=>n.character===t);if(e!==void 0)return e.value;let r=parseFloat(t);if(isNaN(r))throw new Error(`Not a number: '${t}'`);return r}static simplifyByRounding(t,e){if(t<0)return-lt.simplifyByRounding(-t,e);let r=t%1;if(r<=e||1-r<=e)return Math.round(t);let n=lt.matchUnicodeFraction(s=>Math.abs(s.value-t)<=e);if(n!==void 0)return n.value;let o=lt.matchUnicodeFraction(s=>Math.abs(Math.sqrt(s.value)-t)<=e);return o!==void 0?Math.sqrt(o.value):t}static matchUnicodeFraction(t){for(let e of yh)if(t(e))return e}constructor(t,e,r,n){this.allowAbbreviation=t,this.maxAbbreviationError=e,this.fixedDigits=r,this.itemSeparator=n}formatFloat(t){return this.allowAbbreviation?this.abbreviateFloat(t,this.maxAbbreviationError,this.fixedDigits):this.fixedDigits!==void 0?t.toFixed(this.fixedDigits):String(t)}abbreviateFloat(t,e=0,r=void 0){if(Math.abs(t)<e)return"0";if(t<0)return`-${this.abbreviateFloat(-t,e,r)}`;let n=lt.matchUnicodeFraction(s=>Math.abs(s.value-t)<=e);if(n!==void 0)return n.character;let o=lt.matchUnicodeFraction(s=>Math.abs(Math.sqrt(s.value)-t)<=e);return o!==void 0?`\u221A${o.character}`:t%1!==0&&r!==void 0?t.toFixed(r):t.toString()}},"z"),Tt=lt;Tt.CONSISTENT=new lt(!1,0,2,", "),Tt.EXACT=new lt(!0,0,void 0,", "),Tt.MINIFIED=new lt(!0,0,void 0,","),Tt.SIMPLIFIED=new lt(!0,5e-4,3,", ");var vt=i(class{static need(t,e,r){if(t!==!0){let n=r===void 0?"(not provided)":`[${Array.prototype.slice.call(r).join(", ")}]`,o=`Precondition failed

Message: ${e===void 0?"(not provided)":e}

Args: ${n}`;throw new Error(o)}}static notNull(t){vt.need(t!=null,"notNull")}static snappedCosSin(t){let e=Math.PI/4,r=Math.round(t/e);if(r*e===t){let n=Math.sqrt(.5);return[[1,0],[n,n],[0,1],[-n,n],[-1,0],[-n,-n],[0,-1],[n,-n]][r&7]}return[Math.cos(t),Math.sin(t)]}},"C"),O=i(class{static from(t){if(t instanceof O)return t;if(typeof t=="number")return new O(t,0);throw new ot("Unrecognized value type.",{v:t})}static polar(t,e){let[r,n]=vt.snappedCosSin(e);return new O(t*r,t*n)}static realPartOf(t){if(t instanceof O)return t.real;if(typeof t=="number")return t;throw new ot("Unrecognized value type.",{v:t})}static imagPartOf(t){if(t instanceof O)return t.imag;if(typeof t=="number")return 0;throw new ot("Unrecognized value type.",{v:t})}constructor(t,e){this.real=t,this.imag=e}static rootsOfQuadratic(t,e,r){if(t=O.from(t),e=O.from(e),r=O.from(r),t.isEqualTo(0)){if(!e.isEqualTo(0))return[r.times(-1).dividedBy(e)];if(!r.isEqualTo(0))return[];throw Error("Degenerate")}let n=e.times(e).minus(t.times(r).times(4)).sqrts(),o=e.times(-1),s=t.times(2);return n.map(h=>o.minus(h).dividedBy(s))}isEqualTo(t){return t instanceof O?this.real===t.real&&this.imag===t.imag:typeof t=="number"?this.real===t&&this.imag===0:!1}isApproximatelyEqualTo(t,e){if(t instanceof O||typeof t=="number"){let r=this.minus(O.from(t));return Math.abs(r.real)<=e&&Math.abs(r.imag)<=e&&r.abs()<=e}return!1}norm2(){return this.real*this.real+this.imag*this.imag}abs(){return Math.sqrt(this.norm2())}unit(){let t=this.norm2();return t<1e-5?O.polar(1,this.phase()):this.dividedBy(Math.sqrt(t))}plus(t){let e=O.from(t);return new O(this.real+e.real,this.imag+e.imag)}minus(t){let e=O.from(t);return new O(this.real-e.real,this.imag-e.imag)}times(t){let e=O.from(t);return new O(this.real*e.real-this.imag*e.imag,this.real*e.imag+this.imag*e.real)}dividedBy(t){let e=O.from(t),r=e.norm2();if(r===0)throw new Error("Division by Zero");let n=this.times(e.conjugate());return new O(n.real/r,n.imag/r)}sqrts(){let[t,e]=[this.real,this.imag],r=Math.sqrt(Math.sqrt(t*t+e*e));if(r===0)return[O.ZERO];if(e===0&&t<0)return[new O(0,r),new O(0,-r)];let n=this.phase()/2,o=O.polar(r,n);return[o,o.times(-1)]}conjugate(){return new O(this.real,-this.imag)}toString(t){return t=t||Tt.EXACT,t.allowAbbreviation?this.toStringAllowSingleValue(t):this.toStringBothValues(t)}neg(){return new O(-this.real,-this.imag)}raisedTo(t){return t===.5&&this.imag===0&&this.real>=0?new O(Math.sqrt(this.real),0):O.ZERO.isEqualTo(t)?O.ONE:this.isEqualTo(O.ZERO)?O.ZERO:this.ln().times(O.from(t)).exp()}exp(){return O.polar(Math.exp(this.real),this.imag)}cos(){let t=this.times(O.I);return t.exp().plus(t.neg().exp()).times(.5)}sin(){let t=this.times(O.I);return t.exp().minus(t.neg().exp()).dividedBy(new O(0,2))}tan(){return this.sin().dividedBy(this.cos())}ln(){return new O(Math.log(this.abs()),this.phase())}phase(){return Math.atan2(this.imag,this.real)}toStringAllowSingleValue(t){return Math.abs(this.imag)<=t.maxAbbreviationError?t.formatFloat(this.real):Math.abs(this.real)<=t.maxAbbreviationError?Math.abs(this.imag-1)<=t.maxAbbreviationError?"i":Math.abs(this.imag+1)<=t.maxAbbreviationError?"-i":`${t.formatFloat(this.imag)}i`:this.toStringBothValues(t)}toStringBothValues(t){let e=this.imag>=0?"+":"-",r=t.allowAbbreviation&&Math.abs(Math.abs(this.imag)-1)<=t.maxAbbreviationError?"":t.formatFloat(Math.abs(this.imag));return`${(t.allowAbbreviation||t.fixedDigits===void 0||this.real<0?"":"+")+t.formatFloat(this.real)+e+r}i`}},"p"),V=O;V.ZERO=new O(0,0),V.ONE=new O(1,0),V.I=new O(0,1);var Ih="H",xh="X",bh="Y",Mh="Z",wh="P",Wh="T",Rh="X^\xBD",Ah="Rx",Eh="Ry",_h="Rz",qh="Swap",Sh="\u2022",Oh="Bloch",Uh="|0>",Nh="|1>",Fh="Measure",Z=i(class{static PHASE(t){let e=we(t),r=V.from(Math.E);return Z.square(1,0,0,r.raisedTo(V.I.times(e)))}static get RNOT(){let t=V.I,e=t.neg();return Z.square(t.plus(1),e.plus(1),e.plus(1),t.plus(1)).times(.5)}static RX(t){let e=we(t),r=V.I.neg(),n=Math.cos(e/2),o=Math.sin(e/2);return Z.square(n,r.times(o),r.times(o),n)}static RY(t){let e=we(t),r=Math.cos(e/2),n=Math.sin(e/2);return Z.square(r,-n,n,r)}static RZ(t){let e=we(t),r=V.from(Math.E),n=V.I;return Z.square(r.raisedTo(n.neg().times(e/2)),0,0,r.raisedTo(n.times(e/2)))}static fromRows(t){let e=t.length,r=t.map(y=>y.length);if(!(0,Nn.isNonEmpty)(r))throw new ot("Zero height",{rows:t});let n=(0,Fn.uniq)(Un.Eq)(r);if(n.length!==1)throw new ot("Inconsistent row widths.",{rows:t});let o=n[0],s=new Float64Array(o*e*2),h=0;for(let y of t)for(let W of y)s[h]=V.realPartOf(W),s[h+1]=V.imagPartOf(W),h+=2;return new Z(o,e,s)}static generate(t,e,r){let n=new Float64Array(t*e*2);for(let o=0;o<e;o++)for(let s=0;s<t;s++){let h=(o*t+s)*2,y=r(o,s);n[h]=V.realPartOf(y),n[h+1]=V.imagPartOf(y)}return new Z(t,e,n)}static solo(t){return new Z(1,1,new Float64Array([V.realPartOf(t),V.imagPartOf(t)]))}static square(...t){vt.need(Array.isArray(t),"Array.isArray(coefs)",t);let e=Math.round(Math.sqrt(t.length));return vt.need(e*e===t.length,"Matrix.square: non-square number of arguments"),Z.generate(e,e,(r,n)=>t[r*e+n])}static col(...t){return vt.need(Array.isArray(t),"Array.isArray(coefs)",t),Z.generate(1,t.length,e=>t[e])}static row(...t){return vt.need(Array.isArray(t),"Array.isArray(coefs)",t),Z.generate(t.length,1,(e,r)=>t[r])}static identity(t){if(!Number.isInteger(t)||t<=0)throw new ot("Bad size",{size:t});let e=new Float64Array(t*t*2);for(let r=0;r<t;r++)e[r*(t+1)*2]=1;return new Z(t,t,e)}static zero(t,e){return new Z(t,e,new Float64Array(t*e*2))}constructor(t,e,r){if(t*e*2!==r.length)throw new ot("width*height*2 !== buffer.length",{width:t,height:e,len:r.length});this.width=t,this.height=e,this.buffer=r}columnAt(t){vt.need(t>=0&&t<=this.width,"colIndex >= 0 && colIndex <= this.width");let e=[];for(let r=0;r<this.height;r++)e.push(this.cell(t,r));return e}adjoint(){let t=this.height,e=this.width,r=new Float64Array(t*e*2);for(let n=0;n<e;n++)for(let o=0;o<t;o++){let s=(o*this.width+n)*2,h=(n*t+o)*2;r[h]=this.buffer[s],r[h+1]=-this.buffer[s+1]}return new Z(t,e,r)}times(t){return t instanceof Z?this.timesMatrix(t):this.timesScalar(t)}timesMatrix(t){if(this.width!==t.height)throw new ot("Incompatible sizes.",{this:this,other:t});let e=t.width,r=this.height,n=this.width,o=new Float64Array(e*r*2);for(let s=0;s<r;s++)for(let h=0;h<e;h++){let y=(s*e+h)*2;for(let W=0;W<n;W++){let M=(s*n+W)*2,K=(W*e+h)*2,j=this.buffer[M],Y=this.buffer[M+1],tt=t.buffer[K],R=t.buffer[K+1],v=j*tt-Y*R,m=j*R+tt*Y;o[y]+=v,o[y+1]+=m}}return new Z(e,r,o)}timesScalar(t){let e=new Float64Array(this.buffer.length),r=V.realPartOf(t),n=V.imagPartOf(t);for(let o=0;o<e.length;o+=2){let s=this.buffer[o],h=this.buffer[o+1];e[o]=s*r-h*n,e[o+1]=s*n+h*r}return new Z(this.width,this.height,e)}isEqualTo(t){if(this===t)return!0;if(!(t instanceof Z))return!1;let e=t;return this.width===e.width&&this.height===e.height&&(0,We.range)(0,this.buffer.length-1).every(r=>this.buffer[r]===e.buffer[r])}isApproximatelyEqualTo(t,e){return t instanceof Z&&this.width===t.width&&this.height===t.height&&Math.sqrt(this.minus(t).norm2())<=e}minus(t){let{width:e,height:r,buffer:n}=this,o=t.buffer;vt.need(t.width===e&&t.height===r,"Matrix.minus: compatible sizes");let s=new Float64Array(this.buffer.length);for(let h=0;h<s.length;h++)s[h]=n[h]-o[h];return new Z(e,r,s)}norm2(){let t=0;for(let e of this.buffer)t+=e*e;return t}toString(t=Tt.EXACT){return`{{${this.rows().map(e=>e.map(r=>r.toString(t)).join(t.itemSeparator)).join(`}${t.itemSeparator}{`)}}}`}rows(){return(0,We.range)(0,this.height-1).map(t=>(0,We.range)(0,this.width-1).map(e=>this.cell(e,t)))}cell(t,e){if(t<0||e<0||t>=this.width||e>=this.height)throw new ot("Cell out of range",{col:t,row:e,width:this.width,height:this.height});let r=(this.width*e+t)*2;return new V(this.buffer[r],this.buffer[r+1])}set(t,e,r){if(t<0||e<0||t>=this.width||e>=this.height)throw new ot("Cell out of range",{col:t,row:e,width:this.width,height:this.height});let n=(this.width*e+t)*2;this.buffer[n]=r.real,this.buffer[n+1]=r.imag}isApproximatelyHermitian(t){if(this.width!==this.height)return!1;for(let e=0;e<this.width;e++)for(let r=0;r<this.height;r++){let n=(this.width*r+e)*2,o=(this.width*e+r)*2;if(Math.abs(this.buffer[n]-this.buffer[o])>t||Math.abs(this.buffer[n+1]+this.buffer[o+1])>t)return!1}return!0}plus(t){let{width:e,height:r,buffer:n}=this,o=t.buffer;vt.need(t.width===e&&t.height===r,"Matrix.plus: compatible sizes");let s=new Float64Array(this.buffer.length);for(let h=0;h<s.length;h++)s[h]=n[h]+o[h];return new Z(e,r,s)}tensorProduct(t){let e=this.width,r=this.height,n=t.width,o=t.height,s=e*n,h=r*o,y=new Float64Array(s*h*2);for(let W=0;W<r;W++)for(let M=0;M<o;M++)for(let K=0;K<e;K++)for(let j=0;j<n;j++){let Y=(W*e+K)*2,tt=(M*n+j)*2,R=((W*o+M)*s+(K*n+j))*2,v=this.buffer[Y],m=this.buffer[Y+1],l=t.buffer[tt],p=t.buffer[tt+1],d=v*l-m*p,g=v*p+m*l;y[R]=d,y[R+1]=g}return new Z(s,h,y)}timesQubitOperation(t,e,r,n){vt.need((r&1<<e)===0,"Matrix.timesQubitOperation: self-controlled"),vt.need(t.width===2&&t.height===2,"Matrix.timesQubitOperation: not 2x2");let{width:o,height:s,buffer:h}=this,[y,W,M,K,j,Y,tt,R]=t.buffer;vt.need(s>=2<<e,"Matrix.timesQubitOperation: qubit index out of range");let v=new Float64Array(h),m=0;for(let l=0;l<s;l++){let p=(r&l^n)!==0,d=(l&1<<e)!==0;for(let g=0;g<o;g++){if(!p&&!d){let I=m+(1<<e)*2*o,D=v[m],N=v[m+1],J=v[I],A=v[I+1];v[m]=D*y-N*W+J*M-A*K,v[m+1]=D*W+N*y+J*K+A*M,v[I]=D*j-N*Y+J*tt-A*R,v[I+1]=D*Y+N*j+J*R+A*tt}m+=2}}return new Z(o,s,v)}trace(){let t=0,e=0,r=this.width*2+2;for(let n=0;n<this.buffer.length;n+=r)t+=this.buffer[n],e+=this.buffer[n+1];return new V(t,e)}qubitDensityMatrixToBlochVector(){if(this.width!==2||this.height!==2)throw new ot("Need a 2x2 density matrix.",this);if(!this.isApproximatelyHermitian(.01))throw new ot("Density matrix should be Hermitian.",this);if(!this.trace().isApproximatelyEqualTo(1,.01))throw new ot("Density matrix should have unit trace.",this);let[t,e,r,n,o,s,h,y]=this.buffer,W=o+r,M=s-n,K=t-h;return[W,M,K]}},"x"),L=Z;L.H=Z.square(1,1,1,-1).times(Math.sqrt(.5)),L.PAULI_X=Z.square(0,1,1,0),L.PAULI_Y=Z.square(0,new V(0,-1),V.I,0),L.PAULI_Z=Z.square(1,0,0,-1),L.T=Z.square(1,0,0,V.from(Math.E).raisedTo(V.I.times(Math.PI/4)));var Bn=i(class{get bra(){return this.matrix.adjoint()}get ket(){return this.matrix}constructor(t){typeof t=="string"?this.matrix=this.bitstringToMatrix(t):this.matrix=t,this.size=this.matrix.height,this.nqubit=Math.log2(this.size)}amplifier(t){return this.matrix.cell(0,t)}setAmplifier(t,e){this.matrix.set(0,t,e)}blochVector(t){return this.qubitDensityMatrix(t).qubitDensityMatrixToBlochVector()}isApproximatelyEqualTo(t,e){return t instanceof Bn&&this.matrix.isApproximatelyEqualTo(t.matrix,e)}timesQubitOperation(t,e,r){this.matrix=this.matrix.timesQubitOperation(t,e,r,r)}toString(){return this.matrix.toString()}bitstringToMatrix(t){let e=!1,r="",n=[],o=new ot("Invalid StateVector bit string",t);for(let s of t.split(""))switch(s){case"0":{if(e)throw o;n.push(L.col(1,0));break}case"1":{if(e)throw o;n.push(L.col(0,1));break}case"+":{if(e)throw o;n.push(L.col(1,1).times(Math.sqrt(.5)));break}case"-":{e?r+="-":n.push(L.col(1,-1).times(Math.sqrt(.5)));break}case"i":{e?r+="i":n.push(L.col(1,new V(0,1)).times(Math.sqrt(.5)));break}case"(":{if(e)throw o;e=!0,r="";break}case")":{if(!e||r!=="-i")throw o;n.push(L.col(1,new V(0,-1)).times(Math.sqrt(.5))),e=!1;break}default:throw o}if(n.length===0)throw o;return n.reduce((s,h)=>s.tensorProduct(h))}qubitDensityMatrix(t){if(t<0||t>=this.nqubit)throw new ot("Qubit index out of range",t);let e=[...Array(Math.log2(this.matrix.height)).keys()].filter(o=>o!==t),r=i((o,s)=>s.sort().reverse().reduce((h,y)=>{let W=h>>y+1;W=W<<y;let M=(1<<y)-1&h;return W|M},o),"i"),n=L.zero(2,2);for(let o=0;o<this.matrix.height;o++)for(let s=0;s<this.matrix.height;s++){if(!e.every(K=>(o>>K&1)===(s>>K&1)))continue;let h=this.matrix.cell(0,s).times(this.matrix.cell(0,o).conjugate());if(h.isEqualTo(0))continue;let y=r(s,e)===0?L.col(1,0):L.col(0,1),W=r(o,e)===0?L.row(1,0):L.row(0,1),M=y.times(W);n=n.plus(M.times(h))}return n}},"G");function Bh(t,e){return Math.round(t*Math.pow(10,e))/Math.pow(10,e)}i(Bh,"ft");var Ln=i(class{constructor(t){typeof t=="string"?this.state=new Bn(t):this.state=t,this.measuredBits={},this.flags={}}runStep(t){this.blochVectors={};for(let e of t)switch(e.type){case Uh:this.write(0,...e.targets);break;case Nh:this.write(1,...e.targets);break;case Oh:for(let r of e.targets)this.blochVectors[r]=this.state.blochVector(r);break;case Ih:if(e.if&&!this.flags[e.if])break;e.controls&&e.controls.length>0?this.ch(e.controls,...e.targets):this.h(...e.targets);break;case xh:if(e.if&&!this.flags[e.if])break;e.controls&&e.controls.length>0?this.cnot(e.controls,...e.targets):this.x(...e.targets);break;case bh:if(e.if&&!this.flags[e.if])break;e.controls&&e.controls.length>0?this.cy(e.controls,...e.targets):this.y(...e.targets);break;case Mh:if(e.if&&!this.flags[e.if])break;e.controls&&e.controls.length>0?this.cz(e.controls,...e.targets):this.z(...e.targets);break;case wh:{if(!e.angle)break;e.controls&&e.controls.length>0?this.cphase(e.controls,e.angle,e.targets[0]):this.cphase(e.targets.slice(1),e.angle,e.targets[0]);break}case Wh:{if(e.if&&!this.flags[e.if])break;e.controls&&e.controls.length>0?this.ct(e.controls,...e.targets):this.t(...e.targets);break}case Sh:{this.cz(e.targets.slice(1),e.targets[0]);break}case qh:{e.controls&&e.controls.length===1?this.cswap(e.controls[0],e.targets[0],e.targets[1]):this.swap(e.targets[0],e.targets[1]);break}case Rh:if(e.if&&!this.flags[e.if])break;e.controls&&e.controls.length>0?this.crnot(e.controls,...e.targets):this.rnot(...e.targets);break;case Ah:if(e.if&&!this.flags[e.if]||!e.angle)break;e.controls&&e.controls.length>0?this.crx(e.controls,e.angle,...e.targets):this.rx(e.angle,...e.targets);break;case Eh:if(e.if&&!this.flags[e.if]||!e.angle)break;e.controls&&e.controls.length>0?this.cry(e.controls,e.angle,...e.targets):this.ry(e.angle,...e.targets);break;case _h:if(e.if&&!this.flags[e.if]||!e.angle)break;e.controls&&e.controls.length>0?this.crz(e.controls,e.angle,...e.targets):this.rz(e.angle,...e.targets);break;case Fh:for(let r of e.targets)this.measure(r),e.flag&&(this.flags[e.flag]=this.measuredBits[r]===1);break;default:throw new Error("Unknown instruction")}return this}write(t,...e){for(let r of e){let n=Bh(this.pZero(r),5);(t===0&&n===0||t===1&&n===1)&&this.x(r)}return this}h(...t){return this.u(L.H,...t),this}ch(t,...e){return this.cu(t,L.H,...e),this}x(...t){return this.u(L.PAULI_X,...t),this}cnot(t,...e){return this.cu(t,L.PAULI_X,...e),this}y(...t){return this.u(L.PAULI_Y,...t),this}cy(t,...e){return this.cu(t,L.PAULI_Y,...e),this}z(...t){return this.u(L.PAULI_Z,...t),this}cz(t,...e){return this.cu(t,L.PAULI_Z,...e),this}phase(t,...e){return this.u(L.PHASE(t),...e),this}cphase(t,e,...r){return this.cu(t,L.PHASE(e),...r),this}t(...t){return this.u(L.T,...t),this}ct(t,...e){return this.cu(t,L.T,...e),this}swap(t,e){return this.cnot(t,e).cnot(e,t).cnot(t,e),this}cswap(t,e,r){return this.cnot([t,e],r).cnot([t,r],e).cnot([t,e],r),this}rnot(...t){return this.u(L.RNOT,...t),this}crnot(t,...e){return this.cu(t,L.RNOT,...e),this}rx(t,...e){return this.u(L.RX(t),...e),this}crx(t,e,...r){return this.cu(t,L.RX(e),...r),this}ry(t,...e){return this.u(L.RY(t),...e),this}cry(t,e,...r){return this.cu(t,L.RY(e),...r),this}rz(t,...e){return this.u(L.RZ(t),...e),this}crz(t,e,...r){return this.cu(t,L.RZ(e),...r),this}measure(...t){for(let e of t){let r=this.pZero(e);if(Math.random()<=r){for(let n=0;n<1<<this.state.nqubit;n++)(n&1<<e)!==0&&this.state.setAmplifier(n,V.ZERO),this.state.setAmplifier(n,this.state.amplifier(n).dividedBy(Math.sqrt(r)));this.measuredBits[e]=0}else{for(let n=0;n<1<<this.state.nqubit;n++)(n&1<<e)===0&&this.state.setAmplifier(n,V.ZERO),this.state.setAmplifier(n,this.state.amplifier(n).dividedBy(Math.sqrt(1-r)));this.measuredBits[e]=1}}return this}amplitudes(){return this.state.matrix.columnAt(0)}u(t,...e){for(let r of e)this.state.timesQubitOperation(t,r,0)}cu(t,e,...r){let n=(typeof t=="number"?[t]:t).reduce((o,s)=>o|1<<s,0);for(let o of r)this.state.timesQubitOperation(e,o,n)}pZero(t){let e=0;for(let r=0;r<1<<this.state.nqubit;r++)(r&1<<t)===0&&(e+=Math.pow(this.state.amplifier(r).abs(),2));return e}},"Pt");var Lh=zt(zn());var Th=Object.prototype.toString.call({}),zh="!recursion-limit!",Ph=10;function _t(t,e=Ph){return Dh(t)||Ch(t,e)||jh(t,e)}i(_t,"c");function Dh(t){if(t===null)return"null";if(t===void 0)return"undefined";if(typeof t=="string")return`"${t}"`;if(typeof t=="number")return String(t)}i(Dh,"M");function Ch(t,e){if(e===0)return zh;if(t instanceof Map)return kh(t,e);if(t instanceof Set)return $h(t,e);if((r=>r[Symbol.iterator]!==void 0)(t))return Zh(t,e)}i(Ch,"O");function jh(t,e){let r=String(t);return r!==Th?r:Kh(t,e)}i(jh,"F");function kh(t,e){let r=[];for(let[n,o]of t.entries()){if(r.length>1e3){r.push("[...]");break}let s=_t(n,e-1),h=_t(o,e-1);r.push(`${s}: ${h}`)}return`Map{${r.join(", ")}}`}i(kh,"G");function $h(t,e){let r=[];for(let n of t){if(r.length>1e3){r.push("[...]");break}r.push(_t(n,e-1))}return`Set{${r.join(", ")}}`}i($h,"R");function Zh(t,e){let r=[];for(let n of t){if(r.length>1e3){r.push("[...]");break}r.push(_t(n,e-1))}return`${Array.isArray(t)?"":t.constructor.name}[${r.join(", ")}]`}i(Zh,"N");function Kh(t,e){let r=[];for(let o in t){if(!Object.prototype.hasOwnProperty.call(t,o))continue;if(r.length>1e3){r.push("[...]");break}let s=t[o],h=_t(o,e-1),y=_t(s,e-1);r.push(`${h}: ${y}`)}let n=t.constructor.name;return`${n==={}.constructor.name?"":`(Type: ${n})`}{${r.join(", ")}}`}i(Kh,"q");var Er=0,_r=i(class extends Error{constructor(t,e){super(t);this.detailsObj=e,this.name="Error",this.message=t,this.stack=new Error().stack,this.stack!==void 0&&(this.stack=this.stack.replace(/^Error\n\s+at new DetailedError (\S+)\s?\n\s+at /,`
    `)),Er++;try{this.details=Er===1?_t(this.detailsObj):"(failed to describe detailsObj due to possibly re-entrancy)"}catch(r){console.error(r),this.details="(failed to describe detailsObj, see the console for details)"}finally{Er--}}},"d"),Hh=[{character:"\xBD",ref:"\xBD",expanded:"1/2",value:.5},{character:"\xBC",ref:"\xBC",expanded:"1/4",value:.25},{character:"\xBE",ref:"\xBE",expanded:"3/4",value:.75},{character:"\u2153",ref:"\u2153",expanded:"1/3",value:.3333333333333333},{character:"\u2154",ref:"\u2154",expanded:"2/3",value:.6666666666666666},{character:"\u2155",ref:"\u2155",expanded:"1/5",value:.2},{character:"\u2156",ref:"\u2156",expanded:"2/5",value:.4},{character:"\u2157",ref:"\u2157",expanded:"3/5",value:.6},{character:"\u2158",ref:"\u2158",expanded:"4/5",value:.8},{character:"\u2159",ref:"\u2159",expanded:"1/6",value:.16666666666666666},{character:"\u215A",ref:"\u215A",expanded:"5/6",value:.8333333333333334},{character:"\u2150",ref:"\u2150",expanded:"1/7",value:.14285714285714285},{character:"\u215B",ref:"\u215B",expanded:"1/8",value:.125},{character:"\u215C",ref:"\u215C",expanded:"3/8",value:.375},{character:"\u215D",ref:"\u215D",expanded:"5/8",value:.625},{character:"\u215E",ref:"\u215E",expanded:"7/8",value:.875},{character:"\u2151",ref:"\u2151",expanded:"1/9",value:.1111111111111111},{character:"\u2152",ref:"\u2152",expanded:"1/10",value:.1}],ht=i(class{static parseFloat(t){if(t.length===0)throw new Error(`Not a number: '${t}'`);if(t[0]==="-")return-ht.parseFloat(t.substr(1));if(t[0]==="\u221A")return Math.sqrt(ht.parseFloat(t.substr(1)));let e=ht.matchUnicodeFraction(n=>n.character===t);if(e!==void 0)return e.value;let r=parseFloat(t);if(isNaN(r))throw new Error(`Not a number: '${t}'`);return r}static simplifyByRounding(t,e){if(t<0)return-ht.simplifyByRounding(-t,e);let r=t%1;if(r<=e||1-r<=e)return Math.round(t);let n=ht.matchUnicodeFraction(s=>Math.abs(s.value-t)<=e);if(n!==void 0)return n.value;let o=ht.matchUnicodeFraction(s=>Math.abs(Math.sqrt(s.value)-t)<=e);return o!==void 0?Math.sqrt(o.value):t}static matchUnicodeFraction(t){for(let e of Hh)if(t(e))return e}constructor(t,e,r,n){this.allowAbbreviation=t,this.maxAbbreviationError=e,this.fixedDigits=r,this.itemSeparator=n}formatFloat(t){return this.allowAbbreviation?this.abbreviateFloat(t,this.maxAbbreviationError,this.fixedDigits):this.fixedDigits!==void 0?t.toFixed(this.fixedDigits):String(t)}abbreviateFloat(t,e=0,r=void 0){if(Math.abs(t)<e)return"0";if(t<0)return`-${this.abbreviateFloat(-t,e,r)}`;let n=ht.matchUnicodeFraction(s=>Math.abs(s.value-t)<=e);if(n!==void 0)return n.character;let o=ht.matchUnicodeFraction(s=>Math.abs(Math.sqrt(s.value)-t)<=e);return o!==void 0?`\u221A${o.character}`:t%1!==0&&r!==void 0?t.toFixed(r):t.toString()}},"u"),re=ht;re.CONSISTENT=new ht(!1,0,2,", "),re.EXACT=new ht(!0,0,void 0,", "),re.MINIFIED=new ht(!0,0,void 0,","),re.SIMPLIFIED=new ht(!0,5e-4,3,", ");var qt=i(class{static need(t,e,r){if(t!==!0){let n=r===void 0?"(not provided)":`[${Array.prototype.slice.call(r).join(", ")}]`,o=`Precondition failed

Message: ${e===void 0?"(not provided)":e}

Args: ${n}`;throw new Error(o)}}static notNull(t){qt.need(t!=null,"notNull")}static snappedCosSin(t){let e=Math.PI/4,r=Math.round(t/e);if(r*e===t){let n=Math.sqrt(.5);return[[1,0],[n,n],[0,1],[-n,n],[-1,0],[-n,-n],[0,-1],[n,-n]][r&7]}return[Math.cos(t),Math.sin(t)]}},"m"),U=i(class{static from(t){if(t instanceof U)return t;if(typeof t=="number")return new U(t,0);throw new _r("Unrecognized value type.",{v:t})}static polar(t,e){let[r,n]=qt.snappedCosSin(e);return new U(t*r,t*n)}static realPartOf(t){if(t instanceof U)return t.real;if(typeof t=="number")return t;throw new _r("Unrecognized value type.",{v:t})}static imagPartOf(t){if(t instanceof U)return t.imag;if(typeof t=="number")return 0;throw new _r("Unrecognized value type.",{v:t})}constructor(t,e){this.real=t,this.imag=e}static rootsOfQuadratic(t,e,r){if(t=U.from(t),e=U.from(e),r=U.from(r),t.isEqualTo(0)){if(!e.isEqualTo(0))return[r.times(-1).dividedBy(e)];if(!r.isEqualTo(0))return[];throw Error("Degenerate")}let n=e.times(e).minus(t.times(r).times(4)).sqrts(),o=e.times(-1),s=t.times(2);return n.map(h=>o.minus(h).dividedBy(s))}isEqualTo(t){return t instanceof U?this.real===t.real&&this.imag===t.imag:typeof t=="number"?this.real===t&&this.imag===0:!1}isApproximatelyEqualTo(t,e){if(t instanceof U||typeof t=="number"){let r=this.minus(U.from(t));return Math.abs(r.real)<=e&&Math.abs(r.imag)<=e&&r.abs()<=e}return!1}norm2(){return this.real*this.real+this.imag*this.imag}abs(){return Math.sqrt(this.norm2())}unit(){let t=this.norm2();return t<1e-5?U.polar(1,this.phase()):this.dividedBy(Math.sqrt(t))}plus(t){let e=U.from(t);return new U(this.real+e.real,this.imag+e.imag)}minus(t){let e=U.from(t);return new U(this.real-e.real,this.imag-e.imag)}times(t){let e=U.from(t);return new U(this.real*e.real-this.imag*e.imag,this.real*e.imag+this.imag*e.real)}dividedBy(t){let e=U.from(t),r=e.norm2();if(r===0)throw new Error("Division by Zero");let n=this.times(e.conjugate());return new U(n.real/r,n.imag/r)}sqrts(){let[t,e]=[this.real,this.imag],r=Math.sqrt(Math.sqrt(t*t+e*e));if(r===0)return[U.ZERO];if(e===0&&t<0)return[new U(0,r),new U(0,-r)];let n=this.phase()/2,o=U.polar(r,n);return[o,o.times(-1)]}conjugate(){return new U(this.real,-this.imag)}toString(t){return t=t||re.EXACT,t.allowAbbreviation?this.toStringAllowSingleValue(t):this.toStringBothValues(t)}neg(){return new U(-this.real,-this.imag)}raisedTo(t){return t===.5&&this.imag===0&&this.real>=0?new U(Math.sqrt(this.real),0):U.ZERO.isEqualTo(t)?U.ONE:this.isEqualTo(U.ZERO)?U.ZERO:this.ln().times(U.from(t)).exp()}exp(){return U.polar(Math.exp(this.real),this.imag)}cos(){let t=this.times(U.I);return t.exp().plus(t.neg().exp()).times(.5)}sin(){let t=this.times(U.I);return t.exp().minus(t.neg().exp()).dividedBy(new U(0,2))}tan(){return this.sin().dividedBy(this.cos())}ln(){return new U(Math.log(this.abs()),this.phase())}phase(){return Math.atan2(this.imag,this.real)}toStringAllowSingleValue(t){return Math.abs(this.imag)<=t.maxAbbreviationError?t.formatFloat(this.real):Math.abs(this.real)<=t.maxAbbreviationError?Math.abs(this.imag-1)<=t.maxAbbreviationError?"i":Math.abs(this.imag+1)<=t.maxAbbreviationError?"-i":`${t.formatFloat(this.imag)}i`:this.toStringBothValues(t)}toStringBothValues(t){let e=this.imag>=0?"+":"-",r=t.allowAbbreviation&&Math.abs(Math.abs(this.imag)-1)<=t.maxAbbreviationError?"":t.formatFloat(Math.abs(this.imag));return`${(t.allowAbbreviation||t.fixedDigits===void 0||this.real<0?"":"+")+t.formatFloat(this.real)+e+r}i`}},"o"),qr=U;qr.ZERO=new U(0,0),qr.ONE=new U(1,0),qr.I=new U(0,1);var St={};function Vh(t){let e=t.data.circuitJson,r=t.data.qubitCount,n=t.data.stepIndex,o=t.data.steps,s=t.data.targets,h=t.data.invalidateCaches,y=new Ln("0".repeat(r));qt.notNull(r),qt.notNull(n),qt.notNull(o),qt.notNull(s),(St[e]===void 0||h)&&(St={},St[e]={});let W=!1;for(let[M,K]of o.entries()){let j={};St[e][M]===void 0&&(St[e][M]={});let Y=St[e][M];if(Y===void 0||Y.targets===void 0||Y.targets.length<s.length){W=!1,y.runStep(K);let tt=y.state.matrix,R=Object.assign({},y.blochVectors),v=Object.assign({},y.measuredBits),m=Object.assign({},y.flags);if(St[e][M]={type:"step",step:M,amplitudes:tt,targets:s,blochVectors:R,measuredBits:v,flags:m},M===n){let l=Pn(s,tt);j={type:"step",step:M,amplitudes:l,blochVectors:R,measuredBits:v,flags:m}}else j={type:"step",step:M,amplitudes:[],blochVectors:R,measuredBits:v,flags:m}}else W=!0,j={type:"step",step:M,amplitudes:[],blochVectors:Y.blochVectors,measuredBits:Y.measuredBits,flags:Y.flags},M===n&&(j.amplitudes=Pn(s,Y.amplitudes));self.postMessage(j)}self.postMessage({type:"finish"})}i(Vh,"runSimulator");var Pn=i((t,e)=>t.reduce((r,n)=>{if(n>=e.height)r[n]=[0,0];else{let o=e.cell(0,n);r[n]=[o.real,o.imag]}return r},{}),"pickTargetAmplitudes");self.addEventListener("message",Vh);})();
/**
 * @license Fraction.js v4.1.2 23/05/2021
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
//# sourceMappingURL=serviceworker.js.map
