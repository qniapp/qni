(()=>{var Bn=Object.create;var br=Object.defineProperty;var Ln=Object.getOwnPropertyDescriptor;var Pn=Object.getOwnPropertyNames;var Tn=Object.getPrototypeOf,Dn=Object.prototype.hasOwnProperty;var i=(t,r)=>br(t,"name",{value:r,configurable:!0});var Q=(t,r)=>()=>(r||t((r={exports:{}}).exports,r),r.exports);var zn=(t,r,e,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let u of Pn(r))!Dn.call(t,u)&&u!==e&&br(t,u,{get:()=>r[u],enumerable:!(n=Ln(r,u))||n.enumerable});return t};var Ft=(t,r,e)=>(e=t!=null?Bn(Tn(t)):{},zn(r||!t||!t.__esModule?br(e,"default",{value:t,enumerable:!0}):e,t));var Mr=Q(z=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});z.Field=z.MonoidProduct=z.MonoidSum=z.SemigroupProduct=z.SemigroupSum=z.MagmaSub=z.Show=z.Bounded=z.Ord=z.Eq=z.isNumber=void 0;var jn=i(function(t){return typeof t=="number"},"isNumber");z.isNumber=jn;z.Eq={equals:function(t,r){return t===r}};z.Ord={equals:z.Eq.equals,compare:function(t,r){return t<r?-1:t>r?1:0}};z.Bounded={equals:z.Eq.equals,compare:z.Ord.compare,top:1/0,bottom:-1/0};z.Show={show:function(t){return JSON.stringify(t)}};z.MagmaSub={concat:function(t,r){return t-r}};z.SemigroupSum={concat:function(t,r){return t+r}};z.SemigroupProduct={concat:function(t,r){return t*r}};z.MonoidSum={concat:z.SemigroupSum.concat,empty:0};z.MonoidProduct={concat:z.SemigroupProduct.concat,empty:1};z.Field={add:z.SemigroupSum.concat,zero:0,mul:z.SemigroupProduct.concat,one:1,sub:z.MagmaSub.concat,degree:function(t){return 1},div:function(t,r){return t/r},mod:function(t,r){return t%r}}});var st=Q(M=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0});M.getEndomorphismMonoid=M.not=M.SK=M.hole=M.pipe=M.untupled=M.tupled=M.absurd=M.decrement=M.increment=M.tuple=M.flow=M.flip=M.constVoid=M.constUndefined=M.constNull=M.constFalse=M.constTrue=M.constant=M.unsafeCoerce=M.identity=M.apply=M.getRing=M.getSemiring=M.getMonoid=M.getSemigroup=M.getBooleanAlgebra=void 0;var Cn=i(function(t){return function(){return{meet:function(r,e){return function(n){return t.meet(r(n),e(n))}},join:function(r,e){return function(n){return t.join(r(n),e(n))}},zero:function(){return t.zero},one:function(){return t.one},implies:function(r,e){return function(n){return t.implies(r(n),e(n))}},not:function(r){return function(e){return t.not(r(e))}}}}},"getBooleanAlgebra");M.getBooleanAlgebra=Cn;var $n=i(function(t){return function(){return{concat:function(r,e){return function(n){return t.concat(r(n),e(n))}}}}},"getSemigroup");M.getSemigroup=$n;var Zn=i(function(t){var r=M.getSemigroup(t);return function(){return{concat:r().concat,empty:function(){return t.empty}}}},"getMonoid");M.getMonoid=Zn;var kn=i(function(t){return{add:function(r,e){return function(n){return t.add(r(n),e(n))}},zero:function(){return t.zero},mul:function(r,e){return function(n){return t.mul(r(n),e(n))}},one:function(){return t.one}}},"getSemiring");M.getSemiring=kn;var Kn=i(function(t){var r=M.getSemiring(t);return{add:r.add,mul:r.mul,one:r.one,zero:r.zero,sub:function(e,n){return function(u){return t.sub(e(u),n(u))}}}},"getRing");M.getRing=Kn;var Hn=i(function(t){return function(r){return r(t)}},"apply");M.apply=Hn;function Wr(t){return t}i(Wr,"identity");M.identity=Wr;M.unsafeCoerce=Wr;function Bt(t){return function(){return t}}i(Bt,"constant");M.constant=Bt;M.constTrue=Bt(!0);M.constFalse=Bt(!1);M.constNull=Bt(null);M.constUndefined=Bt(void 0);M.constVoid=M.constUndefined;function Vn(t){return function(r,e){return t(e,r)}}i(Vn,"flip");M.flip=Vn;function we(t,r,e,n,u,c,h,y,A){switch(arguments.length){case 1:return t;case 2:return function(){return r(t.apply(this,arguments))};case 3:return function(){return e(r(t.apply(this,arguments)))};case 4:return function(){return n(e(r(t.apply(this,arguments))))};case 5:return function(){return u(n(e(r(t.apply(this,arguments)))))};case 6:return function(){return c(u(n(e(r(t.apply(this,arguments))))))};case 7:return function(){return h(c(u(n(e(r(t.apply(this,arguments)))))))};case 8:return function(){return y(h(c(u(n(e(r(t.apply(this,arguments))))))))};case 9:return function(){return A(y(h(c(u(n(e(r(t.apply(this,arguments)))))))))}}}i(we,"flow");M.flow=we;function Xn(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t}i(Xn,"tuple");M.tuple=Xn;function Gn(t){return t+1}i(Gn,"increment");M.increment=Gn;function Qn(t){return t-1}i(Qn,"decrement");M.decrement=Qn;function Ae(t){throw new Error("Called `absurd` function which should be uncallable")}i(Ae,"absurd");M.absurd=Ae;function Yn(t){return function(r){return t.apply(void 0,r)}}i(Yn,"tupled");M.tupled=Yn;function Jn(t){return function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return t(r)}}i(Jn,"untupled");M.untupled=Jn;function ti(t,r,e,n,u,c,h,y,A){switch(arguments.length){case 1:return t;case 2:return r(t);case 3:return e(r(t));case 4:return n(e(r(t)));case 5:return u(n(e(r(t))));case 6:return c(u(n(e(r(t)))));case 7:return h(c(u(n(e(r(t))))));case 8:return y(h(c(u(n(e(r(t)))))));case 9:return A(y(h(c(u(n(e(r(t))))))));default:for(var N=arguments[0],$=1;$<arguments.length;$++)N=arguments[$](N);return N}}i(ti,"pipe");M.pipe=ti;M.hole=Ae;var ri=i(function(t,r){return r},"SK");M.SK=ri;function ei(t){return function(r){return!t(r)}}i(ei,"not");M.not=ei;var ni=i(function(){return{concat:function(t,r){return we(t,r)},empty:Wr}},"getEndomorphismMonoid");M.getEndomorphismMonoid=ni});var Lt=Q(tt=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0});tt.sequenceS=tt.sequenceT=tt.getApplySemigroup=tt.apS=tt.apSecond=tt.apFirst=tt.ap=void 0;var ii=st();function ai(t,r){return function(e){return function(n){return t.ap(t.map(n,function(u){return function(c){return r.ap(u,c)}}),e)}}}i(ai,"ap");tt.ap=ai;function ui(t){return function(r){return function(e){return t.ap(t.map(e,function(n){return function(){return n}}),r)}}}i(ui,"apFirst");tt.apFirst=ui;function oi(t){return function(r){return function(e){return t.ap(t.map(e,function(){return function(n){return n}}),r)}}}i(oi,"apSecond");tt.apSecond=oi;function ci(t){return function(r,e){return function(n){return t.ap(t.map(n,function(u){return function(c){var h;return Object.assign({},u,(h={},h[r]=c,h))}}),e)}}}i(ci,"apS");tt.apS=ci;function fi(t){return function(r){return{concat:function(e,n){return t.ap(t.map(e,function(u){return function(c){return r.concat(u,c)}}),n)}}}}i(fi,"getApplySemigroup");tt.getApplySemigroup=fi;function wr(t,r,e){return function(n){for(var u=Array(e.length+1),c=0;c<e.length;c++)u[c]=e[c];return u[e.length]=n,r===0?t.apply(null,u):wr(t,r-1,u)}}i(wr,"curried");var Rr={1:function(t){return[t]},2:function(t){return function(r){return[t,r]}},3:function(t){return function(r){return function(e){return[t,r,e]}}},4:function(t){return function(r){return function(e){return function(n){return[t,r,e,n]}}}},5:function(t){return function(r){return function(e){return function(n){return function(u){return[t,r,e,n,u]}}}}}};function si(t){return Rr.hasOwnProperty(t)||(Rr[t]=wr(ii.tuple,t-1,[])),Rr[t]}i(si,"getTupleConstructor");function li(t){return function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];for(var n=r.length,u=si(n),c=t.map(r[0],u),h=1;h<n;h++)c=t.ap(c,r[h]);return c}}i(li,"sequenceT");tt.sequenceT=li;function hi(t){var r=t.length;switch(r){case 1:return function(e){var n;return n={},n[t[0]]=e,n};case 2:return function(e){return function(n){var u;return u={},u[t[0]]=e,u[t[1]]=n,u}};case 3:return function(e){return function(n){return function(u){var c;return c={},c[t[0]]=e,c[t[1]]=n,c[t[2]]=u,c}}};case 4:return function(e){return function(n){return function(u){return function(c){var h;return h={},h[t[0]]=e,h[t[1]]=n,h[t[2]]=u,h[t[3]]=c,h}}}};case 5:return function(e){return function(n){return function(u){return function(c){return function(h){var y;return y={},y[t[0]]=e,y[t[1]]=n,y[t[2]]=u,y[t[3]]=c,y[t[4]]=h,y}}}}};default:return wr(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var u={},c=0;c<r;c++)u[t[c]]=e[c];return u},r-1,[])}}i(hi,"getRecordConstructor");function pi(t){return function(r){for(var e=Object.keys(r),n=e.length,u=hi(e),c=t.map(r[e[0]],u),h=1;h<n;h++)c=t.ap(c,r[e[h]]);return c}}i(pi,"sequenceS");tt.sequenceS=pi});var Pt=Q(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.bind=Et.chainFirst=void 0;function di(t){return function(r){return function(e){return t.chain(e,function(n){return t.map(r(n),function(){return n})})}}}i(di,"chainFirst");Et.chainFirst=di;function vi(t){return function(r,e){return function(n){return t.chain(n,function(u){return t.map(e(u),function(c){var h;return Object.assign({},u,(h={},h[r]=c,h))})})}}}i(vi,"bind");Et.bind=vi});var gt=Q(B=>{"use strict";var mi=B&&B.__spreadArray||function(t,r){for(var e=0,n=r.length,u=t.length;e<n;e++,u++)t[u]=r[e];return t};Object.defineProperty(B,"__esModule",{value:!0});B.fromReadonlyNonEmptyArray=B.has=B.emptyRecord=B.emptyReadonlyArray=B.tail=B.head=B.isNonEmpty=B.singleton=B.right=B.left=B.isRight=B.isLeft=B.some=B.none=B.isSome=B.isNone=void 0;var gi=i(function(t){return t._tag==="None"},"isNone");B.isNone=gi;var yi=i(function(t){return t._tag==="Some"},"isSome");B.isSome=yi;B.none={_tag:"None"};var Ii=i(function(t){return{_tag:"Some",value:t}},"some");B.some=Ii;var xi=i(function(t){return t._tag==="Left"},"isLeft");B.isLeft=xi;var bi=i(function(t){return t._tag==="Right"},"isRight");B.isRight=bi;var Mi=i(function(t){return{_tag:"Left",left:t}},"left");B.left=Mi;var Wi=i(function(t){return{_tag:"Right",right:t}},"right");B.right=Wi;var Ri=i(function(t){return[t]},"singleton");B.singleton=Ri;var wi=i(function(t){return t.length>0},"isNonEmpty");B.isNonEmpty=wi;var Ai=i(function(t){return t[0]},"head");B.head=Ai;var Ei=i(function(t){return t.slice(1)},"tail");B.tail=Ei;B.emptyReadonlyArray=[];B.emptyRecord={};B.has=Object.prototype.hasOwnProperty;var _i=i(function(t){return mi([t[0]],t.slice(1))},"fromReadonlyNonEmptyArray");B.fromReadonlyNonEmptyArray=_i});var Ar=Q(G=>{"use strict";var Si=G&&G.__createBinding||(Object.create?function(t,r,e,n){n===void 0&&(n=e),Object.defineProperty(t,n,{enumerable:!0,get:function(){return r[e]}})}:function(t,r,e,n){n===void 0&&(n=e),t[n]=r[e]}),qi=G&&G.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}:function(t,r){t.default=r}),Oi=G&&G.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var e in t)e!=="default"&&Object.prototype.hasOwnProperty.call(t,e)&&Si(r,t,e);return qi(r,t),r};Object.defineProperty(G,"__esModule",{value:!0});G.filterOrElse=G.chainEitherK=G.fromEitherK=G.chainOptionK=G.fromOptionK=G.fromPredicate=G.fromOption=void 0;var Ee=st(),bt=Oi(gt());function _e(t){return function(r){return function(e){return t.fromEither(bt.isNone(e)?bt.left(r()):bt.right(e.value))}}}i(_e,"fromOption");G.fromOption=_e;function Ui(t){return function(r,e){return function(n){return t.fromEither(r(n)?bt.right(n):bt.left(e(n)))}}}i(Ui,"fromPredicate");G.fromPredicate=Ui;function Se(t){var r=_e(t);return function(e){var n=r(e);return function(u){return Ee.flow(u,n)}}}i(Se,"fromOptionK");G.fromOptionK=Se;function Ni(t,r){var e=Se(t);return function(n){var u=e(n);return function(c){return function(h){return r.chain(h,u(c))}}}}i(Ni,"chainOptionK");G.chainOptionK=Ni;function qe(t){return function(r){return Ee.flow(r,t.fromEither)}}i(qe,"fromEitherK");G.fromEitherK=qe;function Fi(t,r){var e=qe(t);return function(n){return function(u){return r.chain(u,e(n))}}}i(Fi,"chainEitherK");G.chainEitherK=Fi;function Bi(t,r){return function(e,n){return function(u){return r.chain(u,function(c){return t.fromEither(e(c)?bt.right(c):bt.left(n(c)))})}}}i(Bi,"filterOrElse");G.filterOrElse=Bi});var _t=Q(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});mt.getFunctorComposition=mt.bindTo=mt.flap=mt.map=void 0;var Li=st();function Oe(t,r){return function(e){return function(n){return t.map(n,function(u){return r.map(u,e)})}}}i(Oe,"map");mt.map=Oe;function Pi(t){return function(r){return function(e){return t.map(e,function(n){return n(r)})}}}i(Pi,"flap");mt.flap=Pi;function Ti(t){return function(r){return function(e){return t.map(e,function(n){var u;return u={},u[r]=n,u})}}}i(Ti,"bindTo");mt.bindTo=Ti;function Di(t,r){var e=Oe(t,r);return{map:function(n,u){return Li.pipe(n,e(u))}}}i(Di,"getFunctorComposition");mt.getFunctorComposition=Di});var tr=Q(_=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0});_.eqDate=_.eqNumber=_.eqString=_.eqBoolean=_.eq=_.strictEqual=_.getStructEq=_.getTupleEq=_.Contravariant=_.getMonoid=_.getSemigroup=_.eqStrict=_.URI=_.contramap=_.tuple=_.struct=_.fromEquals=void 0;var zi=st(),ji=i(function(t){return{equals:function(r,e){return r===e||t(r,e)}}},"fromEquals");_.fromEquals=ji;var Ci=i(function(t){return _.fromEquals(function(r,e){for(var n in t)if(!t[n].equals(r[n],e[n]))return!1;return!0})},"struct");_.struct=Ci;var $i=i(function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return _.fromEquals(function(e,n){return t.every(function(u,c){return u.equals(e[c],n[c])})})},"tuple");_.tuple=$i;var Zi=i(function(t,r){return zi.pipe(t,_.contramap(r))},"contramap_"),ki=i(function(t){return function(r){return _.fromEquals(function(e,n){return r.equals(t(e),t(n))})}},"contramap");_.contramap=ki;_.URI="Eq";_.eqStrict={equals:function(t,r){return t===r}};var Ki={equals:function(){return!0}},Hi=i(function(){return{concat:function(t,r){return _.fromEquals(function(e,n){return t.equals(e,n)&&r.equals(e,n)})}}},"getSemigroup");_.getSemigroup=Hi;var Vi=i(function(){return{concat:_.getSemigroup().concat,empty:Ki}},"getMonoid");_.getMonoid=Vi;_.Contravariant={URI:_.URI,contramap:Zi};_.getTupleEq=_.tuple;_.getStructEq=_.struct;_.strictEqual=_.eqStrict.equals;_.eq=_.Contravariant;_.eqBoolean=_.eqStrict;_.eqString=_.eqStrict;_.eqNumber=_.eqStrict;_.eqDate={equals:function(t,r){return t.valueOf()===r.valueOf()}}});var Tt=Q(x=>{"use strict";Object.defineProperty(x,"__esModule",{value:!0});x.ordDate=x.ordNumber=x.ordString=x.ordBoolean=x.ord=x.getDualOrd=x.getTupleOrd=x.between=x.clamp=x.max=x.min=x.geq=x.leq=x.gt=x.lt=x.equals=x.trivial=x.Contravariant=x.getMonoid=x.getSemigroup=x.URI=x.contramap=x.reverse=x.tuple=x.fromCompare=x.equalsDefault=void 0;var Xi=tr(),rr=st(),Gi=i(function(t){return function(r,e){return r===e||t(r,e)===0}},"equalsDefault");x.equalsDefault=Gi;var Qi=i(function(t){return{equals:x.equalsDefault(t),compare:function(r,e){return r===e?0:t(r,e)}}},"fromCompare");x.fromCompare=Qi;var Yi=i(function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return x.fromCompare(function(e,n){for(var u=0;u<t.length-1;u++){var c=t[u].compare(e[u],n[u]);if(c!==0)return c}return t[u].compare(e[u],n[u])})},"tuple");x.tuple=Yi;var Ji=i(function(t){return x.fromCompare(function(r,e){return t.compare(e,r)})},"reverse");x.reverse=Ji;var ta=i(function(t,r){return rr.pipe(t,x.contramap(r))},"contramap_"),ra=i(function(t){return function(r){return x.fromCompare(function(e,n){return r.compare(t(e),t(n))})}},"contramap");x.contramap=ra;x.URI="Ord";var ea=i(function(){return{concat:function(t,r){return x.fromCompare(function(e,n){var u=t.compare(e,n);return u!==0?u:r.compare(e,n)})}}},"getSemigroup");x.getSemigroup=ea;var na=i(function(){return{concat:x.getSemigroup().concat,empty:x.fromCompare(function(){return 0})}},"getMonoid");x.getMonoid=na;x.Contravariant={URI:x.URI,contramap:ta};x.trivial={equals:rr.constTrue,compare:rr.constant(0)};var ia=i(function(t){return function(r){return function(e){return e===r||t.compare(e,r)===0}}},"equals");x.equals=ia;var aa=i(function(t){return function(r,e){return t.compare(r,e)===-1}},"lt");x.lt=aa;var ua=i(function(t){return function(r,e){return t.compare(r,e)===1}},"gt");x.gt=ua;var oa=i(function(t){return function(r,e){return t.compare(r,e)!==1}},"leq");x.leq=oa;var ca=i(function(t){return function(r,e){return t.compare(r,e)!==-1}},"geq");x.geq=ca;var fa=i(function(t){return function(r,e){return r===e||t.compare(r,e)<1?r:e}},"min");x.min=fa;var sa=i(function(t){return function(r,e){return r===e||t.compare(r,e)>-1?r:e}},"max");x.max=sa;var la=i(function(t){var r=x.min(t),e=x.max(t);return function(n,u){return function(c){return e(r(c,u),n)}}},"clamp");x.clamp=la;var ha=i(function(t){var r=x.lt(t),e=x.gt(t);return function(n,u){return function(c){return!(r(c,n)||e(c,u))}}},"between");x.between=ha;x.getTupleOrd=x.tuple;x.getDualOrd=x.reverse;x.ord=x.Contravariant;function pa(t,r){return t<r?-1:t>r?1:0}i(pa,"compare");var Er={equals:Xi.eqStrict.equals,compare:pa};x.ordBoolean=Er;x.ordString=Er;x.ordNumber=Er;x.ordDate=rr.pipe(x.ordNumber,x.contramap(function(t){return t.valueOf()}))});var Ue=Q(lt=>{"use strict";Object.defineProperty(lt,"__esModule",{value:!0});lt.concatAll=lt.endo=lt.filterSecond=lt.filterFirst=lt.reverse=void 0;var da=i(function(t){return{concat:function(r,e){return t.concat(e,r)}}},"reverse");lt.reverse=da;var va=i(function(t){return function(r){return{concat:function(e,n){return t(e)?r.concat(e,n):n}}}},"filterFirst");lt.filterFirst=va;var ma=i(function(t){return function(r){return{concat:function(e,n){return t(n)?r.concat(e,n):e}}}},"filterSecond");lt.filterSecond=ma;var ga=i(function(t){return function(r){return{concat:function(e,n){return r.concat(t(e),t(n))}}}},"endo");lt.endo=ga;var ya=i(function(t){return function(r){return function(e){return e.reduce(function(n,u){return t.concat(n,u)},r)}}},"concatAll");lt.concatAll=ya});var Le=Q(b=>{"use strict";var Ia=b&&b.__createBinding||(Object.create?function(t,r,e,n){n===void 0&&(n=e),Object.defineProperty(t,n,{enumerable:!0,get:function(){return r[e]}})}:function(t,r,e,n){n===void 0&&(n=e),t[n]=r[e]}),xa=b&&b.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}:function(t,r){t.default=r}),_r=b&&b.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var e in t)e!=="default"&&Object.prototype.hasOwnProperty.call(t,e)&&Ia(r,t,e);return xa(r,t),r};Object.defineProperty(b,"__esModule",{value:!0});b.semigroupProduct=b.semigroupSum=b.semigroupString=b.getFunctionSemigroup=b.semigroupAny=b.semigroupAll=b.fold=b.getIntercalateSemigroup=b.getMeetSemigroup=b.getJoinSemigroup=b.getDualSemigroup=b.getStructSemigroup=b.getTupleSemigroup=b.getFirstSemigroup=b.getLastSemigroup=b.getObjectSemigroup=b.semigroupVoid=b.concatAll=b.last=b.first=b.intercalate=b.tuple=b.struct=b.reverse=b.constant=b.max=b.min=void 0;var Ne=st(),ba=_r(gt()),Fe=_r(Ue()),Be=_r(Tt()),Ma=i(function(t){return{concat:Be.min(t)}},"min");b.min=Ma;var Wa=i(function(t){return{concat:Be.max(t)}},"max");b.max=Wa;var Ra=i(function(t){return{concat:function(){return t}}},"constant");b.constant=Ra;b.reverse=Fe.reverse;var wa=i(function(t){return{concat:function(r,e){var n={};for(var u in t)ba.has.call(t,u)&&(n[u]=t[u].concat(r[u],e[u]));return n}}},"struct");b.struct=wa;var Aa=i(function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return{concat:function(e,n){return t.map(function(u,c){return u.concat(e[c],n[c])})}}},"tuple");b.tuple=Aa;var Ea=i(function(t){return function(r){return{concat:function(e,n){return r.concat(e,r.concat(t,n))}}}},"intercalate");b.intercalate=Ea;var _a=i(function(){return{concat:Ne.identity}},"first");b.first=_a;var Sa=i(function(){return{concat:function(t,r){return r}}},"last");b.last=Sa;b.concatAll=Fe.concatAll;b.semigroupVoid=b.constant(void 0);var qa=i(function(){return{concat:function(t,r){return Object.assign({},t,r)}}},"getObjectSemigroup");b.getObjectSemigroup=qa;b.getLastSemigroup=b.last;b.getFirstSemigroup=b.first;b.getTupleSemigroup=b.tuple;b.getStructSemigroup=b.struct;b.getDualSemigroup=b.reverse;b.getJoinSemigroup=b.max;b.getMeetSemigroup=b.min;b.getIntercalateSemigroup=b.intercalate;function Oa(t){var r=b.concatAll(t);return function(e,n){return n===void 0?r(e):r(e)(n)}}i(Oa,"fold");b.fold=Oa;b.semigroupAll={concat:function(t,r){return t&&r}};b.semigroupAny={concat:function(t,r){return t||r}};b.getFunctionSemigroup=Ne.getSemigroup;b.semigroupString={concat:function(t,r){return t+r}};b.semigroupSum={concat:function(t,r){return t+r}};b.semigroupProduct={concat:function(t,r){return t*r}}});var er=Q(s=>{"use strict";var Ua=s&&s.__createBinding||(Object.create?function(t,r,e,n){n===void 0&&(n=e),Object.defineProperty(t,n,{enumerable:!0,get:function(){return r[e]}})}:function(t,r,e,n){n===void 0&&(n=e),t[n]=r[e]}),Na=s&&s.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}:function(t,r){t.default=r}),Pe=s&&s.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var e in t)e!=="default"&&Object.prototype.hasOwnProperty.call(t,e)&&Ua(r,t,e);return Na(r,t),r},Dt=s&&s.__spreadArray||function(t,r){for(var e=0,n=r.length,u=t.length;e<n;e++,u++)t[u]=r[e];return t};Object.defineProperty(s,"__esModule",{value:!0});s.reduceRight=s.foldMap=s.reduce=s.mapWithIndex=s.map=s.flatten=s.duplicate=s.extend=s.chain=s.ap=s.alt=s.altW=s.of=s.chunksOf=s.splitAt=s.chop=s.chainWithIndex=s.intersperse=s.prependAll=s.unzip=s.zip=s.zipWith=s.modifyAt=s.updateAt=s.sort=s.groupBy=s.group=s.reverse=s.concat=s.concatW=s.fromArray=s.unappend=s.unprepend=s.range=s.replicate=s.makeBy=s.fromReadonlyArray=s.rotate=s.union=s.sortBy=s.uniq=s.unsafeUpdateAt=s.unsafeInsertAt=s.append=s.appendW=s.prepend=s.prependW=s.isOutOfBound=s.isNonEmpty=s.empty=void 0;s.uncons=s.filterWithIndex=s.filter=s.groupSort=s.updateLast=s.modifyLast=s.updateHead=s.modifyHead=s.matchRight=s.matchLeft=s.concatAll=s.max=s.min=s.init=s.last=s.tail=s.head=s.apS=s.bind=s.bindTo=s.Do=s.Comonad=s.Alt=s.TraversableWithIndex=s.Traversable=s.FoldableWithIndex=s.Foldable=s.Monad=s.chainFirst=s.Chain=s.Applicative=s.apSecond=s.apFirst=s.Apply=s.FunctorWithIndex=s.Pointed=s.flap=s.Functor=s.getUnionSemigroup=s.getEq=s.getSemigroup=s.getShow=s.URI=s.extract=s.traverseWithIndex=s.sequence=s.traverse=s.reduceRightWithIndex=s.foldMapWithIndex=s.reduceWithIndex=void 0;s.readonlyNonEmptyArray=s.fold=s.prependToAll=s.insertAt=s.snoc=s.cons=s.unsnoc=void 0;var Sr=Lt(),Te=Pt(),Fa=tr(),K=st(),De=_t(),rt=Pe(gt()),Ba=Tt(),ze=Pe(Le());s.empty=rt.emptyReadonlyArray;s.isNonEmpty=rt.isNonEmpty;var La=i(function(t,r){return t<0||t>=r.length},"isOutOfBound");s.isOutOfBound=La;var Pa=i(function(t){return function(r){return Dt([t],r)}},"prependW");s.prependW=Pa;s.prepend=s.prependW;var Ta=i(function(t){return function(r){return Dt(Dt([],r),[t])}},"appendW");s.appendW=Ta;s.append=s.appendW;var Da=i(function(t,r,e){if(s.isNonEmpty(e)){var n=rt.fromReadonlyNonEmptyArray(e);return n.splice(t,0,r),n}return[r]},"unsafeInsertAt");s.unsafeInsertAt=Da;var za=i(function(t,r,e){if(e[t]===r)return e;var n=rt.fromReadonlyNonEmptyArray(e);return n[t]=r,n},"unsafeUpdateAt");s.unsafeUpdateAt=za;var ja=i(function(t){return function(r){if(r.length===1)return r;for(var e=[s.head(r)],n=s.tail(r),u=i(function(A){e.every(function(N){return!t.equals(N,A)})&&e.push(A)},"_loop_1"),c=0,h=n;c<h.length;c++){var y=h[c];u(y)}return e}},"uniq");s.uniq=ja;var Ca=i(function(t){if(s.isNonEmpty(t)){var r=Ba.getMonoid();return s.sort(t.reduce(r.concat,r.empty))}return K.identity},"sortBy");s.sortBy=Ca;var $a=i(function(t){var r=s.uniq(t);return function(e){return function(n){return r(K.pipe(n,zt(e)))}}},"union");s.union=$a;var Za=i(function(t){return function(r){var e=r.length,n=Math.round(t)%e;if(s.isOutOfBound(Math.abs(n),r)||n===0)return r;if(n<0){var u=s.splitAt(-n)(r),c=u[0],h=u[1];return K.pipe(h,zt(c))}else return s.rotate(n-e)(r)}},"rotate");s.rotate=Za;var ka=i(function(t){return s.isNonEmpty(t)?rt.some(t):rt.none},"fromReadonlyArray");s.fromReadonlyArray=ka;var Ka=i(function(t){return function(r){for(var e=Math.max(0,Math.floor(r)),n=[t(0)],u=1;u<e;u++)n.push(t(u));return n}},"makeBy");s.makeBy=Ka;var Ha=i(function(t){return s.makeBy(function(){return t})},"replicate");s.replicate=Ha;var Va=i(function(t,r){return t<=r?s.makeBy(function(e){return t+e})(r-t+1):[t]},"range");s.range=Va;var Xa=i(function(t){return[s.head(t),s.tail(t)]},"unprepend");s.unprepend=Xa;var Ga=i(function(t){return[s.init(t),s.last(t)]},"unappend");s.unappend=Ga;var Qa=i(function(t){return s.fromReadonlyArray(t.slice())},"fromArray");s.fromArray=Qa;function je(t){return function(r){return r.concat(t)}}i(je,"concatW");s.concatW=je;function zt(t,r){return r?t.concat(r):function(e){return e.concat(t)}}i(zt,"concat");s.concat=zt;var Ya=i(function(t){return t.length===1?t:Dt([s.last(t)],t.slice(0,-1).reverse())},"reverse");s.reverse=Ya;function Ce(t){return function(r){var e=r.length;if(e===0)return s.empty;for(var n=[],u=r[0],c=[u],h=1;h<e;h++){var y=r[h];t.equals(y,u)?c.push(y):(n.push(c),u=y,c=[u])}return n.push(c),n}}i(Ce,"group");s.group=Ce;var Ja=i(function(t){return function(r){for(var e={},n=0,u=r;n<u.length;n++){var c=u[n],h=t(c);e.hasOwnProperty(h)?e[h].push(c):e[h]=[c]}return e}},"groupBy");s.groupBy=Ja;var tu=i(function(t){return function(r){return r.length===1?r:r.slice().sort(t.compare)}},"sort");s.sort=tu;var ru=i(function(t,r){return s.modifyAt(t,function(){return r})},"updateAt");s.updateAt=ru;var eu=i(function(t,r){return function(e){return s.isOutOfBound(t,e)?rt.none:rt.some(s.unsafeUpdateAt(t,r(e[t]),e))}},"modifyAt");s.modifyAt=eu;var nu=i(function(t,r,e){for(var n=[e(t[0],r[0])],u=Math.min(t.length,r.length),c=1;c<u;c++)n[c]=e(t[c],r[c]);return n},"zipWith");s.zipWith=nu;function $e(t,r){return r===void 0?function(e){return $e(e,t)}:s.zipWith(t,r,function(e,n){return[e,n]})}i($e,"zip");s.zip=$e;var iu=i(function(t){for(var r=[t[0][0]],e=[t[0][1]],n=1;n<t.length;n++)r[n]=t[n][0],e[n]=t[n][1];return[r,e]},"unzip");s.unzip=iu;var au=i(function(t){return function(r){for(var e=[t,r[0]],n=1;n<r.length;n++)e.push(t,r[n]);return e}},"prependAll");s.prependAll=au;var uu=i(function(t){return function(r){var e=s.tail(r);return s.isNonEmpty(e)?K.pipe(e,s.prependAll(t),s.prepend(s.head(r))):r}},"intersperse");s.intersperse=uu;var ou=i(function(t){return function(r){for(var e=rt.fromReadonlyNonEmptyArray(t(0,s.head(r))),n=1;n<r.length;n++)e.push.apply(e,t(n,r[n]));return e}},"chainWithIndex");s.chainWithIndex=ou;var cu=i(function(t){return function(r){for(var e=t(r),n=e[0],u=e[1],c=[n],h=u;s.isNonEmpty(h);){var y=t(h),A=y[0],N=y[1];c.push(A),h=N}return c}},"chop");s.chop=cu;var fu=i(function(t){return function(r){var e=Math.max(1,t);return e>=r.length?[r,s.empty]:[K.pipe(r.slice(1,e),s.prepend(s.head(r))),r.slice(e)]}},"splitAt");s.splitAt=fu;var su=i(function(t){return s.chop(s.splitAt(t))},"chunksOf");s.chunksOf=su;var dt=i(function(t,r){return K.pipe(t,s.map(r))},"_map"),qr=i(function(t,r){return K.pipe(t,s.mapWithIndex(r))},"_mapWithIndex"),jt=i(function(t,r){return K.pipe(t,s.ap(r))},"_ap"),Or=i(function(t,r){return K.pipe(t,s.chain(r))},"_chain"),Ze=i(function(t,r){return K.pipe(t,s.extend(r))},"_extend"),Ct=i(function(t,r,e){return K.pipe(t,s.reduce(r,e))},"_reduce"),$t=i(function(t){var r=s.foldMap(t);return function(e,n){return K.pipe(e,r(n))}},"_foldMap"),Zt=i(function(t,r,e){return K.pipe(t,s.reduceRight(r,e))},"_reduceRight"),Ur=i(function(t){var r=s.traverse(t);return function(e,n){return K.pipe(e,r(n))}},"_traverse"),ke=i(function(t,r){return K.pipe(t,s.alt(r))},"_alt"),Nr=i(function(t,r,e){return K.pipe(t,s.reduceWithIndex(r,e))},"_reduceWithIndex"),Fr=i(function(t){var r=s.foldMapWithIndex(t);return function(e,n){return K.pipe(e,r(n))}},"_foldMapWithIndex"),Br=i(function(t,r,e){return K.pipe(t,s.reduceRightWithIndex(r,e))},"_reduceRightWithIndex"),Ke=i(function(t){var r=s.traverseWithIndex(t);return function(e,n){return K.pipe(e,r(n))}},"_traverseWithIndex");s.of=rt.singleton;var lu=i(function(t){return function(r){return K.pipe(r,je(t()))}},"altW");s.altW=lu;s.alt=s.altW;var hu=i(function(t){return s.chain(function(r){return K.pipe(t,s.map(r))})},"ap");s.ap=hu;var pu=i(function(t){return s.chainWithIndex(function(r,e){return t(e)})},"chain");s.chain=pu;var du=i(function(t){return function(r){for(var e=s.tail(r),n=[t(r)];s.isNonEmpty(e);)n.push(t(e)),e=s.tail(e);return n}},"extend");s.extend=du;s.duplicate=s.extend(K.identity);s.flatten=s.chain(K.identity);var vu=i(function(t){return s.mapWithIndex(function(r,e){return t(e)})},"map");s.map=vu;var mu=i(function(t){return function(r){for(var e=[t(0,s.head(r))],n=1;n<r.length;n++)e.push(t(n,r[n]));return e}},"mapWithIndex");s.mapWithIndex=mu;var gu=i(function(t,r){return s.reduceWithIndex(t,function(e,n,u){return r(n,u)})},"reduce");s.reduce=gu;var yu=i(function(t){return function(r){return function(e){return e.slice(1).reduce(function(n,u){return t.concat(n,r(u))},r(e[0]))}}},"foldMap");s.foldMap=yu;var Iu=i(function(t,r){return s.reduceRightWithIndex(t,function(e,n,u){return r(n,u)})},"reduceRight");s.reduceRight=Iu;var xu=i(function(t,r){return function(e){return e.reduce(function(n,u,c){return r(c,n,u)},t)}},"reduceWithIndex");s.reduceWithIndex=xu;var bu=i(function(t){return function(r){return function(e){return e.slice(1).reduce(function(n,u,c){return t.concat(n,r(c+1,u))},r(0,e[0]))}}},"foldMapWithIndex");s.foldMapWithIndex=bu;var Mu=i(function(t,r){return function(e){return e.reduceRight(function(n,u,c){return r(c,u,n)},t)}},"reduceRightWithIndex");s.reduceRightWithIndex=Mu;var Wu=i(function(t){var r=s.traverseWithIndex(t);return function(e){return r(function(n,u){return e(u)})}},"traverse");s.traverse=Wu;var Ru=i(function(t){return s.traverseWithIndex(t)(K.SK)},"sequence");s.sequence=Ru;var wu=i(function(t){return function(r){return function(e){for(var n=t.map(r(0,s.head(e)),s.of),u=1;u<e.length;u++)n=t.ap(t.map(n,function(c){return function(h){return K.pipe(c,s.append(h))}}),r(u,e[u]));return n}}},"traverseWithIndex");s.traverseWithIndex=wu;s.extract=rt.head;s.URI="ReadonlyNonEmptyArray";var Au=i(function(t){return{show:function(r){return"["+r.map(t.show).join(", ")+"]"}}},"getShow");s.getShow=Au;var Eu=i(function(){return{concat:zt}},"getSemigroup");s.getSemigroup=Eu;var _u=i(function(t){return Fa.fromEquals(function(r,e){return r.length===e.length&&r.every(function(n,u){return t.equals(n,e[u])})})},"getEq");s.getEq=_u;var Su=i(function(t){var r=s.union(t);return{concat:function(e,n){return r(n)(e)}}},"getUnionSemigroup");s.getUnionSemigroup=Su;s.Functor={URI:s.URI,map:dt};s.flap=De.flap(s.Functor);s.Pointed={URI:s.URI,of:s.of};s.FunctorWithIndex={URI:s.URI,map:dt,mapWithIndex:qr};s.Apply={URI:s.URI,map:dt,ap:jt};s.apFirst=Sr.apFirst(s.Apply);s.apSecond=Sr.apSecond(s.Apply);s.Applicative={URI:s.URI,map:dt,ap:jt,of:s.of};s.Chain={URI:s.URI,map:dt,ap:jt,chain:Or};s.chainFirst=Te.chainFirst(s.Chain);s.Monad={URI:s.URI,map:dt,ap:jt,of:s.of,chain:Or};s.Foldable={URI:s.URI,reduce:Ct,foldMap:$t,reduceRight:Zt};s.FoldableWithIndex={URI:s.URI,reduce:Ct,foldMap:$t,reduceRight:Zt,reduceWithIndex:Nr,foldMapWithIndex:Fr,reduceRightWithIndex:Br};s.Traversable={URI:s.URI,map:dt,reduce:Ct,foldMap:$t,reduceRight:Zt,traverse:Ur,sequence:s.sequence};s.TraversableWithIndex={URI:s.URI,map:dt,mapWithIndex:qr,reduce:Ct,foldMap:$t,reduceRight:Zt,traverse:Ur,sequence:s.sequence,reduceWithIndex:Nr,foldMapWithIndex:Fr,reduceRightWithIndex:Br,traverseWithIndex:Ke};s.Alt={URI:s.URI,map:dt,alt:ke};s.Comonad={URI:s.URI,map:dt,extend:Ze,extract:s.extract};s.Do=s.of(rt.emptyRecord);s.bindTo=De.bindTo(s.Functor);s.bind=Te.bind(s.Chain);s.apS=Sr.apS(s.Apply);s.head=s.extract;s.tail=rt.tail;var qu=i(function(t){return t[t.length-1]},"last");s.last=qu;var Ou=i(function(t){return t.slice(0,-1)},"init");s.init=Ou;var Uu=i(function(t){var r=ze.min(t);return function(e){return e.reduce(r.concat)}},"min");s.min=Uu;var Nu=i(function(t){var r=ze.max(t);return function(e){return e.reduce(r.concat)}},"max");s.max=Nu;var Fu=i(function(t){return function(r){return r.reduce(t.concat)}},"concatAll");s.concatAll=Fu;var Bu=i(function(t){return function(r){return t(s.head(r),s.tail(r))}},"matchLeft");s.matchLeft=Bu;var Lu=i(function(t){return function(r){return t(s.init(r),s.last(r))}},"matchRight");s.matchRight=Lu;var Pu=i(function(t){return function(r){return Dt([t(s.head(r))],s.tail(r))}},"modifyHead");s.modifyHead=Pu;var Tu=i(function(t){return s.modifyHead(function(){return t})},"updateHead");s.updateHead=Tu;var Du=i(function(t){return function(r){return K.pipe(s.init(r),s.append(t(s.last(r))))}},"modifyLast");s.modifyLast=Du;var zu=i(function(t){return s.modifyLast(function(){return t})},"updateLast");s.updateLast=zu;function ju(t){var r=s.sort(t),e=Ce(t);return function(n){return s.isNonEmpty(n)?e(r(n)):s.empty}}i(ju,"groupSort");s.groupSort=ju;function Cu(t){return s.filterWithIndex(function(r,e){return t(e)})}i(Cu,"filter");s.filter=Cu;var $u=i(function(t){return function(r){return s.fromReadonlyArray(r.filter(function(e,n){return t(n,e)}))}},"filterWithIndex");s.filterWithIndex=$u;s.uncons=s.unprepend;s.unsnoc=s.unappend;function Zu(t,r){return r===void 0?s.prepend(t):K.pipe(r,s.prepend(t))}i(Zu,"cons");s.cons=Zu;var ku=i(function(t,r){return K.pipe(t,zt([r]))},"snoc");s.snoc=ku;var Ku=i(function(t,r){return function(e){return t<0||t>e.length?rt.none:rt.some(s.unsafeInsertAt(t,r,e))}},"insertAt");s.insertAt=Ku;s.prependToAll=s.prependAll;s.fold=s.concatAll;s.readonlyNonEmptyArray={URI:s.URI,of:s.of,map:dt,mapWithIndex:qr,ap:jt,chain:Or,extend:Ze,extract:s.extract,reduce:Ct,foldMap:$t,reduceRight:Zt,traverse:Ur,sequence:s.sequence,reduceWithIndex:Nr,foldMapWithIndex:Fr,reduceRightWithIndex:Br,traverseWithIndex:Ke,alt:ke}});var $r=Q(f=>{"use strict";var Hu=f&&f.__createBinding||(Object.create?function(t,r,e,n){n===void 0&&(n=e),Object.defineProperty(t,n,{enumerable:!0,get:function(){return r[e]}})}:function(t,r,e,n){n===void 0&&(n=e),t[n]=r[e]}),Vu=f&&f.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}:function(t,r){t.default=r}),He=f&&f.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var e in t)e!=="default"&&Object.prototype.hasOwnProperty.call(t,e)&&Hu(r,t,e);return Vu(r,t),r},kt=f&&f.__spreadArray||function(t,r){for(var e=0,n=r.length,u=t.length;e<n;e++,u++)t[u]=r[e];return t};Object.defineProperty(f,"__esModule",{value:!0});f.mapWithIndex=f.map=f.flatten=f.duplicate=f.extend=f.chain=f.ap=f.alt=f.altW=f.chunksOf=f.splitAt=f.chop=f.chainWithIndex=f.foldMap=f.foldMapWithIndex=f.intersperse=f.prependAll=f.unzip=f.zip=f.zipWith=f.of=f.copy=f.modifyAt=f.updateAt=f.insertAt=f.sort=f.groupBy=f.group=f.reverse=f.concat=f.concatW=f.unappend=f.unprepend=f.range=f.replicate=f.makeBy=f.fromArray=f.fromReadonlyNonEmptyArray=f.rotate=f.union=f.sortBy=f.uniq=f.unsafeUpdateAt=f.unsafeInsertAt=f.append=f.appendW=f.prepend=f.prependW=f.isOutOfBound=f.isNonEmpty=void 0;f.filterWithIndex=f.filter=f.groupSort=f.updateLast=f.modifyLast=f.updateHead=f.modifyHead=f.matchRight=f.matchLeft=f.concatAll=f.max=f.min=f.init=f.last=f.tail=f.head=f.apS=f.bind=f.bindTo=f.Do=f.Comonad=f.Alt=f.TraversableWithIndex=f.Traversable=f.FoldableWithIndex=f.Foldable=f.Monad=f.chainFirst=f.Chain=f.Applicative=f.apSecond=f.apFirst=f.Apply=f.FunctorWithIndex=f.Pointed=f.flap=f.Functor=f.getUnionSemigroup=f.getEq=f.getSemigroup=f.getShow=f.URI=f.extract=f.traverseWithIndex=f.sequence=f.traverse=f.reduceRightWithIndex=f.reduceRight=f.reduceWithIndex=f.reduce=void 0;f.nonEmptyArray=f.fold=f.prependToAll=f.snoc=f.cons=f.unsnoc=f.uncons=void 0;var Lr=Lt(),Ve=Pt(),V=st(),Xe=_t(),yt=He(gt()),Xu=Tt(),at=He(er()),Gu=i(function(t){return t.length>0},"isNonEmpty");f.isNonEmpty=Gu;var Qu=i(function(t,r){return t<0||t>=r.length},"isOutOfBound");f.isOutOfBound=Qu;var Yu=i(function(t){return function(r){return kt([t],r)}},"prependW");f.prependW=Yu;f.prepend=f.prependW;var Ju=i(function(t){return function(r){return kt(kt([],r),[t])}},"appendW");f.appendW=Ju;f.append=f.appendW;var to=i(function(t,r,e){if(f.isNonEmpty(e)){var n=f.fromReadonlyNonEmptyArray(e);return n.splice(t,0,r),n}return[r]},"unsafeInsertAt");f.unsafeInsertAt=to;var ro=i(function(t,r,e){var n=f.fromReadonlyNonEmptyArray(e);return n[t]=r,n},"unsafeUpdateAt");f.unsafeUpdateAt=ro;var eo=i(function(t){return function(r){if(r.length===1)return f.copy(r);for(var e=[f.head(r)],n=f.tail(r),u=i(function(A){e.every(function(N){return!t.equals(N,A)})&&e.push(A)},"_loop_1"),c=0,h=n;c<h.length;c++){var y=h[c];u(y)}return e}},"uniq");f.uniq=eo;var no=i(function(t){if(f.isNonEmpty(t)){var r=Xu.getMonoid();return f.sort(t.reduce(r.concat,r.empty))}return f.copy},"sortBy");f.sortBy=no;var io=i(function(t){var r=f.uniq(t);return function(e){return function(n){return r(V.pipe(n,nr(e)))}}},"union");f.union=io;var ao=i(function(t){return function(r){var e=r.length,n=Math.round(t)%e;if(f.isOutOfBound(Math.abs(n),r)||n===0)return f.copy(r);if(n<0){var u=f.splitAt(-n)(r),c=u[0],h=u[1];return V.pipe(h,nr(c))}else return f.rotate(n-e)(r)}},"rotate");f.rotate=ao;f.fromReadonlyNonEmptyArray=yt.fromReadonlyNonEmptyArray;var uo=i(function(t){return f.isNonEmpty(t)?yt.some(t):yt.none},"fromArray");f.fromArray=uo;var oo=i(function(t){return function(r){for(var e=Math.max(0,Math.floor(r)),n=[t(0)],u=1;u<e;u++)n.push(t(u));return n}},"makeBy");f.makeBy=oo;var co=i(function(t){return f.makeBy(function(){return t})},"replicate");f.replicate=co;var fo=i(function(t,r){return t<=r?f.makeBy(function(e){return t+e})(r-t+1):[t]},"range");f.range=fo;var so=i(function(t){return[f.head(t),f.tail(t)]},"unprepend");f.unprepend=so;var lo=i(function(t){return[f.init(t),f.last(t)]},"unappend");f.unappend=lo;function Ge(t){return function(r){return r.concat(t)}}i(Ge,"concatW");f.concatW=Ge;function nr(t,r){return r?t.concat(r):function(e){return e.concat(t)}}i(nr,"concat");f.concat=nr;var ho=i(function(t){return kt([f.last(t)],t.slice(0,-1).reverse())},"reverse");f.reverse=ho;function Qe(t){return function(r){var e=r.length;if(e===0)return[];for(var n=[],u=r[0],c=[u],h=1;h<e;h++){var y=r[h];t.equals(y,u)?c.push(y):(n.push(c),u=y,c=[u])}return n.push(c),n}}i(Qe,"group");f.group=Qe;var po=i(function(t){return function(r){for(var e={},n=0,u=r;n<u.length;n++){var c=u[n],h=t(c);e.hasOwnProperty(h)?e[h].push(c):e[h]=[c]}return e}},"groupBy");f.groupBy=po;var vo=i(function(t){return function(r){return r.slice().sort(t.compare)}},"sort");f.sort=vo;var mo=i(function(t,r){return function(e){return t<0||t>e.length?yt.none:yt.some(f.unsafeInsertAt(t,r,e))}},"insertAt");f.insertAt=mo;var go=i(function(t,r){return f.modifyAt(t,function(){return r})},"updateAt");f.updateAt=go;var yo=i(function(t,r){return function(e){return f.isOutOfBound(t,e)?yt.none:yt.some(f.unsafeUpdateAt(t,r(e[t]),e))}},"modifyAt");f.modifyAt=yo;f.copy=f.fromReadonlyNonEmptyArray;var Io=i(function(t){return[t]},"of");f.of=Io;var xo=i(function(t,r,e){for(var n=[e(t[0],r[0])],u=Math.min(t.length,r.length),c=1;c<u;c++)n[c]=e(t[c],r[c]);return n},"zipWith");f.zipWith=xo;function Ye(t,r){return r===void 0?function(e){return Ye(e,t)}:f.zipWith(t,r,function(e,n){return[e,n]})}i(Ye,"zip");f.zip=Ye;var bo=i(function(t){for(var r=[t[0][0]],e=[t[0][1]],n=1;n<t.length;n++)r[n]=t[n][0],e[n]=t[n][1];return[r,e]},"unzip");f.unzip=bo;var Mo=i(function(t){return function(r){for(var e=[t,r[0]],n=1;n<r.length;n++)e.push(t,r[n]);return e}},"prependAll");f.prependAll=Mo;var Wo=i(function(t){return function(r){var e=f.tail(r);return f.isNonEmpty(e)?V.pipe(e,f.prependAll(t),f.prepend(f.head(r))):f.copy(r)}},"intersperse");f.intersperse=Wo;f.foldMapWithIndex=at.foldMapWithIndex;f.foldMap=at.foldMap;var Ro=i(function(t){return function(r){for(var e=f.fromReadonlyNonEmptyArray(t(0,f.head(r))),n=1;n<r.length;n++)e.push.apply(e,t(n,r[n]));return e}},"chainWithIndex");f.chainWithIndex=Ro;var wo=i(function(t){return function(r){for(var e=t(r),n=e[0],u=e[1],c=[n],h=u;f.isNonEmpty(h);){var y=t(h),A=y[0],N=y[1];c.push(A),h=N}return c}},"chop");f.chop=wo;var Ao=i(function(t){return function(r){var e=Math.max(1,t);return e>=r.length?[f.copy(r),[]]:[V.pipe(r.slice(1,e),f.prepend(f.head(r))),r.slice(e)]}},"splitAt");f.splitAt=Ao;var Eo=i(function(t){return f.chop(f.splitAt(t))},"chunksOf");f.chunksOf=Eo;var vt=i(function(t,r){return V.pipe(t,f.map(r))},"_map"),Pr=i(function(t,r){return V.pipe(t,f.mapWithIndex(r))},"_mapWithIndex"),Kt=i(function(t,r){return V.pipe(t,f.ap(r))},"_ap"),Tr=i(function(t,r){return V.pipe(t,f.chain(r))},"_chain"),Je=i(function(t,r){return V.pipe(t,f.extend(r))},"_extend"),Ht=i(function(t,r,e){return V.pipe(t,f.reduce(r,e))},"_reduce"),Vt=i(function(t){var r=f.foldMap(t);return function(e,n){return V.pipe(e,r(n))}},"_foldMap"),Xt=i(function(t,r,e){return V.pipe(t,f.reduceRight(r,e))},"_reduceRight"),Dr=i(function(t){var r=f.traverse(t);return function(e,n){return V.pipe(e,r(n))}},"_traverse"),tn=i(function(t,r){return V.pipe(t,f.alt(r))},"_alt"),zr=i(function(t,r,e){return V.pipe(t,f.reduceWithIndex(r,e))},"_reduceWithIndex"),jr=i(function(t){var r=f.foldMapWithIndex(t);return function(e,n){return V.pipe(e,r(n))}},"_foldMapWithIndex"),Cr=i(function(t,r,e){return V.pipe(t,f.reduceRightWithIndex(r,e))},"_reduceRightWithIndex"),rn=i(function(t){var r=f.traverseWithIndex(t);return function(e,n){return V.pipe(e,r(n))}},"_traverseWithIndex"),_o=i(function(t){return function(r){return V.pipe(r,Ge(t()))}},"altW");f.altW=_o;f.alt=f.altW;var So=i(function(t){return f.chain(function(r){return V.pipe(t,f.map(r))})},"ap");f.ap=So;var qo=i(function(t){return f.chainWithIndex(function(r,e){return t(e)})},"chain");f.chain=qo;var Oo=i(function(t){return function(r){for(var e=f.tail(r),n=[t(r)];f.isNonEmpty(e);)n.push(t(e)),e=f.tail(e);return n}},"extend");f.extend=Oo;f.duplicate=f.extend(V.identity);f.flatten=f.chain(V.identity);var Uo=i(function(t){return f.mapWithIndex(function(r,e){return t(e)})},"map");f.map=Uo;var No=i(function(t){return function(r){for(var e=[t(0,f.head(r))],n=1;n<r.length;n++)e.push(t(n,r[n]));return e}},"mapWithIndex");f.mapWithIndex=No;f.reduce=at.reduce;f.reduceWithIndex=at.reduceWithIndex;f.reduceRight=at.reduceRight;f.reduceRightWithIndex=at.reduceRightWithIndex;var Fo=i(function(t){var r=f.traverseWithIndex(t);return function(e){return r(function(n,u){return e(u)})}},"traverse");f.traverse=Fo;var Bo=i(function(t){return f.traverseWithIndex(t)(function(r,e){return e})},"sequence");f.sequence=Bo;var Lo=i(function(t){return function(r){return function(e){for(var n=t.map(r(0,f.head(e)),f.of),u=1;u<e.length;u++)n=t.ap(t.map(n,function(c){return function(h){return V.pipe(c,f.append(h))}}),r(u,e[u]));return n}}},"traverseWithIndex");f.traverseWithIndex=Lo;f.extract=at.head;f.URI="NonEmptyArray";f.getShow=at.getShow;var Po=i(function(){return{concat:nr}},"getSemigroup");f.getSemigroup=Po;f.getEq=at.getEq;var To=i(function(t){var r=f.union(t);return{concat:function(e,n){return r(n)(e)}}},"getUnionSemigroup");f.getUnionSemigroup=To;f.Functor={URI:f.URI,map:vt};f.flap=Xe.flap(f.Functor);f.Pointed={URI:f.URI,of:f.of};f.FunctorWithIndex={URI:f.URI,map:vt,mapWithIndex:Pr};f.Apply={URI:f.URI,map:vt,ap:Kt};f.apFirst=Lr.apFirst(f.Apply);f.apSecond=Lr.apSecond(f.Apply);f.Applicative={URI:f.URI,map:vt,ap:Kt,of:f.of};f.Chain={URI:f.URI,map:vt,ap:Kt,chain:Tr};f.chainFirst=Ve.chainFirst(f.Chain);f.Monad={URI:f.URI,map:vt,ap:Kt,of:f.of,chain:Tr};f.Foldable={URI:f.URI,reduce:Ht,foldMap:Vt,reduceRight:Xt};f.FoldableWithIndex={URI:f.URI,reduce:Ht,foldMap:Vt,reduceRight:Xt,reduceWithIndex:zr,foldMapWithIndex:jr,reduceRightWithIndex:Cr};f.Traversable={URI:f.URI,map:vt,reduce:Ht,foldMap:Vt,reduceRight:Xt,traverse:Dr,sequence:f.sequence};f.TraversableWithIndex={URI:f.URI,map:vt,mapWithIndex:Pr,reduce:Ht,foldMap:Vt,reduceRight:Xt,traverse:Dr,sequence:f.sequence,reduceWithIndex:zr,foldMapWithIndex:jr,reduceRightWithIndex:Cr,traverseWithIndex:rn};f.Alt={URI:f.URI,map:vt,alt:tn};f.Comonad={URI:f.URI,map:vt,extend:Je,extract:f.extract};f.Do=f.of(yt.emptyRecord);f.bindTo=Xe.bindTo(f.Functor);f.bind=Ve.bind(f.Chain);f.apS=Lr.apS(f.Apply);f.head=at.head;var Do=i(function(t){return t.slice(1)},"tail");f.tail=Do;f.last=at.last;var zo=i(function(t){return t.slice(0,-1)},"init");f.init=zo;f.min=at.min;f.max=at.max;var jo=i(function(t){return function(r){return r.reduce(t.concat)}},"concatAll");f.concatAll=jo;var Co=i(function(t){return function(r){return t(f.head(r),f.tail(r))}},"matchLeft");f.matchLeft=Co;var $o=i(function(t){return function(r){return t(f.init(r),f.last(r))}},"matchRight");f.matchRight=$o;var Zo=i(function(t){return function(r){return kt([t(f.head(r))],f.tail(r))}},"modifyHead");f.modifyHead=Zo;var ko=i(function(t){return f.modifyHead(function(){return t})},"updateHead");f.updateHead=ko;var Ko=i(function(t){return function(r){return V.pipe(f.init(r),f.append(t(f.last(r))))}},"modifyLast");f.modifyLast=Ko;var Ho=i(function(t){return f.modifyLast(function(){return t})},"updateLast");f.updateLast=Ho;function Vo(t){var r=f.sort(t),e=Qe(t);return function(n){return f.isNonEmpty(n)?e(r(n)):[]}}i(Vo,"groupSort");f.groupSort=Vo;function Xo(t){return f.filterWithIndex(function(r,e){return t(e)})}i(Xo,"filter");f.filter=Xo;var Go=i(function(t){return function(r){return f.fromArray(r.filter(function(e,n){return t(n,e)}))}},"filterWithIndex");f.filterWithIndex=Go;f.uncons=f.unprepend;f.unsnoc=f.unappend;function Qo(t,r){return r===void 0?f.prepend(t):V.pipe(r,f.prepend(t))}i(Qo,"cons");f.cons=Qo;var Yo=i(function(t,r){return V.pipe(t,f.append(r))},"snoc");f.snoc=Yo;f.prependToAll=f.prependAll;f.fold=at.concatAll;f.nonEmptyArray={URI:f.URI,of:f.of,map:vt,mapWithIndex:Pr,ap:Kt,chain:Tr,extend:Je,extract:f.extract,reduce:Ht,foldMap:Vt,reduceRight:Xt,traverse:Dr,sequence:f.sequence,reduceWithIndex:zr,foldMapWithIndex:jr,reduceRightWithIndex:Cr,traverseWithIndex:rn,alt:tn}});var kr=Q(U=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});U.right=U.left=U.flap=U.Functor=U.Bifunctor=U.URI=U.bimap=U.mapLeft=U.map=U.separated=void 0;var Zr=st(),Jo=_t(),tc=i(function(t,r){return{left:t,right:r}},"separated");U.separated=tc;var rc=i(function(t,r){return Zr.pipe(t,U.map(r))},"_map"),ec=i(function(t,r){return Zr.pipe(t,U.mapLeft(r))},"_mapLeft"),nc=i(function(t,r,e){return Zr.pipe(t,U.bimap(r,e))},"_bimap"),ic=i(function(t){return function(r){return U.separated(U.left(r),t(U.right(r)))}},"map");U.map=ic;var ac=i(function(t){return function(r){return U.separated(t(U.left(r)),U.right(r))}},"mapLeft");U.mapLeft=ac;var uc=i(function(t,r){return function(e){return U.separated(t(U.left(e)),r(U.right(e)))}},"bimap");U.bimap=uc;U.URI="Separated";U.Bifunctor={URI:U.URI,mapLeft:ec,bimap:nc};U.Functor={URI:U.URI,map:rc};U.flap=Jo.flap(U.Functor);var oc=i(function(t){return t.left},"left");U.left=oc;var cc=i(function(t){return t.right},"right");U.right=cc});var Kr=Q(ut=>{"use strict";var fc=ut&&ut.__createBinding||(Object.create?function(t,r,e,n){n===void 0&&(n=e),Object.defineProperty(t,n,{enumerable:!0,get:function(){return r[e]}})}:function(t,r,e,n){n===void 0&&(n=e),t[n]=r[e]}),sc=ut&&ut.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}:function(t,r){t.default=r}),lc=ut&&ut.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var e in t)e!=="default"&&Object.prototype.hasOwnProperty.call(t,e)&&fc(r,t,e);return sc(r,t),r};Object.defineProperty(ut,"__esModule",{value:!0});ut.filterE=ut.witherDefault=ut.wiltDefault=void 0;var en=lc(gt());function hc(t,r){return function(e){var n=t.traverse(e);return function(u,c){return e.map(n(u,c),r.separate)}}}i(hc,"wiltDefault");ut.wiltDefault=hc;function pc(t,r){return function(e){var n=t.traverse(e);return function(u,c){return e.map(n(u,c),r.compact)}}}i(pc,"witherDefault");ut.witherDefault=pc;function dc(t){return function(r){var e=t.wither(r);return function(n){return function(u){return e(u,function(c){return r.map(n(c),function(h){return h?en.some(c):en.none})})}}}}i(dc,"filterE");ut.filterE=dc});var Hr=Q(ir=>{"use strict";Object.defineProperty(ir,"__esModule",{value:!0});ir.guard=void 0;function vc(t,r){return function(e){return e?r.of(void 0):t.zero()}}i(vc,"guard");ir.guard=vc});var vn=Q(a=>{"use strict";var mc=a&&a.__createBinding||(Object.create?function(t,r,e,n){n===void 0&&(n=e),Object.defineProperty(t,n,{enumerable:!0,get:function(){return r[e]}})}:function(t,r,e,n){n===void 0&&(n=e),t[n]=r[e]}),gc=a&&a.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}:function(t,r){t.default=r}),Vr=a&&a.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var e in t)e!=="default"&&Object.prototype.hasOwnProperty.call(t,e)&&mc(r,t,e);return gc(r,t),r},yc=a&&a.__spreadArray||function(t,r){for(var e=0,n=r.length,u=t.length;e<n;e++,u++)t[u]=r[e];return t};Object.defineProperty(a,"__esModule",{value:!0});a.sort=a.lefts=a.rights=a.reverse=a.modifyAt=a.deleteAt=a.updateAt=a.insertAt=a.findLastIndex=a.findLastMap=a.findLast=a.findFirstMap=a.findFirst=a.findIndex=a.dropLeftWhile=a.dropRight=a.dropLeft=a.spanLeft=a.takeLeftWhile=a.takeRight=a.takeLeft=a.init=a.tail=a.last=a.head=a.lookup=a.isOutOfBound=a.size=a.scanRight=a.scanLeft=a.chainWithIndex=a.foldRight=a.matchRight=a.matchRightW=a.foldLeft=a.matchLeft=a.matchLeftW=a.match=a.matchW=a.fromEither=a.fromOption=a.fromPredicate=a.replicate=a.makeBy=a.appendW=a.append=a.prependW=a.prepend=a.isNonEmpty=a.isEmpty=void 0;a.sequence=a.traverse=a.reduceRightWithIndex=a.reduceRight=a.reduceWithIndex=a.foldMap=a.reduce=a.foldMapWithIndex=a.duplicate=a.extend=a.filterWithIndex=a.partitionMapWithIndex=a.partitionMap=a.partitionWithIndex=a.partition=a.compact=a.filterMap=a.filterMapWithIndex=a.filter=a.separate=a.mapWithIndex=a.map=a.flatten=a.chain=a.ap=a.alt=a.altW=a.zero=a.of=a._chainRecBreadthFirst=a._chainRecDepthFirst=a.difference=a.intersection=a.union=a.concat=a.concatW=a.comprehension=a.fromOptionK=a.chunksOf=a.splitAt=a.chop=a.sortBy=a.uniq=a.elem=a.rotate=a.intersperse=a.prependAll=a.unzip=a.zip=a.zipWith=void 0;a.toArray=a.unsafeDeleteAt=a.unsafeUpdateAt=a.unsafeInsertAt=a.fromEitherK=a.FromEither=a.filterE=a.Witherable=a.ChainRecBreadthFirst=a.chainRecBreadthFirst=a.ChainRecDepthFirst=a.chainRecDepthFirst=a.TraversableWithIndex=a.Traversable=a.FoldableWithIndex=a.Foldable=a.FilterableWithIndex=a.Filterable=a.Compactable=a.Extend=a.Alternative=a.guard=a.Zero=a.Alt=a.Unfoldable=a.chainFirst=a.Monad=a.Chain=a.Applicative=a.apSecond=a.apFirst=a.Apply=a.FunctorWithIndex=a.Pointed=a.flap=a.Functor=a.getDifferenceMagma=a.getIntersectionSemigroup=a.getUnionMonoid=a.getUnionSemigroup=a.getOrd=a.getEq=a.getMonoid=a.getSemigroup=a.getShow=a.URI=a.unfold=a.wilt=a.wither=a.traverseWithIndex=void 0;a.readonlyArray=a.prependToAll=a.snoc=a.cons=a.range=a.apS=a.bind=a.bindTo=a.Do=a.exists=a.some=a.every=a.empty=a.fromArray=void 0;var Xr=Lt(),nn=Pt(),Ic=tr(),xc=Ar(),D=st(),an=_t(),P=Vr(gt()),bc=Vr(Mr()),Mc=Tt(),T=Vr(er()),Gr=kr(),Qr=Kr(),Wc=Hr(),Rc=i(function(t){return t.length===0},"isEmpty");a.isEmpty=Rc;a.isNonEmpty=T.isNonEmpty;a.prepend=T.prepend;a.prependW=T.prependW;a.append=T.append;a.appendW=T.appendW;var wc=i(function(t,r){return t<=0?a.empty:T.makeBy(r)(t)},"makeBy");a.makeBy=wc;var Ac=i(function(t,r){return a.makeBy(t,function(){return r})},"replicate");a.replicate=Ac;function Ec(t){return function(r){return t(r)?[r]:a.empty}}i(Ec,"fromPredicate");a.fromPredicate=Ec;var _c=i(function(t){return P.isNone(t)?a.empty:[t.value]},"fromOption");a.fromOption=_c;var Sc=i(function(t){return P.isLeft(t)?a.empty:[t.right]},"fromEither");a.fromEither=Sc;var qc=i(function(t,r){return function(e){return a.isNonEmpty(e)?r(e):t()}},"matchW");a.matchW=qc;a.match=a.matchW;var Oc=i(function(t,r){return function(e){return a.isNonEmpty(e)?r(T.head(e),T.tail(e)):t()}},"matchLeftW");a.matchLeftW=Oc;a.matchLeft=a.matchLeftW;a.foldLeft=a.matchLeft;var Uc=i(function(t,r){return function(e){return a.isNonEmpty(e)?r(T.init(e),T.last(e)):t()}},"matchRightW");a.matchRightW=Uc;a.matchRight=a.matchRightW;a.foldRight=a.matchRight;var Nc=i(function(t){return function(r){if(a.isEmpty(r))return a.empty;for(var e=[],n=0;n<r.length;n++)e.push.apply(e,t(n,r[n]));return e}},"chainWithIndex");a.chainWithIndex=Nc;var Fc=i(function(t,r){return function(e){var n=e.length,u=new Array(n+1);u[0]=t;for(var c=0;c<n;c++)u[c+1]=r(u[c],e[c]);return u}},"scanLeft");a.scanLeft=Fc;var Bc=i(function(t,r){return function(e){var n=e.length,u=new Array(n+1);u[n]=t;for(var c=n-1;c>=0;c--)u[c]=r(e[c],u[c+1]);return u}},"scanRight");a.scanRight=Bc;var Lc=i(function(t){return t.length},"size");a.size=Lc;a.isOutOfBound=T.isOutOfBound;function un(t,r){return r===void 0?function(e){return un(t,e)}:a.isOutOfBound(t,r)?P.none:P.some(r[t])}i(un,"lookup");a.lookup=un;var Pc=i(function(t){return a.isNonEmpty(t)?P.some(T.head(t)):P.none},"head");a.head=Pc;var Tc=i(function(t){return a.isNonEmpty(t)?P.some(T.last(t)):P.none},"last");a.last=Tc;var Dc=i(function(t){return a.isNonEmpty(t)?P.some(T.tail(t)):P.none},"tail");a.tail=Dc;var zc=i(function(t){return a.isNonEmpty(t)?P.some(T.init(t)):P.none},"init");a.init=zc;var jc=i(function(t){return function(r){return a.isOutOfBound(t,r)?r:t===0?a.empty:r.slice(0,t)}},"takeLeft");a.takeLeft=jc;var Cc=i(function(t){return function(r){return a.isOutOfBound(t,r)?r:t===0?a.empty:r.slice(-t)}},"takeRight");a.takeRight=Cc;function $c(t){return function(r){for(var e=[],n=0,u=r;n<u.length;n++){var c=u[n];if(!t(c))break;e.push(c)}var h=e.length;return h===r.length?r:h===0?a.empty:e}}i($c,"takeLeftWhile");a.takeLeftWhile=$c;var on=i(function(t,r){for(var e=t.length,n=0;n<e&&r(t[n]);n++);return n},"spanLeftIndex");function Zc(t){return function(r){var e=a.splitAt(on(r,t))(r),n=e[0],u=e[1];return{init:n,rest:u}}}i(Zc,"spanLeft");a.spanLeft=Zc;var kc=i(function(t){return function(r){return t<=0||a.isEmpty(r)?r:t>=r.length?a.empty:r.slice(t,r.length)}},"dropLeft");a.dropLeft=kc;var Kc=i(function(t){return function(r){return t<=0||a.isEmpty(r)?r:t>=r.length?a.empty:r.slice(0,r.length-t)}},"dropRight");a.dropRight=Kc;function Hc(t){return function(r){var e=on(r,t);return e===0?r:e===r.length?a.empty:r.slice(e)}}i(Hc,"dropLeftWhile");a.dropLeftWhile=Hc;var Vc=i(function(t){return function(r){for(var e=0;e<r.length;e++)if(t(r[e]))return P.some(e);return P.none}},"findIndex");a.findIndex=Vc;function Xc(t){return function(r){for(var e=0;e<r.length;e++)if(t(r[e]))return P.some(r[e]);return P.none}}i(Xc,"findFirst");a.findFirst=Xc;var Gc=i(function(t){return function(r){for(var e=0;e<r.length;e++){var n=t(r[e]);if(P.isSome(n))return n}return P.none}},"findFirstMap");a.findFirstMap=Gc;function Qc(t){return function(r){for(var e=r.length-1;e>=0;e--)if(t(r[e]))return P.some(r[e]);return P.none}}i(Qc,"findLast");a.findLast=Qc;var Yc=i(function(t){return function(r){for(var e=r.length-1;e>=0;e--){var n=t(r[e]);if(P.isSome(n))return n}return P.none}},"findLastMap");a.findLastMap=Yc;var Jc=i(function(t){return function(r){for(var e=r.length-1;e>=0;e--)if(t(r[e]))return P.some(e);return P.none}},"findLastIndex");a.findLastIndex=Jc;var tf=i(function(t,r){return function(e){return t<0||t>e.length?P.none:P.some(T.unsafeInsertAt(t,r,e))}},"insertAt");a.insertAt=tf;var rf=i(function(t,r){return a.modifyAt(t,function(){return r})},"updateAt");a.updateAt=rf;var ef=i(function(t){return function(r){return a.isOutOfBound(t,r)?P.none:P.some(a.unsafeDeleteAt(t,r))}},"deleteAt");a.deleteAt=ef;var nf=i(function(t,r){return function(e){return a.isOutOfBound(t,e)?P.none:P.some(a.unsafeUpdateAt(t,r(e[t]),e))}},"modifyAt");a.modifyAt=nf;var af=i(function(t){return t.length<=1?t:t.slice().reverse()},"reverse");a.reverse=af;var uf=i(function(t){for(var r=[],e=0;e<t.length;e++){var n=t[e];n._tag==="Right"&&r.push(n.right)}return r},"rights");a.rights=uf;var of=i(function(t){for(var r=[],e=0;e<t.length;e++){var n=t[e];n._tag==="Left"&&r.push(n.left)}return r},"lefts");a.lefts=of;var cf=i(function(t){return function(r){return r.length<=1?r:r.slice().sort(t.compare)}},"sort");a.sort=cf;var ff=i(function(t,r,e){for(var n=[],u=Math.min(t.length,r.length),c=0;c<u;c++)n[c]=e(t[c],r[c]);return n},"zipWith");a.zipWith=ff;function cn(t,r){return r===void 0?function(e){return cn(e,t)}:a.zipWith(t,r,function(e,n){return[e,n]})}i(cn,"zip");a.zip=cn;var sf=i(function(t){for(var r=[],e=[],n=0;n<t.length;n++)r[n]=t[n][0],e[n]=t[n][1];return[r,e]},"unzip");a.unzip=sf;var lf=i(function(t){var r=T.prependAll(t);return function(e){return a.isNonEmpty(e)?r(e):e}},"prependAll");a.prependAll=lf;var hf=i(function(t){var r=T.intersperse(t);return function(e){return a.isNonEmpty(e)?r(e):e}},"intersperse");a.intersperse=hf;var pf=i(function(t){var r=T.rotate(t);return function(e){return a.isNonEmpty(e)?r(e):e}},"rotate");a.rotate=pf;function ar(t){return function(r,e){if(e===void 0){var n=ar(t);return function(h){return n(r,h)}}for(var u=i(function(h){return t.equals(h,r)},"predicate"),c=0;c<e.length;c++)if(u(e[c]))return!0;return!1}}i(ar,"elem");a.elem=ar;var df=i(function(t){var r=T.uniq(t);return function(e){return a.isNonEmpty(e)?r(e):e}},"uniq");a.uniq=df;var vf=i(function(t){var r=T.sortBy(t);return function(e){return a.isNonEmpty(e)?r(e):e}},"sortBy");a.sortBy=vf;var mf=i(function(t){var r=T.chop(t);return function(e){return a.isNonEmpty(e)?r(e):a.empty}},"chop");a.chop=mf;var gf=i(function(t){return function(r){return t>=1&&a.isNonEmpty(r)?T.splitAt(t)(r):a.isEmpty(r)?[r,a.empty]:[a.empty,r]}},"splitAt");a.splitAt=gf;var yf=i(function(t){var r=T.chunksOf(t);return function(e){return a.isNonEmpty(e)?r(e):a.empty}},"chunksOf");a.chunksOf=yf;var If=i(function(t){return function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return a.fromOption(t.apply(void 0,r))}},"fromOptionK");a.fromOptionK=If;function xf(t,r,e){e===void 0&&(e=i(function(){return!0},"g"));var n=i(function(u,c){return a.isNonEmpty(c)?D.pipe(T.head(c),a.chain(function(h){return n(D.pipe(u,a.append(h)),T.tail(c))})):e.apply(void 0,u)?[r.apply(void 0,u)]:a.empty},"go");return n(a.empty,t)}i(xf,"comprehension");a.comprehension=xf;var bf=i(function(t){return function(r){return a.isEmpty(r)?t:a.isEmpty(t)?r:r.concat(t)}},"concatW");a.concatW=bf;a.concat=a.concatW;function Yr(t){var r=T.union(t);return function(e,n){if(n===void 0){var u=Yr(t);return function(c){return u(c,e)}}return a.isNonEmpty(e)&&a.isNonEmpty(n)?r(n)(e):a.isNonEmpty(e)?e:n}}i(Yr,"union");a.union=Yr;function Jr(t){var r=ar(t);return function(e,n){if(n===void 0){var u=Jr(t);return function(c){return u(c,e)}}return e.filter(function(c){return r(c,n)})}}i(Jr,"intersection");a.intersection=Jr;function te(t){var r=ar(t);return function(e,n){if(n===void 0){var u=te(t);return function(c){return u(c,e)}}return e.filter(function(c){return!r(c,n)})}}i(te,"difference");a.difference=te;var Y=i(function(t,r){return D.pipe(t,a.map(r))},"_map"),ur=i(function(t,r){return D.pipe(t,a.mapWithIndex(r))},"_mapWithIndex"),It=i(function(t,r){return D.pipe(t,a.ap(r))},"_ap"),Gt=i(function(t,r){return D.pipe(t,a.chain(r))},"_chain"),or=i(function(t,r){return D.pipe(t,a.filter(r))},"_filter"),cr=i(function(t,r){return D.pipe(t,a.filterMap(r))},"_filterMap"),fr=i(function(t,r){return D.pipe(t,a.partition(r))},"_partition"),sr=i(function(t,r){return D.pipe(t,a.partitionMap(r))},"_partitionMap"),fn=i(function(t,r){return D.pipe(t,a.partitionWithIndex(r))},"_partitionWithIndex"),sn=i(function(t,r){return D.pipe(t,a.partitionMapWithIndex(r))},"_partitionMapWithIndex"),re=i(function(t,r){return D.pipe(t,a.alt(r))},"_alt"),Mt=i(function(t,r,e){return D.pipe(t,a.reduce(r,e))},"_reduce"),St=i(function(t){var r=a.foldMap(t);return function(e,n){return D.pipe(e,r(n))}},"_foldMap"),qt=i(function(t,r,e){return D.pipe(t,a.reduceRight(r,e))},"_reduceRight"),ee=i(function(t,r,e){return D.pipe(t,a.reduceWithIndex(r,e))},"_reduceWithIndex"),ne=i(function(t){var r=a.foldMapWithIndex(t);return function(e,n){return D.pipe(e,r(n))}},"_foldMapWithIndex"),ie=i(function(t,r,e){return D.pipe(t,a.reduceRightWithIndex(r,e))},"_reduceRightWithIndex"),ln=i(function(t,r){return D.pipe(t,a.filterMapWithIndex(r))},"_filterMapWithIndex"),hn=i(function(t,r){return D.pipe(t,a.filterWithIndex(r))},"_filterWithIndex"),pn=i(function(t,r){return D.pipe(t,a.extend(r))},"_extend"),lr=i(function(t){var r=a.traverse(t);return function(e,n){return D.pipe(e,r(n))}},"_traverse"),dn=i(function(t){var r=a.traverseWithIndex(t);return function(e,n){return D.pipe(e,r(n))}},"_traverseWithIndex"),Mf=i(function(t,r){return D.pipe(t,a.chainRecDepthFirst(r))},"_chainRecDepthFirst");a._chainRecDepthFirst=Mf;var Wf=i(function(t,r){return D.pipe(t,a.chainRecBreadthFirst(r))},"_chainRecBreadthFirst");a._chainRecBreadthFirst=Wf;a.of=T.of;var Rf=i(function(){return a.empty},"zero");a.zero=Rf;var wf=i(function(t){return function(r){return r.concat(t())}},"altW");a.altW=wf;a.alt=a.altW;var Af=i(function(t){return a.chain(function(r){return D.pipe(t,a.map(r))})},"ap");a.ap=Af;var Ef=i(function(t){return function(r){return D.pipe(r,a.chainWithIndex(function(e,n){return t(n)}))}},"chain");a.chain=Ef;a.flatten=a.chain(D.identity);var _f=i(function(t){return function(r){return r.map(function(e){return t(e)})}},"map");a.map=_f;var Sf=i(function(t){return function(r){return r.map(function(e,n){return t(n,e)})}},"mapWithIndex");a.mapWithIndex=Sf;var qf=i(function(t){for(var r=[],e=[],n=0,u=t;n<u.length;n++){var c=u[n];c._tag==="Left"?r.push(c.left):e.push(c.right)}return Gr.separated(r,e)},"separate");a.separate=qf;var Of=i(function(t){return function(r){return r.filter(t)}},"filter");a.filter=Of;var Uf=i(function(t){return function(r){for(var e=[],n=0;n<r.length;n++){var u=t(n,r[n]);P.isSome(u)&&e.push(u.value)}return e}},"filterMapWithIndex");a.filterMapWithIndex=Uf;var Nf=i(function(t){return a.filterMapWithIndex(function(r,e){return t(e)})},"filterMap");a.filterMap=Nf;a.compact=a.filterMap(D.identity);var Ff=i(function(t){return a.partitionWithIndex(function(r,e){return t(e)})},"partition");a.partition=Ff;var Bf=i(function(t){return function(r){for(var e=[],n=[],u=0;u<r.length;u++){var c=r[u];t(u,c)?n.push(c):e.push(c)}return Gr.separated(e,n)}},"partitionWithIndex");a.partitionWithIndex=Bf;var Lf=i(function(t){return a.partitionMapWithIndex(function(r,e){return t(e)})},"partitionMap");a.partitionMap=Lf;var Pf=i(function(t){return function(r){for(var e=[],n=[],u=0;u<r.length;u++){var c=t(u,r[u]);c._tag==="Left"?e.push(c.left):n.push(c.right)}return Gr.separated(e,n)}},"partitionMapWithIndex");a.partitionMapWithIndex=Pf;var Tf=i(function(t){return function(r){return r.filter(function(e,n){return t(n,e)})}},"filterWithIndex");a.filterWithIndex=Tf;var Df=i(function(t){return function(r){return r.map(function(e,n){return t(r.slice(n))})}},"extend");a.extend=Df;a.duplicate=a.extend(D.identity);var zf=i(function(t){return function(r){return function(e){return e.reduce(function(n,u,c){return t.concat(n,r(c,u))},t.empty)}}},"foldMapWithIndex");a.foldMapWithIndex=zf;var jf=i(function(t,r){return a.reduceWithIndex(t,function(e,n,u){return r(n,u)})},"reduce");a.reduce=jf;var Cf=i(function(t){var r=a.foldMapWithIndex(t);return function(e){return r(function(n,u){return e(u)})}},"foldMap");a.foldMap=Cf;var $f=i(function(t,r){return function(e){for(var n=e.length,u=t,c=0;c<n;c++)u=r(c,u,e[c]);return u}},"reduceWithIndex");a.reduceWithIndex=$f;var Zf=i(function(t,r){return a.reduceRightWithIndex(t,function(e,n,u){return r(n,u)})},"reduceRight");a.reduceRight=Zf;var kf=i(function(t,r){return function(e){return e.reduceRight(function(n,u,c){return r(c,u,n)},t)}},"reduceRightWithIndex");a.reduceRightWithIndex=kf;var Kf=i(function(t){var r=a.traverseWithIndex(t);return function(e){return r(function(n,u){return e(u)})}},"traverse");a.traverse=Kf;var Hf=i(function(t){return function(r){return Mt(r,t.of(a.zero()),function(e,n){return t.ap(t.map(e,function(u){return function(c){return D.pipe(u,a.append(c))}}),n)})}},"sequence");a.sequence=Hf;var Vf=i(function(t){return function(r){return a.reduceWithIndex(t.of(a.zero()),function(e,n,u){return t.ap(t.map(n,function(c){return function(h){return D.pipe(c,a.append(h))}}),r(e,u))})}},"traverseWithIndex");a.traverseWithIndex=Vf;var Xf=i(function(t){var r=ae(t);return function(e){return function(n){return r(n,e)}}},"wither");a.wither=Xf;var Gf=i(function(t){var r=ue(t);return function(e){return function(n){return r(n,e)}}},"wilt");a.wilt=Gf;var Qf=i(function(t,r){for(var e=[],n=t;;){var u=r(n);if(P.isSome(u)){var c=u.value,h=c[0],y=c[1];e.push(h),n=y}else break}return e},"unfold");a.unfold=Qf;a.URI="ReadonlyArray";var Yf=i(function(t){return{show:function(r){return"["+r.map(t.show).join(", ")+"]"}}},"getShow");a.getShow=Yf;var Jf=i(function(){return{concat:function(t,r){return a.isEmpty(t)?r:a.isEmpty(r)?t:t.concat(r)}}},"getSemigroup");a.getSemigroup=Jf;var ts=i(function(){return{concat:a.getSemigroup().concat,empty:a.empty}},"getMonoid");a.getMonoid=ts;var rs=i(function(t){return Ic.fromEquals(function(r,e){return r.length===e.length&&r.every(function(n,u){return t.equals(n,e[u])})})},"getEq");a.getEq=rs;var es=i(function(t){return Mc.fromCompare(function(r,e){for(var n=r.length,u=e.length,c=Math.min(n,u),h=0;h<c;h++){var y=t.compare(r[h],e[h]);if(y!==0)return y}return bc.Ord.compare(n,u)})},"getOrd");a.getOrd=es;var ns=i(function(t){var r=Yr(t);return{concat:function(e,n){return r(n)(e)}}},"getUnionSemigroup");a.getUnionSemigroup=ns;var is=i(function(t){return{concat:a.getUnionSemigroup(t).concat,empty:a.empty}},"getUnionMonoid");a.getUnionMonoid=is;var as=i(function(t){var r=Jr(t);return{concat:function(e,n){return r(n)(e)}}},"getIntersectionSemigroup");a.getIntersectionSemigroup=as;var us=i(function(t){var r=te(t);return{concat:function(e,n){return r(n)(e)}}},"getDifferenceMagma");a.getDifferenceMagma=us;a.Functor={URI:a.URI,map:Y};a.flap=an.flap(a.Functor);a.Pointed={URI:a.URI,of:a.of};a.FunctorWithIndex={URI:a.URI,map:Y,mapWithIndex:ur};a.Apply={URI:a.URI,map:Y,ap:It};a.apFirst=Xr.apFirst(a.Apply);a.apSecond=Xr.apSecond(a.Apply);a.Applicative={URI:a.URI,map:Y,ap:It,of:a.of};a.Chain={URI:a.URI,map:Y,ap:It,chain:Gt};a.Monad={URI:a.URI,map:Y,ap:It,of:a.of,chain:Gt};a.chainFirst=nn.chainFirst(a.Chain);a.Unfoldable={URI:a.URI,unfold:a.unfold};a.Alt={URI:a.URI,map:Y,alt:re};a.Zero={URI:a.URI,zero:a.zero};a.guard=Wc.guard(a.Zero,a.Pointed);a.Alternative={URI:a.URI,map:Y,ap:It,of:a.of,alt:re,zero:a.zero};a.Extend={URI:a.URI,map:Y,extend:pn};a.Compactable={URI:a.URI,compact:a.compact,separate:a.separate};a.Filterable={URI:a.URI,map:Y,compact:a.compact,separate:a.separate,filter:or,filterMap:cr,partition:fr,partitionMap:sr};a.FilterableWithIndex={URI:a.URI,map:Y,mapWithIndex:ur,compact:a.compact,separate:a.separate,filter:or,filterMap:cr,partition:fr,partitionMap:sr,partitionMapWithIndex:sn,partitionWithIndex:fn,filterMapWithIndex:ln,filterWithIndex:hn};a.Foldable={URI:a.URI,reduce:Mt,foldMap:St,reduceRight:qt};a.FoldableWithIndex={URI:a.URI,reduce:Mt,foldMap:St,reduceRight:qt,reduceWithIndex:ee,foldMapWithIndex:ne,reduceRightWithIndex:ie};a.Traversable={URI:a.URI,map:Y,reduce:Mt,foldMap:St,reduceRight:qt,traverse:lr,sequence:a.sequence};a.TraversableWithIndex={URI:a.URI,map:Y,mapWithIndex:ur,reduce:Mt,foldMap:St,reduceRight:qt,reduceWithIndex:ee,foldMapWithIndex:ne,reduceRightWithIndex:ie,traverse:lr,sequence:a.sequence,traverseWithIndex:dn};var os=i(function(t){return function(r){for(var e=yc([],t(r)),n=[];e.length>0;){var u=e.shift();P.isLeft(u)?e.unshift.apply(e,t(u.left)):n.push(u.right)}return n}},"chainRecDepthFirst");a.chainRecDepthFirst=os;a.ChainRecDepthFirst={URI:a.URI,map:Y,ap:It,chain:Gt,chainRec:a._chainRecDepthFirst};var cs=i(function(t){return function(r){var e=t(r),n=[],u=[];function c(N){P.isLeft(N)?t(N.left).forEach(function($){return n.push($)}):u.push(N.right)}i(c,"go");for(var h=0,y=e;h<y.length;h++){var A=y[h];c(A)}for(;n.length>0;)c(n.shift());return u}},"chainRecBreadthFirst");a.chainRecBreadthFirst=cs;a.ChainRecBreadthFirst={URI:a.URI,map:Y,ap:It,chain:Gt,chainRec:a._chainRecBreadthFirst};var ae=Qr.witherDefault(a.Traversable,a.Compactable),ue=Qr.wiltDefault(a.Traversable,a.Compactable);a.Witherable={URI:a.URI,map:Y,compact:a.compact,separate:a.separate,filter:or,filterMap:cr,partition:fr,partitionMap:sr,reduce:Mt,foldMap:St,reduceRight:qt,traverse:lr,sequence:a.sequence,wither:ae,wilt:ue};a.filterE=Qr.filterE(a.Witherable);a.FromEither={URI:a.URI,fromEither:a.fromEither};a.fromEitherK=xc.fromEitherK(a.FromEither);a.unsafeInsertAt=T.unsafeInsertAt;var fs=i(function(t,r,e){return a.isNonEmpty(e)?T.unsafeUpdateAt(t,r,e):e},"unsafeUpdateAt");a.unsafeUpdateAt=fs;var ss=i(function(t,r){var e=r.slice();return e.splice(t,1),e},"unsafeDeleteAt");a.unsafeDeleteAt=ss;var ls=i(function(t){return t.slice()},"toArray");a.toArray=ls;var hs=i(function(t){return a.isEmpty(t)?a.empty:t.slice()},"fromArray");a.fromArray=hs;a.empty=T.empty;function ps(t){return function(r){return r.every(t)}}i(ps,"every");a.every=ps;var ds=i(function(t){return function(r){return r.some(t)}},"some");a.some=ds;a.exists=a.some;a.Do=a.of(P.emptyRecord);a.bindTo=an.bindTo(a.Functor);a.bind=nn.bind(a.Chain);a.apS=Xr.apS(a.Apply);a.range=T.range;a.cons=T.cons;a.snoc=T.snoc;a.prependToAll=a.prependAll;a.readonlyArray={URI:a.URI,compact:a.compact,separate:a.separate,map:Y,ap:It,of:a.of,chain:Gt,filter:or,filterMap:cr,partition:fr,partitionMap:sr,mapWithIndex:ur,partitionMapWithIndex:sn,partitionWithIndex:fn,filterMapWithIndex:ln,filterWithIndex:hn,alt:re,zero:a.zero,unfold:a.unfold,reduce:Mt,foldMap:St,reduceRight:qt,traverse:lr,sequence:a.sequence,reduceWithIndex:ee,foldMapWithIndex:ne,reduceRightWithIndex:ie,traverseWithIndex:dn,extend:pn,wither:ae,wilt:ue}});var An=Q(o=>{"use strict";var vs=o&&o.__createBinding||(Object.create?function(t,r,e,n){n===void 0&&(n=e),Object.defineProperty(t,n,{enumerable:!0,get:function(){return r[e]}})}:function(t,r,e,n){n===void 0&&(n=e),t[n]=r[e]}),ms=o&&o.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}:function(t,r){t.default=r}),oe=o&&o.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var e in t)e!=="default"&&Object.prototype.hasOwnProperty.call(t,e)&&vs(r,t,e);return ms(r,t),r};Object.defineProperty(o,"__esModule",{value:!0});o.lefts=o.rights=o.reverse=o.modifyAt=o.deleteAt=o.updateAt=o.insertAt=o.copy=o.findLastIndex=o.findLastMap=o.findLast=o.findFirstMap=o.findFirst=o.findIndex=o.dropLeftWhile=o.dropRight=o.dropLeft=o.spanLeft=o.takeLeftWhile=o.takeRight=o.takeLeft=o.init=o.tail=o.last=o.head=o.lookup=o.isOutOfBound=o.size=o.scanRight=o.scanLeft=o.chainWithIndex=o.foldRight=o.matchRight=o.matchRightW=o.foldLeft=o.matchLeft=o.matchLeftW=o.match=o.matchW=o.fromEither=o.fromOption=o.fromPredicate=o.replicate=o.makeBy=o.appendW=o.append=o.prependW=o.prepend=o.isNonEmpty=o.isEmpty=void 0;o.traverseWithIndex=o.sequence=o.traverse=o.reduceRightWithIndex=o.reduceRight=o.reduceWithIndex=o.reduce=o.foldMapWithIndex=o.foldMap=o.duplicate=o.extend=o.filterWithIndex=o.alt=o.altW=o.partitionMapWithIndex=o.partitionMap=o.partitionWithIndex=o.partition=o.filter=o.separate=o.compact=o.filterMap=o.filterMapWithIndex=o.mapWithIndex=o.flatten=o.chain=o.ap=o.map=o.zero=o.of=o.difference=o.intersection=o.union=o.concat=o.concatW=o.comprehension=o.fromOptionK=o.chunksOf=o.splitAt=o.chop=o.sortBy=o.uniq=o.elem=o.rotate=o.intersperse=o.prependAll=o.unzip=o.zip=o.zipWith=o.sort=void 0;o.some=o.every=o.unsafeDeleteAt=o.unsafeUpdateAt=o.unsafeInsertAt=o.fromEitherK=o.FromEither=o.filterE=o.ChainRecBreadthFirst=o.chainRecBreadthFirst=o.ChainRecDepthFirst=o.chainRecDepthFirst=o.Witherable=o.TraversableWithIndex=o.Traversable=o.FoldableWithIndex=o.Foldable=o.FilterableWithIndex=o.Filterable=o.Compactable=o.Extend=o.Alternative=o.guard=o.Zero=o.Alt=o.Unfoldable=o.Monad=o.chainFirst=o.Chain=o.Applicative=o.apSecond=o.apFirst=o.Apply=o.FunctorWithIndex=o.Pointed=o.flap=o.Functor=o.getDifferenceMagma=o.getIntersectionSemigroup=o.getUnionMonoid=o.getUnionSemigroup=o.getOrd=o.getEq=o.getMonoid=o.getSemigroup=o.getShow=o.URI=o.unfold=o.wilt=o.wither=void 0;o.array=o.prependToAll=o.snoc=o.cons=o.empty=o.range=o.apS=o.bind=o.bindTo=o.Do=o.exists=void 0;var ce=Lt(),mn=Pt(),gs=Ar(),C=st(),gn=_t(),et=oe(gt()),Z=oe($r()),X=oe(vn()),fe=kr(),se=Kr(),ys=Hr(),Is=i(function(t){return t.length===0},"isEmpty");o.isEmpty=Is;o.isNonEmpty=Z.isNonEmpty;o.prepend=Z.prepend;o.prependW=Z.prependW;o.append=Z.append;o.appendW=Z.appendW;var xs=i(function(t,r){return t<=0?[]:Z.makeBy(r)(t)},"makeBy");o.makeBy=xs;var bs=i(function(t,r){return o.makeBy(t,function(){return r})},"replicate");o.replicate=bs;function Ms(t){return function(r){return t(r)?[r]:[]}}i(Ms,"fromPredicate");o.fromPredicate=Ms;var Ws=i(function(t){return et.isNone(t)?[]:[t.value]},"fromOption");o.fromOption=Ws;var Rs=i(function(t){return et.isLeft(t)?[]:[t.right]},"fromEither");o.fromEither=Rs;var ws=i(function(t,r){return function(e){return o.isNonEmpty(e)?r(e):t()}},"matchW");o.matchW=ws;o.match=o.matchW;var As=i(function(t,r){return function(e){return o.isNonEmpty(e)?r(Z.head(e),Z.tail(e)):t()}},"matchLeftW");o.matchLeftW=As;o.matchLeft=o.matchLeftW;o.foldLeft=o.matchLeft;var Es=i(function(t,r){return function(e){return o.isNonEmpty(e)?r(Z.init(e),Z.last(e)):t()}},"matchRightW");o.matchRightW=Es;o.matchRight=o.matchRightW;o.foldRight=o.matchRight;var _s=i(function(t){return function(r){for(var e=[],n=0;n<r.length;n++)e.push.apply(e,t(n,r[n]));return e}},"chainWithIndex");o.chainWithIndex=_s;var Ss=i(function(t,r){return function(e){var n=e.length,u=new Array(n+1);u[0]=t;for(var c=0;c<n;c++)u[c+1]=r(u[c],e[c]);return u}},"scanLeft");o.scanLeft=Ss;var qs=i(function(t,r){return function(e){var n=e.length,u=new Array(n+1);u[n]=t;for(var c=n-1;c>=0;c--)u[c]=r(e[c],u[c+1]);return u}},"scanRight");o.scanRight=qs;var Os=i(function(t){return t.length},"size");o.size=Os;o.isOutOfBound=Z.isOutOfBound;o.lookup=X.lookup;o.head=X.head;o.last=X.last;var Us=i(function(t){return o.isNonEmpty(t)?et.some(Z.tail(t)):et.none},"tail");o.tail=Us;var Ns=i(function(t){return o.isNonEmpty(t)?et.some(Z.init(t)):et.none},"init");o.init=Ns;var Fs=i(function(t){return function(r){return o.isOutOfBound(t,r)?o.copy(r):r.slice(0,t)}},"takeLeft");o.takeLeft=Fs;var Bs=i(function(t){return function(r){return o.isOutOfBound(t,r)?o.copy(r):t===0?[]:r.slice(-t)}},"takeRight");o.takeRight=Bs;function Ls(t){return function(r){for(var e=[],n=0,u=r;n<u.length;n++){var c=u[n];if(!t(c))break;e.push(c)}return e}}i(Ls,"takeLeftWhile");o.takeLeftWhile=Ls;var yn=i(function(t,r){for(var e=t.length,n=0;n<e&&r(t[n]);n++);return n},"spanLeftIndex");function Ps(t){return function(r){var e=o.splitAt(yn(r,t))(r),n=e[0],u=e[1];return{init:n,rest:u}}}i(Ps,"spanLeft");o.spanLeft=Ps;var Ts=i(function(t){return function(r){return t<=0||o.isEmpty(r)?o.copy(r):t>=r.length?[]:r.slice(t,r.length)}},"dropLeft");o.dropLeft=Ts;var Ds=i(function(t){return function(r){return t<=0||o.isEmpty(r)?o.copy(r):t>=r.length?[]:r.slice(0,r.length-t)}},"dropRight");o.dropRight=Ds;function zs(t){return function(r){return r.slice(yn(r,t))}}i(zs,"dropLeftWhile");o.dropLeftWhile=zs;o.findIndex=X.findIndex;function js(t){return X.findFirst(t)}i(js,"findFirst");o.findFirst=js;o.findFirstMap=X.findFirstMap;function Cs(t){return X.findLast(t)}i(Cs,"findLast");o.findLast=Cs;o.findLastMap=X.findLastMap;o.findLastIndex=X.findLastIndex;var $s=i(function(t){return t.slice()},"copy");o.copy=$s;var Zs=i(function(t,r){return function(e){return t<0||t>e.length?et.none:et.some(o.unsafeInsertAt(t,r,e))}},"insertAt");o.insertAt=Zs;var ks=i(function(t,r){return o.modifyAt(t,function(){return r})},"updateAt");o.updateAt=ks;var Ks=i(function(t){return function(r){return o.isOutOfBound(t,r)?et.none:et.some(o.unsafeDeleteAt(t,r))}},"deleteAt");o.deleteAt=Ks;var Hs=i(function(t,r){return function(e){return o.isOutOfBound(t,e)?et.none:et.some(o.unsafeUpdateAt(t,r(e[t]),e))}},"modifyAt");o.modifyAt=Hs;var Vs=i(function(t){return o.isEmpty(t)?[]:t.slice().reverse()},"reverse");o.reverse=Vs;var Xs=i(function(t){for(var r=[],e=0;e<t.length;e++){var n=t[e];n._tag==="Right"&&r.push(n.right)}return r},"rights");o.rights=Xs;var Gs=i(function(t){for(var r=[],e=0;e<t.length;e++){var n=t[e];n._tag==="Left"&&r.push(n.left)}return r},"lefts");o.lefts=Gs;var Qs=i(function(t){return function(r){return r.length<=1?o.copy(r):r.slice().sort(t.compare)}},"sort");o.sort=Qs;var Ys=i(function(t,r,e){for(var n=[],u=Math.min(t.length,r.length),c=0;c<u;c++)n[c]=e(t[c],r[c]);return n},"zipWith");o.zipWith=Ys;function In(t,r){return r===void 0?function(e){return In(e,t)}:o.zipWith(t,r,function(e,n){return[e,n]})}i(In,"zip");o.zip=In;var Js=i(function(t){for(var r=[],e=[],n=0;n<t.length;n++)r[n]=t[n][0],e[n]=t[n][1];return[r,e]},"unzip");o.unzip=Js;var tl=i(function(t){var r=Z.prependAll(t);return function(e){return o.isNonEmpty(e)?r(e):[]}},"prependAll");o.prependAll=tl;var rl=i(function(t){var r=Z.intersperse(t);return function(e){return o.isNonEmpty(e)?r(e):o.copy(e)}},"intersperse");o.intersperse=rl;var el=i(function(t){var r=Z.rotate(t);return function(e){return o.isNonEmpty(e)?r(e):o.copy(e)}},"rotate");o.rotate=el;o.elem=X.elem;var nl=i(function(t){var r=Z.uniq(t);return function(e){return o.isNonEmpty(e)?r(e):o.copy(e)}},"uniq");o.uniq=nl;var il=i(function(t){var r=Z.sortBy(t);return function(e){return o.isNonEmpty(e)?r(e):o.copy(e)}},"sortBy");o.sortBy=il;var al=i(function(t){var r=Z.chop(t);return function(e){return o.isNonEmpty(e)?r(e):[]}},"chop");o.chop=al;var ul=i(function(t){return function(r){return t>=1&&o.isNonEmpty(r)?Z.splitAt(t)(r):o.isEmpty(r)?[o.copy(r),[]]:[[],o.copy(r)]}},"splitAt");o.splitAt=ul;var ol=i(function(t){var r=Z.chunksOf(t);return function(e){return o.isNonEmpty(e)?r(e):[]}},"chunksOf");o.chunksOf=ol;var cl=i(function(t){return function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return o.fromOption(t.apply(void 0,r))}},"fromOptionK");o.fromOptionK=cl;function fl(t,r,e){e===void 0&&(e=i(function(){return!0},"g"));var n=i(function(u,c){return o.isNonEmpty(c)?C.pipe(Z.head(c),o.chain(function(h){return n(C.pipe(u,o.append(h)),Z.tail(c))})):e.apply(void 0,u)?[r.apply(void 0,u)]:[]},"go");return n([],t)}i(fl,"comprehension");o.comprehension=fl;var sl=i(function(t){return function(r){return o.isEmpty(r)?o.copy(t):o.isEmpty(t)?o.copy(r):r.concat(t)}},"concatW");o.concatW=sl;o.concat=o.concatW;function le(t){var r=Z.union(t);return function(e,n){if(n===void 0){var u=le(t);return function(c){return u(c,e)}}return o.isNonEmpty(e)&&o.isNonEmpty(n)?r(n)(e):o.isNonEmpty(e)?o.copy(e):o.copy(n)}}i(le,"union");o.union=le;function he(t){var r=o.elem(t);return function(e,n){if(n===void 0){var u=he(t);return function(c){return u(c,e)}}return e.filter(function(c){return r(c,n)})}}i(he,"intersection");o.intersection=he;function pe(t){var r=o.elem(t);return function(e,n){if(n===void 0){var u=pe(t);return function(c){return u(c,e)}}return e.filter(function(c){return!r(c,n)})}}i(pe,"difference");o.difference=pe;var J=i(function(t,r){return C.pipe(t,o.map(r))},"_map"),hr=i(function(t,r){return C.pipe(t,o.mapWithIndex(r))},"_mapWithIndex"),xt=i(function(t,r){return C.pipe(t,o.ap(r))},"_ap"),Qt=i(function(t,r){return C.pipe(t,o.chain(r))},"_chain"),pr=i(function(t,r){return C.pipe(t,o.filter(r))},"_filter"),dr=i(function(t,r){return C.pipe(t,o.filterMap(r))},"_filterMap"),vr=i(function(t,r){return C.pipe(t,o.partition(r))},"_partition"),mr=i(function(t,r){return C.pipe(t,o.partitionMap(r))},"_partitionMap"),xn=i(function(t,r){return C.pipe(t,o.partitionWithIndex(r))},"_partitionWithIndex"),bn=i(function(t,r){return C.pipe(t,o.partitionMapWithIndex(r))},"_partitionMapWithIndex"),de=i(function(t,r){return C.pipe(t,o.alt(r))},"_alt"),Wt=i(function(t,r,e){return C.pipe(t,o.reduce(r,e))},"_reduce"),Ot=i(function(t){var r=o.foldMap(t);return function(e,n){return C.pipe(e,r(n))}},"_foldMap"),Ut=i(function(t,r,e){return C.pipe(t,o.reduceRight(r,e))},"_reduceRight"),ve=i(function(t,r,e){return C.pipe(t,o.reduceWithIndex(r,e))},"_reduceWithIndex"),me=i(function(t){var r=o.foldMapWithIndex(t);return function(e,n){return C.pipe(e,r(n))}},"_foldMapWithIndex"),ge=i(function(t,r,e){return C.pipe(t,o.reduceRightWithIndex(r,e))},"_reduceRightWithIndex"),Mn=i(function(t,r){return C.pipe(t,o.filterMapWithIndex(r))},"_filterMapWithIndex"),Wn=i(function(t,r){return C.pipe(t,o.filterWithIndex(r))},"_filterWithIndex"),Rn=i(function(t,r){return C.pipe(t,o.extend(r))},"_extend"),gr=i(function(t){var r=o.traverse(t);return function(e,n){return C.pipe(e,r(n))}},"_traverse"),wn=i(function(t){var r=o.traverseWithIndex(t);return function(e,n){return C.pipe(e,r(n))}},"_traverseWithIndex"),ll=X._chainRecDepthFirst,hl=X._chainRecBreadthFirst;o.of=Z.of;var pl=i(function(){return[]},"zero");o.zero=pl;var dl=i(function(t){return function(r){return r.map(function(e){return t(e)})}},"map");o.map=dl;var vl=i(function(t){return o.chain(function(r){return C.pipe(t,o.map(r))})},"ap");o.ap=vl;var ml=i(function(t){return function(r){return C.pipe(r,o.chainWithIndex(function(e,n){return t(n)}))}},"chain");o.chain=ml;o.flatten=o.chain(C.identity);var gl=i(function(t){return function(r){return r.map(function(e,n){return t(n,e)})}},"mapWithIndex");o.mapWithIndex=gl;var yl=i(function(t){return function(r){for(var e=[],n=0;n<r.length;n++){var u=t(n,r[n]);et.isSome(u)&&e.push(u.value)}return e}},"filterMapWithIndex");o.filterMapWithIndex=yl;var Il=i(function(t){return o.filterMapWithIndex(function(r,e){return t(e)})},"filterMap");o.filterMap=Il;o.compact=o.filterMap(C.identity);var xl=i(function(t){for(var r=[],e=[],n=0,u=t;n<u.length;n++){var c=u[n];c._tag==="Left"?r.push(c.left):e.push(c.right)}return fe.separated(r,e)},"separate");o.separate=xl;var bl=i(function(t){return function(r){return r.filter(t)}},"filter");o.filter=bl;var Ml=i(function(t){return o.partitionWithIndex(function(r,e){return t(e)})},"partition");o.partition=Ml;var Wl=i(function(t){return function(r){for(var e=[],n=[],u=0;u<r.length;u++){var c=r[u];t(u,c)?n.push(c):e.push(c)}return fe.separated(e,n)}},"partitionWithIndex");o.partitionWithIndex=Wl;var Rl=i(function(t){return o.partitionMapWithIndex(function(r,e){return t(e)})},"partitionMap");o.partitionMap=Rl;var wl=i(function(t){return function(r){for(var e=[],n=[],u=0;u<r.length;u++){var c=t(u,r[u]);c._tag==="Left"?e.push(c.left):n.push(c.right)}return fe.separated(e,n)}},"partitionMapWithIndex");o.partitionMapWithIndex=wl;var Al=i(function(t){return function(r){return r.concat(t())}},"altW");o.altW=Al;o.alt=o.altW;var El=i(function(t){return function(r){return r.filter(function(e,n){return t(n,e)})}},"filterWithIndex");o.filterWithIndex=El;var _l=i(function(t){return function(r){return r.map(function(e,n){return t(r.slice(n))})}},"extend");o.extend=_l;o.duplicate=o.extend(C.identity);o.foldMap=X.foldMap;o.foldMapWithIndex=X.foldMapWithIndex;o.reduce=X.reduce;o.reduceWithIndex=X.reduceWithIndex;o.reduceRight=X.reduceRight;o.reduceRightWithIndex=X.reduceRightWithIndex;var Sl=i(function(t){var r=o.traverseWithIndex(t);return function(e){return r(function(n,u){return e(u)})}},"traverse");o.traverse=Sl;var ql=i(function(t){return function(r){return Wt(r,t.of(o.zero()),function(e,n){return t.ap(t.map(e,function(u){return function(c){return C.pipe(u,o.append(c))}}),n)})}},"sequence");o.sequence=ql;var Ol=i(function(t){return function(r){return o.reduceWithIndex(t.of(o.zero()),function(e,n,u){return t.ap(t.map(n,function(c){return function(h){return C.pipe(c,o.append(h))}}),r(e,u))})}},"traverseWithIndex");o.traverseWithIndex=Ol;var Ul=i(function(t){var r=ye(t);return function(e){return function(n){return r(n,e)}}},"wither");o.wither=Ul;var Nl=i(function(t){var r=Ie(t);return function(e){return function(n){return r(n,e)}}},"wilt");o.wilt=Nl;var Fl=i(function(t,r){for(var e=[],n=t;;){var u=r(n);if(et.isSome(u)){var c=u.value,h=c[0],y=c[1];e.push(h),n=y}else break}return e},"unfold");o.unfold=Fl;o.URI="Array";o.getShow=X.getShow;var Bl=i(function(){return{concat:function(t,r){return t.concat(r)}}},"getSemigroup");o.getSemigroup=Bl;var Ll=i(function(){return{concat:o.getSemigroup().concat,empty:[]}},"getMonoid");o.getMonoid=Ll;o.getEq=X.getEq;o.getOrd=X.getOrd;var Pl=i(function(t){var r=le(t);return{concat:function(e,n){return r(n)(e)}}},"getUnionSemigroup");o.getUnionSemigroup=Pl;var Tl=i(function(t){return{concat:o.getUnionSemigroup(t).concat,empty:[]}},"getUnionMonoid");o.getUnionMonoid=Tl;var Dl=i(function(t){var r=he(t);return{concat:function(e,n){return r(n)(e)}}},"getIntersectionSemigroup");o.getIntersectionSemigroup=Dl;var zl=i(function(t){var r=pe(t);return{concat:function(e,n){return r(n)(e)}}},"getDifferenceMagma");o.getDifferenceMagma=zl;o.Functor={URI:o.URI,map:J};o.flap=gn.flap(o.Functor);o.Pointed={URI:o.URI,of:o.of};o.FunctorWithIndex={URI:o.URI,map:J,mapWithIndex:hr};o.Apply={URI:o.URI,map:J,ap:xt};o.apFirst=ce.apFirst(o.Apply);o.apSecond=ce.apSecond(o.Apply);o.Applicative={URI:o.URI,map:J,ap:xt,of:o.of};o.Chain={URI:o.URI,map:J,ap:xt,chain:Qt};o.chainFirst=mn.chainFirst(o.Chain);o.Monad={URI:o.URI,map:J,ap:xt,of:o.of,chain:Qt};o.Unfoldable={URI:o.URI,unfold:o.unfold};o.Alt={URI:o.URI,map:J,alt:de};o.Zero={URI:o.URI,zero:o.zero};o.guard=ys.guard(o.Zero,o.Pointed);o.Alternative={URI:o.URI,map:J,ap:xt,of:o.of,alt:de,zero:o.zero};o.Extend={URI:o.URI,map:J,extend:Rn};o.Compactable={URI:o.URI,compact:o.compact,separate:o.separate};o.Filterable={URI:o.URI,map:J,compact:o.compact,separate:o.separate,filter:pr,filterMap:dr,partition:vr,partitionMap:mr};o.FilterableWithIndex={URI:o.URI,map:J,mapWithIndex:hr,compact:o.compact,separate:o.separate,filter:pr,filterMap:dr,partition:vr,partitionMap:mr,partitionMapWithIndex:bn,partitionWithIndex:xn,filterMapWithIndex:Mn,filterWithIndex:Wn};o.Foldable={URI:o.URI,reduce:Wt,foldMap:Ot,reduceRight:Ut};o.FoldableWithIndex={URI:o.URI,reduce:Wt,foldMap:Ot,reduceRight:Ut,reduceWithIndex:ve,foldMapWithIndex:me,reduceRightWithIndex:ge};o.Traversable={URI:o.URI,map:J,reduce:Wt,foldMap:Ot,reduceRight:Ut,traverse:gr,sequence:o.sequence};o.TraversableWithIndex={URI:o.URI,map:J,mapWithIndex:hr,reduce:Wt,foldMap:Ot,reduceRight:Ut,reduceWithIndex:ve,foldMapWithIndex:me,reduceRightWithIndex:ge,traverse:gr,sequence:o.sequence,traverseWithIndex:wn};var ye=se.witherDefault(o.Traversable,o.Compactable),Ie=se.wiltDefault(o.Traversable,o.Compactable);o.Witherable={URI:o.URI,map:J,compact:o.compact,separate:o.separate,filter:pr,filterMap:dr,partition:vr,partitionMap:mr,reduce:Wt,foldMap:Ot,reduceRight:Ut,traverse:gr,sequence:o.sequence,wither:ye,wilt:Ie};o.chainRecDepthFirst=X.chainRecDepthFirst;o.ChainRecDepthFirst={URI:o.URI,map:J,ap:xt,chain:Qt,chainRec:ll};o.chainRecBreadthFirst=X.chainRecBreadthFirst;o.ChainRecBreadthFirst={URI:o.URI,map:J,ap:xt,chain:Qt,chainRec:hl};o.filterE=se.filterE(o.Witherable);o.FromEither={URI:o.URI,fromEither:o.fromEither};o.fromEitherK=gs.fromEitherK(o.FromEither);o.unsafeInsertAt=Z.unsafeInsertAt;var jl=i(function(t,r,e){return o.isNonEmpty(e)?Z.unsafeUpdateAt(t,r,e):[]},"unsafeUpdateAt");o.unsafeUpdateAt=jl;var Cl=i(function(t,r){var e=r.slice();return e.splice(t,1),e},"unsafeDeleteAt");o.unsafeDeleteAt=Cl;o.every=X.every;var $l=i(function(t){return function(r){return r.some(t)}},"some");o.some=$l;o.exists=o.some;o.Do=o.of(et.emptyRecord);o.bindTo=gn.bindTo(o.Functor);o.bind=mn.bind(o.Chain);o.apS=ce.apS(o.Apply);o.range=Z.range;o.empty=[];o.cons=Z.cons;o.snoc=Z.snoc;o.prependToAll=o.prependAll;o.array={URI:o.URI,compact:o.compact,separate:o.separate,map:J,ap:xt,of:o.of,chain:Qt,filter:pr,filterMap:dr,partition:vr,partitionMap:mr,mapWithIndex:hr,partitionMapWithIndex:bn,partitionWithIndex:xn,filterMapWithIndex:Mn,filterWithIndex:Wn,alt:de,zero:o.zero,unfold:o.unfold,reduce:Wt,foldMap:Ot,reduceRight:Ut,traverse:gr,sequence:o.sequence,reduceWithIndex:ve,foldMapWithIndex:me,reduceRightWithIndex:ge,traverseWithIndex:wn,extend:Rn,wither:ye,wilt:Ie}});var Fn=Q((be,Nn)=>{(function(t){"use strict";var r=2e3,e={s:1,n:0,d:1};function n(v,m){if(isNaN(v=parseInt(v,10)))throw O.InvalidParameter;return v*m}i(n,"assign");function u(v,m){if(m===0)throw O.DivisionByZero;var l=Object.create(O.prototype);l.s=v<0?-1:1,v=v<0?-v:v;var p=$(v,m);return l.n=v/p,l.d=m/p,l}i(u,"newFraction");function c(v){for(var m={},l=v,p=2,d=4;d<=l;){for(;l%p===0;)l/=p,m[p]=(m[p]||0)+1;d+=1+2*p++}return l!==v?l>1&&(m[l]=(m[l]||0)+1):m[v]=(m[v]||0)+1,m}i(c,"factorize");var h=i(function(v,m){var l=0,p=1,d=1,g=0,I=0,j=0,F=1,it=1,E=0,w=1,R=1,W=1,pt=1e7,ot;if(v!=null)if(m!==void 0){if(l=v,p=m,d=l*p,l%1!==0||p%1!==0)throw O.NonIntegerParameter}else switch(typeof v){case"object":{if("d"in v&&"n"in v)l=v.n,p=v.d,"s"in v&&(l*=v.s);else if(0 in v)l=v[0],1 in v&&(p=v[1]);else throw O.InvalidParameter;d=l*p;break}case"number":{if(v<0&&(d=v,v=-v),v%1===0)l=v;else if(v>0){for(v>=1&&(it=Math.pow(10,Math.floor(1+Math.log(v)/Math.LN10)),v/=it);w<=pt&&W<=pt;)if(ot=(E+R)/(w+W),v===ot){w+W<=pt?(l=E+R,p=w+W):W>w?(l=R,p=W):(l=E,p=w);break}else v>ot?(E+=R,w+=W):(R+=E,W+=w),w>pt?(l=R,p=W):(l=E,p=w);l*=it}else(isNaN(v)||isNaN(m))&&(p=l=NaN);break}case"string":{if(w=v.match(/\d+|./g),w===null)throw O.InvalidParameter;if(w[E]==="-"?(d=-1,E++):w[E]==="+"&&E++,w.length===E+1?I=n(w[E++],d):w[E+1]==="."||w[E]==="."?(w[E]!=="."&&(g=n(w[E++],d)),E++,(E+1===w.length||w[E+1]==="("&&w[E+3]===")"||w[E+1]==="'"&&w[E+3]==="'")&&(I=n(w[E],d),F=Math.pow(10,w[E].length),E++),(w[E]==="("&&w[E+2]===")"||w[E]==="'"&&w[E+2]==="'")&&(j=n(w[E+1],d),it=Math.pow(10,w[E+1].length)-1,E+=3)):w[E+1]==="/"||w[E+1]===":"?(I=n(w[E],d),F=n(w[E+2],1),E+=3):w[E+3]==="/"&&w[E+1]===" "&&(g=n(w[E],d),I=n(w[E+2],d),F=n(w[E+4],1),E+=5),w.length<=E){p=F*it,d=l=j+p*g+it*I;break}}default:throw O.InvalidParameter}if(p===0)throw O.DivisionByZero;e.s=d<0?-1:1,e.n=Math.abs(l),e.d=Math.abs(p)},"parse");function y(v,m,l){for(var p=1;m>0;v=v*v%l,m>>=1)m&1&&(p=p*v%l);return p}i(y,"modpow");function A(v,m){for(;m%2===0;m/=2);for(;m%5===0;m/=5);if(m===1)return 0;for(var l=10%m,p=1;l!==1;p++)if(l=l*10%m,p>r)return 0;return p}i(A,"cycleLen");function N(v,m,l){for(var p=1,d=y(10,l,m),g=0;g<300;g++){if(p===d)return g;p=p*10%m,d=d*10%m}return 0}i(N,"cycleStart");function $(v,m){if(!v)return m;if(!m)return v;for(;;){if(v%=m,!v)return m;if(m%=v,!m)return v}}i($,"gcd");function O(v,m){if(h(v,m),this instanceof O)v=$(e.d,e.n),this.s=e.s,this.n=e.n/v,this.d=e.d/v;else return u(e.s*e.n,e.d)}i(O,"Fraction"),O.DivisionByZero=new Error("Division by Zero"),O.InvalidParameter=new Error("Invalid argument"),O.NonIntegerParameter=new Error("Parameters must be integer"),O.prototype={s:1,n:0,d:1,abs:function(){return u(this.n,this.d)},neg:function(){return u(-this.s*this.n,this.d)},add:function(v,m){return h(v,m),u(this.s*this.n*e.d+e.s*this.d*e.n,this.d*e.d)},sub:function(v,m){return h(v,m),u(this.s*this.n*e.d-e.s*this.d*e.n,this.d*e.d)},mul:function(v,m){return h(v,m),u(this.s*e.s*this.n*e.n,this.d*e.d)},div:function(v,m){return h(v,m),u(this.s*e.s*this.n*e.d,this.d*e.n)},clone:function(){return u(this.s*this.n,this.d)},mod:function(v,m){if(isNaN(this.n)||isNaN(this.d))return new O(NaN);if(v===void 0)return u(this.s*this.n%this.d,1);if(h(v,m),e.n===0&&this.d===0)throw O.DivisionByZero;return u(this.s*(e.d*this.n)%(e.n*this.d),e.d*this.d)},gcd:function(v,m){return h(v,m),u($(e.n,this.n)*$(e.d,this.d),e.d*this.d)},lcm:function(v,m){return h(v,m),e.n===0&&this.n===0?u(0,1):u(e.n*this.n,$(e.n,this.n)*$(e.d,this.d))},ceil:function(v){return v=Math.pow(10,v||0),isNaN(this.n)||isNaN(this.d)?new O(NaN):u(Math.ceil(v*this.s*this.n/this.d),v)},floor:function(v){return v=Math.pow(10,v||0),isNaN(this.n)||isNaN(this.d)?new O(NaN):u(Math.floor(v*this.s*this.n/this.d),v)},round:function(v){return v=Math.pow(10,v||0),isNaN(this.n)||isNaN(this.d)?new O(NaN):u(Math.round(v*this.s*this.n/this.d),v)},inverse:function(){return u(this.s*this.d,this.n)},pow:function(v,m){if(h(v,m),e.d===1)return e.s<0?u(Math.pow(this.s*this.d,e.n),Math.pow(this.n,e.n)):u(Math.pow(this.s*this.n,e.n),Math.pow(this.d,e.n));if(this.s<0)return null;var l=c(this.n),p=c(this.d),d=1,g=1;for(var I in l)if(I!=="1"){if(I==="0"){d=0;break}if(l[I]*=e.n,l[I]%e.d===0)l[I]/=e.d;else return null;d*=Math.pow(I,l[I])}for(var I in p)if(I!=="1"){if(p[I]*=e.n,p[I]%e.d===0)p[I]/=e.d;else return null;g*=Math.pow(I,p[I])}return e.s<0?u(g,d):u(d,g)},equals:function(v,m){return h(v,m),this.s*this.n*e.d===e.s*e.n*this.d},compare:function(v,m){h(v,m);var l=this.s*this.n*e.d-e.s*e.n*this.d;return(0<l)-(l<0)},simplify:function(v){if(isNaN(this.n)||isNaN(this.d))return this;v=v||.001;for(var m=this.abs(),l=m.toContinued(),p=1;p<l.length;p++){for(var d=u(l[p-1],1),g=p-2;g>=0;g--)d=d.inverse().add(l[g]);if(d.sub(m).abs().valueOf()<v)return d.mul(this.s)}return this},divisible:function(v,m){return h(v,m),!(!(e.n*this.d)||this.n*e.d%(e.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(v){var m,l="",p=this.n,d=this.d;return this.s<0&&(l+="-"),d===1?l+=p:(v&&(m=Math.floor(p/d))>0&&(l+=m,l+=" ",p%=d),l+=p,l+="/",l+=d),l},toLatex:function(v){var m,l="",p=this.n,d=this.d;return this.s<0&&(l+="-"),d===1?l+=p:(v&&(m=Math.floor(p/d))>0&&(l+=m,p%=d),l+="\\frac{",l+=p,l+="}{",l+=d,l+="}"),l},toContinued:function(){var v,m=this.n,l=this.d,p=[];if(isNaN(m)||isNaN(l))return p;do p.push(Math.floor(m/l)),v=m%l,m=l,l=v;while(m!==1);return p},toString:function(v){var m=this.n,l=this.d;if(isNaN(m)||isNaN(l))return"NaN";v=v||15;var p=A(m,l),d=N(m,l,p),g=this.s<0?"-":"";if(g+=m/l|0,m%=l,m*=10,m&&(g+="."),p){for(var I=d;I--;)g+=m/l|0,m%=l,m*=10;g+="(";for(var I=p;I--;)g+=m/l|0,m%=l,m*=10;g+=")"}else for(var I=v;m&&I--;)g+=m/l|0,m%=l,m*=10;return g}},typeof define=="function"&&define.amd?define([],function(){return O}):typeof be=="object"?(Object.defineProperty(O,"__esModule",{value:!0}),O.default=O,O.Fraction=O,Nn.exports=O):t.Fraction=O})(be)});var _n=Ft(Mr()),Sn=Ft(An()),Ir=Ft($r()),qn=Ft(er()),Zl=Object.create,En=Object.defineProperty,kl=Object.getOwnPropertyDescriptor,Kl=Object.getOwnPropertyNames,Hl=Object.getPrototypeOf,Vl=Object.prototype.hasOwnProperty,Xl=i((t,r)=>()=>(r||t((r={exports:{}}).exports,r),r.exports),"bt"),Gl=i((t,r,e,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let u of Kl(r))!Vl.call(t,u)&&u!==e&&En(t,u,{get:()=>r[u],enumerable:!(n=kl(r,u))||n.enumerable});return t},"gt"),Ql=i((t,r,e)=>(e=t!=null?Zl(Hl(t)):{},Gl(r||!t||!t.__esModule?En(e,"default",{value:t,enumerable:!0}):e,t)),"pt"),Yl=Xl((t,r)=>{(function(e){"use strict";var n=2e3,u={s:1,n:0,d:1};function c(l,p){if(isNaN(l=parseInt(l,10)))throw m.InvalidParameter;return l*p}i(c,"i");function h(l,p){if(p===0)throw m.DivisionByZero;var d=Object.create(m.prototype);d.s=l<0?-1:1,l=l<0?-l:l;var g=v(l,p);return d.n=l/g,d.d=p/g,d}i(h,"s");function y(l){for(var p={},d=l,g=2,I=4;I<=d;){for(;d%g===0;)d/=g,p[g]=(p[g]||0)+1;I+=1+2*g++}return d!==l?d>1&&(p[d]=(p[d]||0)+1):p[l]=(p[l]||0)+1,p}i(y,"o");var A=i(function(l,p){var d=0,g=1,I=1,j=0,F=0,it=0,E=1,w=1,R=0,W=1,pt=1,ot=1,Jt=1e7,xr;if(l!=null)if(p!==void 0){if(d=l,g=p,I=d*g,d%1!==0||g%1!==0)throw m.NonIntegerParameter}else switch(typeof l){case"object":{if("d"in l&&"n"in l)d=l.n,g=l.d,"s"in l&&(d*=l.s);else if(0 in l)d=l[0],1 in l&&(g=l[1]);else throw m.InvalidParameter;I=d*g;break}case"number":{if(l<0&&(I=l,l=-l),l%1===0)d=l;else if(l>0){for(l>=1&&(w=Math.pow(10,Math.floor(1+Math.log(l)/Math.LN10)),l/=w);W<=Jt&&ot<=Jt;)if(xr=(R+pt)/(W+ot),l===xr){W+ot<=Jt?(d=R+pt,g=W+ot):ot>W?(d=pt,g=ot):(d=R,g=W);break}else l>xr?(R+=pt,W+=ot):(pt+=R,ot+=W),W>Jt?(d=pt,g=ot):(d=R,g=W);d*=w}else(isNaN(l)||isNaN(p))&&(g=d=NaN);break}case"string":{if(W=l.match(/\d+|./g),W===null)throw m.InvalidParameter;if(W[R]==="-"?(I=-1,R++):W[R]==="+"&&R++,W.length===R+1?F=c(W[R++],I):W[R+1]==="."||W[R]==="."?(W[R]!=="."&&(j=c(W[R++],I)),R++,(R+1===W.length||W[R+1]==="("&&W[R+3]===")"||W[R+1]==="'"&&W[R+3]==="'")&&(F=c(W[R],I),E=Math.pow(10,W[R].length),R++),(W[R]==="("&&W[R+2]===")"||W[R]==="'"&&W[R+2]==="'")&&(it=c(W[R+1],I),w=Math.pow(10,W[R+1].length)-1,R+=3)):W[R+1]==="/"||W[R+1]===":"?(F=c(W[R],I),E=c(W[R+2],1),R+=3):W[R+3]==="/"&&W[R+1]===" "&&(j=c(W[R],I),F=c(W[R+2],I),E=c(W[R+4],1),R+=5),W.length<=R){g=E*w,I=d=it+g*j+w*F;break}}default:throw m.InvalidParameter}if(g===0)throw m.DivisionByZero;u.s=I<0?-1:1,u.n=Math.abs(d),u.d=Math.abs(g)},"l");function N(l,p,d){for(var g=1;p>0;l=l*l%d,p>>=1)p&1&&(g=g*l%d);return g}i(N,"m");function $(l,p){for(;p%2===0;p/=2);for(;p%5===0;p/=5);if(p===1)return 0;for(var d=10%p,g=1;d!==1;g++)if(d=d*10%p,g>n)return 0;return g}i($,"M");function O(l,p,d){for(var g=1,I=N(10,d,p),j=0;j<300;j++){if(g===I)return j;g=g*10%p,I=I*10%p}return 0}i(O,"S");function v(l,p){if(!l)return p;if(!p)return l;for(;;){if(l%=p,!l)return p;if(p%=l,!p)return l}}i(v,"A");function m(l,p){if(A(l,p),this instanceof m)l=v(u.d,u.n),this.s=u.s,this.n=u.n/l,this.d=u.d/l;else return h(u.s*u.n,u.d)}i(m,"b"),m.DivisionByZero=new Error("Division by Zero"),m.InvalidParameter=new Error("Invalid argument"),m.NonIntegerParameter=new Error("Parameters must be integer"),m.prototype={s:1,n:0,d:1,abs:function(){return h(this.n,this.d)},neg:function(){return h(-this.s*this.n,this.d)},add:function(l,p){return A(l,p),h(this.s*this.n*u.d+u.s*this.d*u.n,this.d*u.d)},sub:function(l,p){return A(l,p),h(this.s*this.n*u.d-u.s*this.d*u.n,this.d*u.d)},mul:function(l,p){return A(l,p),h(this.s*u.s*this.n*u.n,this.d*u.d)},div:function(l,p){return A(l,p),h(this.s*u.s*this.n*u.d,this.d*u.n)},clone:function(){return h(this.s*this.n,this.d)},mod:function(l,p){if(isNaN(this.n)||isNaN(this.d))return new m(NaN);if(l===void 0)return h(this.s*this.n%this.d,1);if(A(l,p),u.n===0&&this.d===0)throw m.DivisionByZero;return h(this.s*(u.d*this.n)%(u.n*this.d),u.d*this.d)},gcd:function(l,p){return A(l,p),h(v(u.n,this.n)*v(u.d,this.d),u.d*this.d)},lcm:function(l,p){return A(l,p),u.n===0&&this.n===0?h(0,1):h(u.n*this.n,v(u.n,this.n)*v(u.d,this.d))},ceil:function(l){return l=Math.pow(10,l||0),isNaN(this.n)||isNaN(this.d)?new m(NaN):h(Math.ceil(l*this.s*this.n/this.d),l)},floor:function(l){return l=Math.pow(10,l||0),isNaN(this.n)||isNaN(this.d)?new m(NaN):h(Math.floor(l*this.s*this.n/this.d),l)},round:function(l){return l=Math.pow(10,l||0),isNaN(this.n)||isNaN(this.d)?new m(NaN):h(Math.round(l*this.s*this.n/this.d),l)},inverse:function(){return h(this.s*this.d,this.n)},pow:function(l,p){if(A(l,p),u.d===1)return u.s<0?h(Math.pow(this.s*this.d,u.n),Math.pow(this.n,u.n)):h(Math.pow(this.s*this.n,u.n),Math.pow(this.d,u.n));if(this.s<0)return null;var d=y(this.n),g=y(this.d),I=1,j=1;for(var F in d)if(F!=="1"){if(F==="0"){I=0;break}if(d[F]*=u.n,d[F]%u.d===0)d[F]/=u.d;else return null;I*=Math.pow(F,d[F])}for(var F in g)if(F!=="1"){if(g[F]*=u.n,g[F]%u.d===0)g[F]/=u.d;else return null;j*=Math.pow(F,g[F])}return u.s<0?h(j,I):h(I,j)},equals:function(l,p){return A(l,p),this.s*this.n*u.d===u.s*u.n*this.d},compare:function(l,p){A(l,p);var d=this.s*this.n*u.d-u.s*u.n*this.d;return(0<d)-(d<0)},simplify:function(l){if(isNaN(this.n)||isNaN(this.d))return this;l=l||.001;for(var p=this.abs(),d=p.toContinued(),g=1;g<d.length;g++){for(var I=h(d[g-1],1),j=g-2;j>=0;j--)I=I.inverse().add(d[j]);if(I.sub(p).abs().valueOf()<l)return I.mul(this.s)}return this},divisible:function(l,p){return A(l,p),!(!(u.n*this.d)||this.n*u.d%(u.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(l){var p,d="",g=this.n,I=this.d;return this.s<0&&(d+="-"),I===1?d+=g:(l&&(p=Math.floor(g/I))>0&&(d+=p,d+=" ",g%=I),d+=g,d+="/",d+=I),d},toLatex:function(l){var p,d="",g=this.n,I=this.d;return this.s<0&&(d+="-"),I===1?d+=g:(l&&(p=Math.floor(g/I))>0&&(d+=p,g%=I),d+="\\frac{",d+=g,d+="}{",d+=I,d+="}"),d},toContinued:function(){var l,p=this.n,d=this.d,g=[];if(isNaN(p)||isNaN(d))return g;do g.push(Math.floor(p/d)),l=p%d,p=d,d=l;while(p!==1);return g},toString:function(l){var p=this.n,d=this.d;if(isNaN(p)||isNaN(d))return"NaN";l=l||15;var g=$(p,d),I=O(p,d,g),j=this.s<0?"-":"";if(j+=p/d|0,p%=d,p*=10,p&&(j+="."),g){for(var F=I;F--;)j+=p/d|0,p%=d,p*=10;j+="(";for(var F=g;F--;)j+=p/d|0,p%=d,p*=10;j+=")"}else for(var F=l;p&&F--;)j+=p/d|0,p%=d,p*=10;return j}},typeof define=="function"&&define.amd?define([],function(){return m}):typeof t=="object"?(Object.defineProperty(m,"__esModule",{value:!0}),m.default=m,m.Fraction=m,r.exports=m):e.Fraction=m})(t)}),Jl=Ql(Yl());function yr(t){let r=th(t);return new Jl.default(r).valueOf()*Math.PI}i(yr,"D");function th(t){return t.replace(/(\d+)/g,"$1").replace(//g,"1")}i(th,"wt");var rh=Object.prototype.toString.call({}),eh="!recursion-limit!",nh=10;function Rt(t,r=nh){return ih(t)||ah(t,r)||uh(t,r)}i(Rt,"I");function ih(t){if(t===null)return"null";if(t===void 0)return"undefined";if(typeof t=="string")return`"${t}"`;if(typeof t=="number")return String(t)}i(ih,"Mt");function ah(t,r){if(r===0)return eh;if(t instanceof Map)return oh(t,r);if(t instanceof Set)return ch(t,r);if((e=>e[Symbol.iterator]!==void 0)(t))return fh(t,r)}i(ah,"St");function uh(t,r){let e=String(t);return e!==rh?e:sh(t,r)}i(uh,"At");function oh(t,r){let e=[];for(let[n,u]of t.entries()){if(e.length>1e3){e.push("[...]");break}let c=Rt(n,r-1),h=Rt(u,r-1);e.push(`${c}: ${h}`)}return`Map{${e.join(", ")}}`}i(oh,"Tt");function ch(t,r){let e=[];for(let n of t){if(e.length>1e3){e.push("[...]");break}e.push(Rt(n,r-1))}return`Set{${e.join(", ")}}`}i(ch,"Et");function fh(t,r){let e=[];for(let n of t){if(e.length>1e3){e.push("[...]");break}e.push(Rt(n,r-1))}return`${Array.isArray(t)?"":t.constructor.name}[${e.join(", ")}]`}i(fh,"Nt");function sh(t,r){let e=[];for(let u in t){if(!Object.prototype.hasOwnProperty.call(t,u))continue;if(e.length>1e3){e.push("[...]");break}let c=t[u],h=Rt(u,r-1),y=Rt(c,r-1);e.push(`${h}: ${y}`)}let n=t.constructor.name;return`${n==={}.constructor.name?"":`(Type: ${n})`}{${e.join(", ")}}`}i(sh,"kt");var xe=0,nt=i(class extends Error{constructor(t,r){super(t),this.detailsObj=r,this.name="Error",this.message=t,this.stack=new Error().stack,this.stack!==void 0&&(this.stack=this.stack.replace(/^Error\n\s+at new DetailedError (\S+)\s?\n\s+at /,`
    `)),xe++;try{this.details=xe===1?Rt(this.detailsObj):"(failed to describe detailsObj due to possibly re-entrancy)"}catch(e){console.error(e),this.details="(failed to describe detailsObj, see the console for details)"}finally{xe--}}},"T"),lh=[{character:"\xBD",ref:"\xBD",expanded:"1/2",value:.5},{character:"\xBC",ref:"\xBC",expanded:"1/4",value:.25},{character:"\xBE",ref:"\xBE",expanded:"3/4",value:.75},{character:"\u2153",ref:"\u2153",expanded:"1/3",value:.3333333333333333},{character:"\u2154",ref:"\u2154",expanded:"2/3",value:.6666666666666666},{character:"\u2155",ref:"\u2155",expanded:"1/5",value:.2},{character:"\u2156",ref:"\u2156",expanded:"2/5",value:.4},{character:"\u2157",ref:"\u2157",expanded:"3/5",value:.6},{character:"\u2158",ref:"\u2158",expanded:"4/5",value:.8},{character:"\u2159",ref:"\u2159",expanded:"1/6",value:.16666666666666666},{character:"\u215A",ref:"\u215A",expanded:"5/6",value:.8333333333333334},{character:"\u2150",ref:"\u2150",expanded:"1/7",value:.14285714285714285},{character:"\u215B",ref:"\u215B",expanded:"1/8",value:.125},{character:"\u215C",ref:"\u215C",expanded:"3/8",value:.375},{character:"\u215D",ref:"\u215D",expanded:"5/8",value:.625},{character:"\u215E",ref:"\u215E",expanded:"7/8",value:.875},{character:"\u2151",ref:"\u2151",expanded:"1/9",value:.1111111111111111},{character:"\u2152",ref:"\u2152",expanded:"1/10",value:.1}],ct=i(class{static parseFloat(t){if(t.length===0)throw new Error(`Not a number: '${t}'`);if(t[0]==="-")return-ct.parseFloat(t.substr(1));if(t[0]==="\u221A")return Math.sqrt(ct.parseFloat(t.substr(1)));let r=ct.matchUnicodeFraction(n=>n.character===t);if(r!==void 0)return r.value;let e=parseFloat(t);if(isNaN(e))throw new Error(`Not a number: '${t}'`);return e}static simplifyByRounding(t,r){if(t<0)return-ct.simplifyByRounding(-t,r);let e=t%1;if(e<=r||1-e<=r)return Math.round(t);let n=ct.matchUnicodeFraction(c=>Math.abs(c.value-t)<=r);if(n!==void 0)return n.value;let u=ct.matchUnicodeFraction(c=>Math.abs(Math.sqrt(c.value)-t)<=r);return u!==void 0?Math.sqrt(u.value):t}static matchUnicodeFraction(t){for(let r of lh)if(t(r))return r}constructor(t,r,e,n){this.allowAbbreviation=t,this.maxAbbreviationError=r,this.fixedDigits=e,this.itemSeparator=n}formatFloat(t){return this.allowAbbreviation?this.abbreviateFloat(t,this.maxAbbreviationError,this.fixedDigits):this.fixedDigits!==void 0?t.toFixed(this.fixedDigits):String(t)}abbreviateFloat(t,r=0,e=void 0){if(Math.abs(t)<r)return"0";if(t<0)return`-${this.abbreviateFloat(-t,r,e)}`;let n=ct.matchUnicodeFraction(c=>Math.abs(c.value-t)<=r);if(n!==void 0)return n.character;let u=ct.matchUnicodeFraction(c=>Math.abs(Math.sqrt(c.value)-t)<=r);return u!==void 0?`\u221A${u.character}`:t%1!==0&&e!==void 0?t.toFixed(e):t.toString()}},"N"),Nt=ct;Nt.CONSISTENT=new ct(!1,0,2,", "),Nt.EXACT=new ct(!0,0,void 0,", "),Nt.MINIFIED=new ct(!0,0,void 0,","),Nt.SIMPLIFIED=new ct(!0,5e-4,3,", ");var ht=i(class{static need(t,r,e){if(t!==!0){let n=e===void 0?"(not provided)":`[${Array.prototype.slice.call(e).join(", ")}]`,u=`Precondition failed

Message: ${r===void 0?"(not provided)":r}

Args: ${n}`;throw new Error(u)}}static notNull(t){ht.need(t!=null,"notNull")}static snappedCosSin(t){let r=Math.PI/4,e=Math.round(t/r);if(e*r===t){let n=Math.sqrt(.5);return[[1,0],[n,n],[0,1],[-n,n],[-1,0],[-n,-n],[0,-1],[n,-n]][e&7]}return[Math.cos(t),Math.sin(t)]}},"k"),S=i(class{static from(t){if(t instanceof S)return t;if(typeof t=="number")return new S(t,0);throw new nt("Unrecognized value type.",{v:t})}static polar(t,r){let[e,n]=ht.snappedCosSin(r);return new S(t*e,t*n)}static realPartOf(t){if(t instanceof S)return t.real;if(typeof t=="number")return t;throw new nt("Unrecognized value type.",{v:t})}static imagPartOf(t){if(t instanceof S)return t.imag;if(typeof t=="number")return 0;throw new nt("Unrecognized value type.",{v:t})}constructor(t,r){this.real=t,this.imag=r}static rootsOfQuadratic(t,r,e){if(t=S.from(t),r=S.from(r),e=S.from(e),t.isEqualTo(0)){if(!r.isEqualTo(0))return[e.times(-1).dividedBy(r)];if(!e.isEqualTo(0))return[];throw Error("Degenerate")}let n=r.times(r).minus(t.times(e).times(4)).sqrts(),u=r.times(-1),c=t.times(2);return n.map(h=>u.minus(h).dividedBy(c))}isEqualTo(t){return t instanceof S?this.real===t.real&&this.imag===t.imag:typeof t=="number"?this.real===t&&this.imag===0:!1}isApproximatelyEqualTo(t,r){if(t instanceof S||typeof t=="number"){let e=this.minus(S.from(t));return Math.abs(e.real)<=r&&Math.abs(e.imag)<=r&&e.abs()<=r}return!1}norm2(){return this.real*this.real+this.imag*this.imag}abs(){return Math.sqrt(this.norm2())}unit(){let t=this.norm2();return t<1e-5?S.polar(1,this.phase()):this.dividedBy(Math.sqrt(t))}plus(t){let r=S.from(t);return new S(this.real+r.real,this.imag+r.imag)}minus(t){let r=S.from(t);return new S(this.real-r.real,this.imag-r.imag)}times(t){let r=S.from(t);return new S(this.real*r.real-this.imag*r.imag,this.real*r.imag+this.imag*r.real)}dividedBy(t){let r=S.from(t),e=r.norm2();if(e===0)throw new Error("Division by Zero");let n=this.times(r.conjugate());return new S(n.real/e,n.imag/e)}sqrts(){let[t,r]=[this.real,this.imag],e=Math.sqrt(Math.sqrt(t*t+r*r));if(e===0)return[S.ZERO];if(r===0&&t<0)return[new S(0,e),new S(0,-e)];let n=this.phase()/2,u=S.polar(e,n);return[u,u.times(-1)]}conjugate(){return new S(this.real,-this.imag)}toString(t){return t=t||Nt.EXACT,t.allowAbbreviation?this.toStringAllowSingleValue(t):this.toStringBothValues(t)}neg(){return new S(-this.real,-this.imag)}raisedTo(t){return t===.5&&this.imag===0&&this.real>=0?new S(Math.sqrt(this.real),0):S.ZERO.isEqualTo(t)?S.ONE:this.isEqualTo(S.ZERO)?S.ZERO:this.ln().times(S.from(t)).exp()}exp(){return S.polar(Math.exp(this.real),this.imag)}cos(){let t=this.times(S.I);return t.exp().plus(t.neg().exp()).times(.5)}sin(){let t=this.times(S.I);return t.exp().minus(t.neg().exp()).dividedBy(new S(0,2))}tan(){return this.sin().dividedBy(this.cos())}ln(){return new S(Math.log(this.abs()),this.phase())}phase(){return Math.atan2(this.imag,this.real)}toStringAllowSingleValue(t){return Math.abs(this.imag)<=t.maxAbbreviationError?t.formatFloat(this.real):Math.abs(this.real)<=t.maxAbbreviationError?Math.abs(this.imag-1)<=t.maxAbbreviationError?"i":Math.abs(this.imag+1)<=t.maxAbbreviationError?"-i":`${t.formatFloat(this.imag)}i`:this.toStringBothValues(t)}toStringBothValues(t){let r=this.imag>=0?"+":"-",e=t.allowAbbreviation&&Math.abs(Math.abs(this.imag)-1)<=t.maxAbbreviationError?"":t.formatFloat(Math.abs(this.imag));return`${(t.allowAbbreviation||t.fixedDigits===void 0||this.real<0?"":"+")+t.formatFloat(this.real)+r+e}i`}},"g"),H=S;H.ZERO=new S(0,0),H.ONE=new S(1,0),H.I=new S(0,1);var hh="H",ph="X",dh="Y",vh="Z",mh="P",gh="T",yh="X^\xBD",Ih="Rx",xh="Ry",bh="Rz",Mh="Swap",Wh="\u2022",Rh="Bloch",wh="|0>",Ah="|1>",Eh="Measure",k=i(class{static PHASE(t){let r=yr(t),e=H.from(Math.E);return k.square(1,0,0,e.raisedTo(H.I.times(r)))}static get RNOT(){let t=H.I,r=t.neg();return k.square(t.plus(1),r.plus(1),r.plus(1),t.plus(1)).times(.5)}static RX(t){let r=yr(t),e=H.I.neg(),n=Math.cos(r/2),u=Math.sin(r/2);return k.square(n,e.times(u),e.times(u),n)}static RY(t){let r=yr(t),e=Math.cos(r/2),n=Math.sin(r/2);return k.square(e,-n,n,e)}static RZ(t){let r=yr(t),e=H.from(Math.E),n=H.I;return k.square(e.raisedTo(n.neg().times(r/2)),0,0,e.raisedTo(n.times(r/2)))}static fromRows(t){let r=t.length,e=t.map(y=>y.length);if(!(0,Sn.isNonEmpty)(e))throw new nt("Zero height",{rows:t});let n=(0,qn.uniq)(_n.Eq)(e);if(n.length!==1)throw new nt("Inconsistent row widths.",{rows:t});let u=n[0],c=new Float64Array(u*r*2),h=0;for(let y of t)for(let A of y)c[h]=H.realPartOf(A),c[h+1]=H.imagPartOf(A),h+=2;return new k(u,r,c)}static generate(t,r,e){let n=new Float64Array(t*r*2);for(let u=0;u<r;u++)for(let c=0;c<t;c++){let h=(u*t+c)*2,y=e(u,c);n[h]=H.realPartOf(y),n[h+1]=H.imagPartOf(y)}return new k(t,r,n)}static solo(t){return new k(1,1,new Float64Array([H.realPartOf(t),H.imagPartOf(t)]))}static square(...t){ht.need(Array.isArray(t),"Array.isArray(coefs)",t);let r=Math.round(Math.sqrt(t.length));return ht.need(r*r===t.length,"Matrix.square: non-square number of arguments"),k.generate(r,r,(e,n)=>t[e*r+n])}static col(...t){return ht.need(Array.isArray(t),"Array.isArray(coefs)",t),k.generate(1,t.length,r=>t[r])}static row(...t){return ht.need(Array.isArray(t),"Array.isArray(coefs)",t),k.generate(t.length,1,(r,e)=>t[e])}static identity(t){if(!Number.isInteger(t)||t<=0)throw new nt("Bad size",{size:t});let r=new Float64Array(t*t*2);for(let e=0;e<t;e++)r[e*(t+1)*2]=1;return new k(t,t,r)}static zero(t,r){return new k(t,r,new Float64Array(t*r*2))}constructor(t,r,e){if(t*r*2!==e.length)throw new nt("width*height*2 !== buffer.length",{width:t,height:r,len:e.length});this.width=t,this.height=r,this.buffer=e}columnAt(t){ht.need(t>=0&&t<=this.width,"colIndex >= 0 && colIndex <= this.width");let r=[];for(let e=0;e<this.height;e++)r.push(this.cell(t,e));return r}adjoint(){let t=this.height,r=this.width,e=new Float64Array(t*r*2);for(let n=0;n<r;n++)for(let u=0;u<t;u++){let c=(u*this.width+n)*2,h=(n*t+u)*2;e[h]=this.buffer[c],e[h+1]=-this.buffer[c+1]}return new k(t,r,e)}times(t){return t instanceof k?this.timesMatrix(t):this.timesScalar(t)}timesMatrix(t){if(this.width!==t.height)throw new nt("Incompatible sizes.",{this:this,other:t});let r=t.width,e=this.height,n=this.width,u=new Float64Array(r*e*2);for(let c=0;c<e;c++)for(let h=0;h<r;h++){let y=(c*r+h)*2;for(let A=0;A<n;A++){let N=(c*n+A)*2,$=(A*r+h)*2,O=this.buffer[N],v=this.buffer[N+1],m=t.buffer[$],l=t.buffer[$+1],p=O*m-v*l,d=O*l+m*v;u[y]+=p,u[y+1]+=d}}return new k(r,e,u)}timesScalar(t){let r=new Float64Array(this.buffer.length),e=H.realPartOf(t),n=H.imagPartOf(t);for(let u=0;u<r.length;u+=2){let c=this.buffer[u],h=this.buffer[u+1];r[u]=c*e-h*n,r[u+1]=c*n+h*e}return new k(this.width,this.height,r)}isEqualTo(t){if(this===t)return!0;if(!(t instanceof k))return!1;let r=t;return this.width===r.width&&this.height===r.height&&(0,Ir.range)(0,this.buffer.length-1).every(e=>this.buffer[e]===r.buffer[e])}isApproximatelyEqualTo(t,r){return t instanceof k&&this.width===t.width&&this.height===t.height&&Math.sqrt(this.minus(t).norm2())<=r}minus(t){let{width:r,height:e,buffer:n}=this,u=t.buffer;ht.need(t.width===r&&t.height===e,"Matrix.minus: compatible sizes");let c=new Float64Array(this.buffer.length);for(let h=0;h<c.length;h++)c[h]=n[h]-u[h];return new k(r,e,c)}norm2(){let t=0;for(let r of this.buffer)t+=r*r;return t}toString(t=Nt.EXACT){return`{{${this.rows().map(r=>r.map(e=>e.toString(t)).join(t.itemSeparator)).join(`}${t.itemSeparator}{`)}}}`}rows(){return(0,Ir.range)(0,this.height-1).map(t=>(0,Ir.range)(0,this.width-1).map(r=>this.cell(r,t)))}cell(t,r){if(t<0||r<0||t>=this.width||r>=this.height)throw new nt("Cell out of range",{col:t,row:r,width:this.width,height:this.height});let e=(this.width*r+t)*2;return new H(this.buffer[e],this.buffer[e+1])}set(t,r,e){if(t<0||r<0||t>=this.width||r>=this.height)throw new nt("Cell out of range",{col:t,row:r,width:this.width,height:this.height});let n=(this.width*r+t)*2;this.buffer[n]=e.real,this.buffer[n+1]=e.imag}isApproximatelyHermitian(t){if(this.width!==this.height)return!1;for(let r=0;r<this.width;r++)for(let e=0;e<this.height;e++){let n=(this.width*e+r)*2,u=(this.width*r+e)*2;if(Math.abs(this.buffer[n]-this.buffer[u])>t||Math.abs(this.buffer[n+1]+this.buffer[u+1])>t)return!1}return!0}plus(t){let{width:r,height:e,buffer:n}=this,u=t.buffer;ht.need(t.width===r&&t.height===e,"Matrix.plus: compatible sizes");let c=new Float64Array(this.buffer.length);for(let h=0;h<c.length;h++)c[h]=n[h]+u[h];return new k(r,e,c)}tensorProduct(t){let r=this.width,e=this.height,n=t.width,u=t.height,c=r*n,h=e*u,y=new Float64Array(c*h*2);for(let A=0;A<e;A++)for(let N=0;N<u;N++)for(let $=0;$<r;$++)for(let O=0;O<n;O++){let v=(A*r+$)*2,m=(N*n+O)*2,l=((A*u+N)*c+($*n+O))*2,p=this.buffer[v],d=this.buffer[v+1],g=t.buffer[m],I=t.buffer[m+1],j=p*g-d*I,F=p*I+d*g;y[l]=j,y[l+1]=F}return new k(c,h,y)}timesQubitOperation(t,r,e,n){ht.need((e&1<<r)===0,"Matrix.timesQubitOperation: self-controlled"),ht.need(t.width===2&&t.height===2,"Matrix.timesQubitOperation: not 2x2");let{width:u,height:c,buffer:h}=this,[y,A,N,$,O,v,m,l]=t.buffer;ht.need(c>=2<<r,"Matrix.timesQubitOperation: qubit index out of range");let p=new Float64Array(h),d=0;for(let g=0;g<c;g++){let I=(e&g^n)!==0,j=(g&1<<r)!==0;for(let F=0;F<u;F++){if(!I&&!j){let it=d+(1<<r)*2*u,E=p[d],w=p[d+1],R=p[it],W=p[it+1];p[d]=E*y-w*A+R*N-W*$,p[d+1]=E*A+w*y+R*$+W*N,p[it]=E*O-w*v+R*m-W*l,p[it+1]=E*v+w*O+R*l+W*m}d+=2}}return new k(u,c,p)}trace(){let t=0,r=0,e=this.width*2+2;for(let n=0;n<this.buffer.length;n+=e)t+=this.buffer[n],r+=this.buffer[n+1];return new H(t,r)}qubitDensityMatrixToBlochVector(){if(this.width!==2||this.height!==2)throw new nt("Need a 2x2 density matrix.",this);if(!this.isApproximatelyHermitian(.01))throw new nt("Density matrix should be Hermitian.",this);if(!this.trace().isApproximatelyEqualTo(1,.01))throw new nt("Density matrix should have unit trace.",this);let[t,r,e,n,u,c,h,y]=this.buffer,A=u+e,N=c-n,$=t-h;return[A,N,$]}},"x"),L=k;L.H=k.square(1,1,1,-1).times(Math.sqrt(.5)),L.PAULI_X=k.square(0,1,1,0),L.PAULI_Y=k.square(0,new H(0,-1),H.I,0),L.PAULI_Z=k.square(1,0,0,-1),L.T=k.square(1,0,0,H.from(Math.E).raisedTo(H.I.times(Math.PI/4)));var On=i(class{get bra(){return this.matrix.adjoint()}get ket(){return this.matrix}constructor(t){typeof t=="string"?this.matrix=this.bitstringToMatrix(t):this.matrix=t,this.size=this.matrix.height,this.nqubit=Math.log2(this.size)}amplifier(t){return this.matrix.cell(0,t)}setAmplifier(t,r){this.matrix.set(0,t,r)}blochVector(t){return this.qubitDensityMatrix(t).qubitDensityMatrixToBlochVector()}isApproximatelyEqualTo(t,r){return t instanceof On&&this.matrix.isApproximatelyEqualTo(t.matrix,r)}timesQubitOperation(t,r,e){this.matrix=this.matrix.timesQubitOperation(t,r,e,e)}toString(){return this.matrix.toString()}bitstringToMatrix(t){let r=!1,e="",n=[],u=new nt("Invalid StateVector bit string",t);for(let c of t.split(""))switch(c){case"0":{if(r)throw u;n.push(L.col(1,0));break}case"1":{if(r)throw u;n.push(L.col(0,1));break}case"+":{if(r)throw u;n.push(L.col(1,1).times(Math.sqrt(.5)));break}case"-":{r?e+="-":n.push(L.col(1,-1).times(Math.sqrt(.5)));break}case"i":{r?e+="i":n.push(L.col(1,new H(0,1)).times(Math.sqrt(.5)));break}case"(":{if(r)throw u;r=!0,e="";break}case")":{if(!r||e!=="-i")throw u;n.push(L.col(1,new H(0,-1)).times(Math.sqrt(.5))),r=!1;break}default:throw u}if(n.length===0)throw u;return n.reduce((c,h)=>c.tensorProduct(h))}qubitDensityMatrix(t){if(t<0||t>=this.nqubit)throw new nt("Qubit index out of range",t);let r=[...Array(Math.log2(this.matrix.height)).keys()].filter(u=>u!==t),e=i((u,c)=>c.sort().reverse().reduce((h,y)=>{let A=h>>y+1;A=A<<y;let N=(1<<y)-1&h;return A|N},u),"i"),n=L.zero(2,2);for(let u=0;u<this.matrix.height;u++)for(let c=0;c<this.matrix.height;c++){if(!r.every($=>(u>>$&1)===(c>>$&1)))continue;let h=this.matrix.cell(0,c).times(this.matrix.cell(0,u).conjugate());if(h.isEqualTo(0))continue;let y=e(c,r)===0?L.col(1,0):L.col(0,1),A=e(u,r)===0?L.row(1,0):L.row(0,1),N=y.times(A);n=n.plus(N.times(h))}return n}},"P");function _h(t,r){return Math.round(t*Math.pow(10,r))/Math.pow(10,r)}i(_h,"ut");var Un=i(class{constructor(t){typeof t=="string"?this.state=new On(t):this.state=t,this.measuredBits={},this.flags={}}runStep(t){this.blochVectors={};for(let r of t)switch(r.type){case wh:this.write(0,...r.targets);break;case Ah:this.write(1,...r.targets);break;case Rh:for(let e of r.targets)this.blochVectors[e]=this.state.blochVector(e);break;case hh:if(r.if&&!this.flags[r.if])break;r.controls&&r.controls.length>0?this.ch(r.controls,...r.targets):this.h(...r.targets);break;case ph:if(r.if&&!this.flags[r.if])break;r.controls&&r.controls.length>0?this.cnot(r.controls,...r.targets):this.x(...r.targets);break;case dh:if(r.if&&!this.flags[r.if])break;r.controls&&r.controls.length>0?this.cy(r.controls,...r.targets):this.y(...r.targets);break;case vh:if(r.if&&!this.flags[r.if])break;r.controls&&r.controls.length>0?this.cz(r.controls,...r.targets):this.z(...r.targets);break;case mh:{if(!r.angle)break;r.controls&&r.controls.length>0?this.cphase(r.controls,r.angle,r.targets[0]):this.cphase(r.targets.slice(1),r.angle,r.targets[0]);break}case gh:{if(r.if&&!this.flags[r.if])break;r.controls&&r.controls.length>0?this.ct(r.controls,...r.targets):this.t(...r.targets);break}case Wh:{this.cz(r.targets.slice(1),r.targets[0]);break}case Mh:{r.controls&&r.controls.length===1?this.cswap(r.controls[0],r.targets[0],r.targets[1]):this.swap(r.targets[0],r.targets[1]);break}case yh:if(r.if&&!this.flags[r.if])break;r.controls&&r.controls.length>0?this.crnot(r.controls,...r.targets):this.rnot(...r.targets);break;case Ih:if(r.if&&!this.flags[r.if]||!r.angle)break;r.controls&&r.controls.length>0?this.crx(r.controls,r.angle,...r.targets):this.rx(r.angle,...r.targets);break;case xh:if(r.if&&!this.flags[r.if]||!r.angle)break;r.controls&&r.controls.length>0?this.cry(r.controls,r.angle,...r.targets):this.ry(r.angle,...r.targets);break;case bh:if(r.if&&!this.flags[r.if]||!r.angle)break;r.controls&&r.controls.length>0?this.crz(r.controls,r.angle,...r.targets):this.rz(r.angle,...r.targets);break;case Eh:for(let e of r.targets)this.measure(e),r.flag&&(this.flags[r.flag]=this.measuredBits[e]===1);break;default:throw new Error("Unknown instruction")}return this}write(t,...r){for(let e of r){let n=_h(this.pZero(e),5);(t===0&&n===0||t===1&&n===1)&&this.x(e)}return this}h(...t){return this.u(L.H,...t),this}ch(t,...r){return this.cu(t,L.H,...r),this}x(...t){return this.u(L.PAULI_X,...t),this}cnot(t,...r){return this.cu(t,L.PAULI_X,...r),this}y(...t){return this.u(L.PAULI_Y,...t),this}cy(t,...r){return this.cu(t,L.PAULI_Y,...r),this}z(...t){return this.u(L.PAULI_Z,...t),this}cz(t,...r){return this.cu(t,L.PAULI_Z,...r),this}phase(t,...r){return this.u(L.PHASE(t),...r),this}cphase(t,r,...e){return this.cu(t,L.PHASE(r),...e),this}t(...t){return this.u(L.T,...t),this}ct(t,...r){return this.cu(t,L.T,...r),this}swap(t,r){return this.cnot(t,r).cnot(r,t).cnot(t,r),this}cswap(t,r,e){return this.cnot([t,r],e).cnot([t,e],r).cnot([t,r],e),this}rnot(...t){return this.u(L.RNOT,...t),this}crnot(t,...r){return this.cu(t,L.RNOT,...r),this}rx(t,...r){return this.u(L.RX(t),...r),this}crx(t,r,...e){return this.cu(t,L.RX(r),...e),this}ry(t,...r){return this.u(L.RY(t),...r),this}cry(t,r,...e){return this.cu(t,L.RY(r),...e),this}rz(t,...r){return this.u(L.RZ(t),...r),this}crz(t,r,...e){return this.cu(t,L.RZ(r),...e),this}measure(...t){for(let r of t){let e=this.pZero(r);if(Math.random()<=e){for(let n=0;n<1<<this.state.nqubit;n++)(n&1<<r)!==0&&this.state.setAmplifier(n,H.ZERO),this.state.setAmplifier(n,this.state.amplifier(n).dividedBy(Math.sqrt(e)));this.measuredBits[r]=0}else{for(let n=0;n<1<<this.state.nqubit;n++)(n&1<<r)===0&&this.state.setAmplifier(n,H.ZERO),this.state.setAmplifier(n,this.state.amplifier(n).dividedBy(Math.sqrt(1-e)));this.measuredBits[r]=1}}return this}amplitudes(t=[]){let r=this.state.matrix.columnAt(0);return t.length>0?t.reduce((e,n)=>{let u=r[n];return u===void 0?e[n]=[0,0]:e[n]=[u.real,u.imag],e},{}):r.map(e=>[e.real,e.imag])}u(t,...r){for(let e of r)this.state.timesQubitOperation(t,e,0)}cu(t,r,...e){let n=(typeof t=="number"?[t]:t).reduce((u,c)=>u|1<<c,0);for(let u of e)this.state.timesQubitOperation(r,u,n)}pZero(t){let r=0;for(let e=0;e<1<<this.state.nqubit;e++)(e&1<<t)===0&&(r+=Math.pow(this.state.amplifier(e).abs(),2));return r}},"ht");var Sh=Ft(Fn());var qh=Object.prototype.toString.call({}),Oh="!recursion-limit!",Uh=10;function wt(t,r=Uh){return Nh(t)||Fh(t,r)||Bh(t,r)}i(wt,"c");function Nh(t){if(t===null)return"null";if(t===void 0)return"undefined";if(typeof t=="string")return`"${t}"`;if(typeof t=="number")return String(t)}i(Nh,"M");function Fh(t,r){if(r===0)return Oh;if(t instanceof Map)return Lh(t,r);if(t instanceof Set)return Ph(t,r);if((e=>e[Symbol.iterator]!==void 0)(t))return Th(t,r)}i(Fh,"O");function Bh(t,r){let e=String(t);return e!==qh?e:Dh(t,r)}i(Bh,"F");function Lh(t,r){let e=[];for(let[n,u]of t.entries()){if(e.length>1e3){e.push("[...]");break}let c=wt(n,r-1),h=wt(u,r-1);e.push(`${c}: ${h}`)}return`Map{${e.join(", ")}}`}i(Lh,"G");function Ph(t,r){let e=[];for(let n of t){if(e.length>1e3){e.push("[...]");break}e.push(wt(n,r-1))}return`Set{${e.join(", ")}}`}i(Ph,"R");function Th(t,r){let e=[];for(let n of t){if(e.length>1e3){e.push("[...]");break}e.push(wt(n,r-1))}return`${Array.isArray(t)?"":t.constructor.name}[${e.join(", ")}]`}i(Th,"N");function Dh(t,r){let e=[];for(let u in t){if(!Object.prototype.hasOwnProperty.call(t,u))continue;if(e.length>1e3){e.push("[...]");break}let c=t[u],h=wt(u,r-1),y=wt(c,r-1);e.push(`${h}: ${y}`)}let n=t.constructor.name;return`${n==={}.constructor.name?"":`(Type: ${n})`}{${e.join(", ")}}`}i(Dh,"q");var Me=0,We=i(class extends Error{constructor(t,r){super(t),this.detailsObj=r,this.name="Error",this.message=t,this.stack=new Error().stack,this.stack!==void 0&&(this.stack=this.stack.replace(/^Error\n\s+at new DetailedError (\S+)\s?\n\s+at /,`
    `)),Me++;try{this.details=Me===1?wt(this.detailsObj):"(failed to describe detailsObj due to possibly re-entrancy)"}catch(e){console.error(e),this.details="(failed to describe detailsObj, see the console for details)"}finally{Me--}}},"d"),zh=[{character:"\xBD",ref:"\xBD",expanded:"1/2",value:.5},{character:"\xBC",ref:"\xBC",expanded:"1/4",value:.25},{character:"\xBE",ref:"\xBE",expanded:"3/4",value:.75},{character:"\u2153",ref:"\u2153",expanded:"1/3",value:.3333333333333333},{character:"\u2154",ref:"\u2154",expanded:"2/3",value:.6666666666666666},{character:"\u2155",ref:"\u2155",expanded:"1/5",value:.2},{character:"\u2156",ref:"\u2156",expanded:"2/5",value:.4},{character:"\u2157",ref:"\u2157",expanded:"3/5",value:.6},{character:"\u2158",ref:"\u2158",expanded:"4/5",value:.8},{character:"\u2159",ref:"\u2159",expanded:"1/6",value:.16666666666666666},{character:"\u215A",ref:"\u215A",expanded:"5/6",value:.8333333333333334},{character:"\u2150",ref:"\u2150",expanded:"1/7",value:.14285714285714285},{character:"\u215B",ref:"\u215B",expanded:"1/8",value:.125},{character:"\u215C",ref:"\u215C",expanded:"3/8",value:.375},{character:"\u215D",ref:"\u215D",expanded:"5/8",value:.625},{character:"\u215E",ref:"\u215E",expanded:"7/8",value:.875},{character:"\u2151",ref:"\u2151",expanded:"1/9",value:.1111111111111111},{character:"\u2152",ref:"\u2152",expanded:"1/10",value:.1}],ft=i(class{static parseFloat(t){if(t.length===0)throw new Error(`Not a number: '${t}'`);if(t[0]==="-")return-ft.parseFloat(t.substr(1));if(t[0]==="\u221A")return Math.sqrt(ft.parseFloat(t.substr(1)));let r=ft.matchUnicodeFraction(n=>n.character===t);if(r!==void 0)return r.value;let e=parseFloat(t);if(isNaN(e))throw new Error(`Not a number: '${t}'`);return e}static simplifyByRounding(t,r){if(t<0)return-ft.simplifyByRounding(-t,r);let e=t%1;if(e<=r||1-e<=r)return Math.round(t);let n=ft.matchUnicodeFraction(c=>Math.abs(c.value-t)<=r);if(n!==void 0)return n.value;let u=ft.matchUnicodeFraction(c=>Math.abs(Math.sqrt(c.value)-t)<=r);return u!==void 0?Math.sqrt(u.value):t}static matchUnicodeFraction(t){for(let r of zh)if(t(r))return r}constructor(t,r,e,n){this.allowAbbreviation=t,this.maxAbbreviationError=r,this.fixedDigits=e,this.itemSeparator=n}formatFloat(t){return this.allowAbbreviation?this.abbreviateFloat(t,this.maxAbbreviationError,this.fixedDigits):this.fixedDigits!==void 0?t.toFixed(this.fixedDigits):String(t)}abbreviateFloat(t,r=0,e=void 0){if(Math.abs(t)<r)return"0";if(t<0)return`-${this.abbreviateFloat(-t,r,e)}`;let n=ft.matchUnicodeFraction(c=>Math.abs(c.value-t)<=r);if(n!==void 0)return n.character;let u=ft.matchUnicodeFraction(c=>Math.abs(Math.sqrt(c.value)-t)<=r);return u!==void 0?`\u221A${u.character}`:t%1!==0&&e!==void 0?t.toFixed(e):t.toString()}},"u"),Yt=ft;Yt.CONSISTENT=new ft(!1,0,2,", "),Yt.EXACT=new ft(!0,0,void 0,", "),Yt.MINIFIED=new ft(!0,0,void 0,","),Yt.SIMPLIFIED=new ft(!0,5e-4,3,", ");var At=i(class{static need(t,r,e){if(t!==!0){let n=e===void 0?"(not provided)":`[${Array.prototype.slice.call(e).join(", ")}]`,u=`Precondition failed

Message: ${r===void 0?"(not provided)":r}

Args: ${n}`;throw new Error(u)}}static notNull(t){At.need(t!=null,"notNull")}static snappedCosSin(t){let r=Math.PI/4,e=Math.round(t/r);if(e*r===t){let n=Math.sqrt(.5);return[[1,0],[n,n],[0,1],[-n,n],[-1,0],[-n,-n],[0,-1],[n,-n]][e&7]}return[Math.cos(t),Math.sin(t)]}},"m"),q=i(class{static from(t){if(t instanceof q)return t;if(typeof t=="number")return new q(t,0);throw new We("Unrecognized value type.",{v:t})}static polar(t,r){let[e,n]=At.snappedCosSin(r);return new q(t*e,t*n)}static realPartOf(t){if(t instanceof q)return t.real;if(typeof t=="number")return t;throw new We("Unrecognized value type.",{v:t})}static imagPartOf(t){if(t instanceof q)return t.imag;if(typeof t=="number")return 0;throw new We("Unrecognized value type.",{v:t})}constructor(t,r){this.real=t,this.imag=r}static rootsOfQuadratic(t,r,e){if(t=q.from(t),r=q.from(r),e=q.from(e),t.isEqualTo(0)){if(!r.isEqualTo(0))return[e.times(-1).dividedBy(r)];if(!e.isEqualTo(0))return[];throw Error("Degenerate")}let n=r.times(r).minus(t.times(e).times(4)).sqrts(),u=r.times(-1),c=t.times(2);return n.map(h=>u.minus(h).dividedBy(c))}isEqualTo(t){return t instanceof q?this.real===t.real&&this.imag===t.imag:typeof t=="number"?this.real===t&&this.imag===0:!1}isApproximatelyEqualTo(t,r){if(t instanceof q||typeof t=="number"){let e=this.minus(q.from(t));return Math.abs(e.real)<=r&&Math.abs(e.imag)<=r&&e.abs()<=r}return!1}norm2(){return this.real*this.real+this.imag*this.imag}abs(){return Math.sqrt(this.norm2())}unit(){let t=this.norm2();return t<1e-5?q.polar(1,this.phase()):this.dividedBy(Math.sqrt(t))}plus(t){let r=q.from(t);return new q(this.real+r.real,this.imag+r.imag)}minus(t){let r=q.from(t);return new q(this.real-r.real,this.imag-r.imag)}times(t){let r=q.from(t);return new q(this.real*r.real-this.imag*r.imag,this.real*r.imag+this.imag*r.real)}dividedBy(t){let r=q.from(t),e=r.norm2();if(e===0)throw new Error("Division by Zero");let n=this.times(r.conjugate());return new q(n.real/e,n.imag/e)}sqrts(){let[t,r]=[this.real,this.imag],e=Math.sqrt(Math.sqrt(t*t+r*r));if(e===0)return[q.ZERO];if(r===0&&t<0)return[new q(0,e),new q(0,-e)];let n=this.phase()/2,u=q.polar(e,n);return[u,u.times(-1)]}conjugate(){return new q(this.real,-this.imag)}toString(t){return t=t||Yt.EXACT,t.allowAbbreviation?this.toStringAllowSingleValue(t):this.toStringBothValues(t)}neg(){return new q(-this.real,-this.imag)}raisedTo(t){return t===.5&&this.imag===0&&this.real>=0?new q(Math.sqrt(this.real),0):q.ZERO.isEqualTo(t)?q.ONE:this.isEqualTo(q.ZERO)?q.ZERO:this.ln().times(q.from(t)).exp()}exp(){return q.polar(Math.exp(this.real),this.imag)}cos(){let t=this.times(q.I);return t.exp().plus(t.neg().exp()).times(.5)}sin(){let t=this.times(q.I);return t.exp().minus(t.neg().exp()).dividedBy(new q(0,2))}tan(){return this.sin().dividedBy(this.cos())}ln(){return new q(Math.log(this.abs()),this.phase())}phase(){return Math.atan2(this.imag,this.real)}toStringAllowSingleValue(t){return Math.abs(this.imag)<=t.maxAbbreviationError?t.formatFloat(this.real):Math.abs(this.real)<=t.maxAbbreviationError?Math.abs(this.imag-1)<=t.maxAbbreviationError?"i":Math.abs(this.imag+1)<=t.maxAbbreviationError?"-i":`${t.formatFloat(this.imag)}i`:this.toStringBothValues(t)}toStringBothValues(t){let r=this.imag>=0?"+":"-",e=t.allowAbbreviation&&Math.abs(Math.abs(this.imag)-1)<=t.maxAbbreviationError?"":t.formatFloat(Math.abs(this.imag));return`${(t.allowAbbreviation||t.fixedDigits===void 0||this.real<0?"":"+")+t.formatFloat(this.real)+r+e}i`}},"o"),Re=q;Re.ZERO=new q(0,0),Re.ONE=new q(1,0),Re.I=new q(0,1);self.addEventListener("message",function(t){let r=t.data.qubitCount,e=t.data.stepIndex,n=t.data.steps,u=t.data.targets,c=new Un("0".repeat(r));At.notNull(r),At.notNull(e),At.notNull(n),At.notNull(u),n.forEach((h,y)=>{c.runStep(h),self.postMessage({type:"step",step:y,amplitudes:y===e?c.amplitudes(u):[],blochVectors:c.blochVectors,measuredBits:c.measuredBits,flags:c.flags})}),self.postMessage({type:"finish"})},!1);})();
/**
 * @license Fraction.js v4.2.0 05/03/2022
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
//# sourceMappingURL=serviceworker.js.map
