"use strict";(()=>{var Cn=Object.create;var he=Object.defineProperty;var jn=Object.getOwnPropertyDescriptor;var Bn=Object.getOwnPropertyNames;var Dn=Object.getPrototypeOf,Rn=Object.prototype.hasOwnProperty;var u=(e,t)=>he(e,"name",{value:t,configurable:!0});var K=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Fn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Bn(t))!Rn.call(e,i)&&i!==r&&he(e,i,{get:()=>t[i],enumerable:!(n=jn(t,i))||n.enumerable});return e};var Ue=(e,t,r)=>(r=e!=null?Cn(Dn(e)):{},Fn(t||!e||!e.__esModule?he(r,"default",{value:e,enumerable:!0}):r,e));var pr=K((xe,hr)=>{(function(e){"use strict";var t=2e3,r={s:1,n:0,d:1};function n(l,f){if(isNaN(l=parseInt(l,10)))throw v.InvalidParameter;return l*f}u(n,"assign");function i(l,f){if(f===0)throw v.DivisionByZero;var s=Object.create(v.prototype);s.s=l<0?-1:1,l=l<0?-l:l;var c=y(l,f);return s.n=l/c,s.d=f/c,s}u(i,"newFraction");function a(l){for(var f={},s=l,c=2,p=4;p<=s;){for(;s%c===0;)s/=c,f[c]=(f[c]||0)+1;p+=1+2*c++}return s!==l?s>1&&(f[s]=(f[s]||0)+1):f[l]=(f[l]||0)+1,f}u(a,"factorize");var o=u(function(l,f){var s=0,c=1,p=1,d=0,w=0,N=0,M=1,T=1,O=0,S=1,x=1,E=1,$=1e7,_;if(l!=null)if(f!==void 0){if(s=l,c=f,p=s*c,s%1!==0||c%1!==0)throw v.NonIntegerParameter}else switch(typeof l){case"object":{if("d"in l&&"n"in l)s=l.n,c=l.d,"s"in l&&(s*=l.s);else if(0 in l)s=l[0],1 in l&&(c=l[1]);else throw v.InvalidParameter;p=s*c;break}case"number":{if(l<0&&(p=l,l=-l),l%1===0)s=l;else if(l>0){for(l>=1&&(T=Math.pow(10,Math.floor(1+Math.log(l)/Math.LN10)),l/=T);S<=$&&E<=$;)if(_=(O+x)/(S+E),l===_){S+E<=$?(s=O+x,c=S+E):E>S?(s=x,c=E):(s=O,c=S);break}else l>_?(O+=x,S+=E):(x+=O,E+=S),S>$?(s=x,c=E):(s=O,c=S);s*=T}else(isNaN(l)||isNaN(f))&&(c=s=NaN);break}case"string":{if(S=l.match(/\d+|./g),S===null)throw v.InvalidParameter;if(S[O]==="-"?(p=-1,O++):S[O]==="+"&&O++,S.length===O+1?w=n(S[O++],p):S[O+1]==="."||S[O]==="."?(S[O]!=="."&&(d=n(S[O++],p)),O++,(O+1===S.length||S[O+1]==="("&&S[O+3]===")"||S[O+1]==="'"&&S[O+3]==="'")&&(w=n(S[O],p),M=Math.pow(10,S[O].length),O++),(S[O]==="("&&S[O+2]===")"||S[O]==="'"&&S[O+2]==="'")&&(N=n(S[O+1],p),T=Math.pow(10,S[O+1].length)-1,O+=3)):S[O+1]==="/"||S[O+1]===":"?(w=n(S[O],p),M=n(S[O+2],1),O+=3):S[O+3]==="/"&&S[O+1]===" "&&(d=n(S[O],p),w=n(S[O+2],p),M=n(S[O+4],1),O+=5),S.length<=O){c=M*T,p=s=N+c*d+T*w;break}}default:throw v.InvalidParameter}if(c===0)throw v.DivisionByZero;r.s=p<0?-1:1,r.n=Math.abs(s),r.d=Math.abs(c)},"parse");function m(l,f,s){for(var c=1;f>0;l=l*l%s,f>>=1)f&1&&(c=c*l%s);return c}u(m,"modpow");function g(l,f){for(;f%2===0;f/=2);for(;f%5===0;f/=5);if(f===1)return 0;for(var s=10%f,c=1;s!==1;c++)if(s=s*10%f,c>t)return 0;return c}u(g,"cycleLen");function h(l,f,s){for(var c=1,p=m(10,s,f),d=0;d<300;d++){if(c===p)return d;c=c*10%f,p=p*10%f}return 0}u(h,"cycleStart");function y(l,f){if(!l)return f;if(!f)return l;for(;;){if(l%=f,!l)return f;if(f%=l,!f)return l}}u(y,"gcd");function v(l,f){if(o(l,f),this instanceof v)l=y(r.d,r.n),this.s=r.s,this.n=r.n/l,this.d=r.d/l;else return i(r.s*r.n,r.d)}u(v,"Fraction"),v.DivisionByZero=new Error("Division by Zero"),v.InvalidParameter=new Error("Invalid argument"),v.NonIntegerParameter=new Error("Parameters must be integer"),v.prototype={s:1,n:0,d:1,abs:function(){return i(this.n,this.d)},neg:function(){return i(-this.s*this.n,this.d)},add:function(l,f){return o(l,f),i(this.s*this.n*r.d+r.s*this.d*r.n,this.d*r.d)},sub:function(l,f){return o(l,f),i(this.s*this.n*r.d-r.s*this.d*r.n,this.d*r.d)},mul:function(l,f){return o(l,f),i(this.s*r.s*this.n*r.n,this.d*r.d)},div:function(l,f){return o(l,f),i(this.s*r.s*this.n*r.d,this.d*r.n)},clone:function(){return i(this.s*this.n,this.d)},mod:function(l,f){if(isNaN(this.n)||isNaN(this.d))return new v(NaN);if(l===void 0)return i(this.s*this.n%this.d,1);if(o(l,f),r.n===0&&this.d===0)throw v.DivisionByZero;return i(this.s*(r.d*this.n)%(r.n*this.d),r.d*this.d)},gcd:function(l,f){return o(l,f),i(y(r.n,this.n)*y(r.d,this.d),r.d*this.d)},lcm:function(l,f){return o(l,f),r.n===0&&this.n===0?i(0,1):i(r.n*this.n,y(r.n,this.n)*y(r.d,this.d))},ceil:function(l){return l=Math.pow(10,l||0),isNaN(this.n)||isNaN(this.d)?new v(NaN):i(Math.ceil(l*this.s*this.n/this.d),l)},floor:function(l){return l=Math.pow(10,l||0),isNaN(this.n)||isNaN(this.d)?new v(NaN):i(Math.floor(l*this.s*this.n/this.d),l)},round:function(l){return l=Math.pow(10,l||0),isNaN(this.n)||isNaN(this.d)?new v(NaN):i(Math.round(l*this.s*this.n/this.d),l)},inverse:function(){return i(this.s*this.d,this.n)},pow:function(l,f){if(o(l,f),r.d===1)return r.s<0?i(Math.pow(this.s*this.d,r.n),Math.pow(this.n,r.n)):i(Math.pow(this.s*this.n,r.n),Math.pow(this.d,r.n));if(this.s<0)return null;var s=a(this.n),c=a(this.d),p=1,d=1;for(var w in s)if(w!=="1"){if(w==="0"){p=0;break}if(s[w]*=r.n,s[w]%r.d===0)s[w]/=r.d;else return null;p*=Math.pow(w,s[w])}for(var w in c)if(w!=="1"){if(c[w]*=r.n,c[w]%r.d===0)c[w]/=r.d;else return null;d*=Math.pow(w,c[w])}return r.s<0?i(d,p):i(p,d)},equals:function(l,f){return o(l,f),this.s*this.n*r.d===r.s*r.n*this.d},compare:function(l,f){o(l,f);var s=this.s*this.n*r.d-r.s*r.n*this.d;return(0<s)-(s<0)},simplify:function(l){if(isNaN(this.n)||isNaN(this.d))return this;l=l||.001;for(var f=this.abs(),s=f.toContinued(),c=1;c<s.length;c++){for(var p=i(s[c-1],1),d=c-2;d>=0;d--)p=p.inverse().add(s[d]);if(p.sub(f).abs().valueOf()<l)return p.mul(this.s)}return this},divisible:function(l,f){return o(l,f),!(!(r.n*this.d)||this.n*r.d%(r.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(l){var f,s="",c=this.n,p=this.d;return this.s<0&&(s+="-"),p===1?s+=c:(l&&(f=Math.floor(c/p))>0&&(s+=f,s+=" ",c%=p),s+=c,s+="/",s+=p),s},toLatex:function(l){var f,s="",c=this.n,p=this.d;return this.s<0&&(s+="-"),p===1?s+=c:(l&&(f=Math.floor(c/p))>0&&(s+=f,c%=p),s+="\\frac{",s+=c,s+="}{",s+=p,s+="}"),s},toContinued:function(){var l,f=this.n,s=this.d,c=[];if(isNaN(f)||isNaN(s))return c;do c.push(Math.floor(f/s)),l=f%s,f=s,s=l;while(f!==1);return c},toString:function(l){var f=this.n,s=this.d;if(isNaN(f)||isNaN(s))return"NaN";l=l||15;var c=g(f,s),p=h(f,s,c),d=this.s<0?"-":"";if(d+=f/s|0,f%=s,f*=10,f&&(d+="."),c){for(var w=p;w--;)d+=f/s|0,f%=s,f*=10;d+="(";for(var w=c;w--;)d+=f/s|0,f%=s,f*=10;d+=")"}else for(var w=l;f&&w--;)d+=f/s|0,f%=s,f*=10;return d}},typeof define=="function"&&define.amd?define([],function(){return v}):typeof xe=="object"?(Object.defineProperty(v,"__esModule",{value:!0}),v.default=v,v.Fraction=v,hr.exports=v):e.Fraction=v})(xe)});var xr=K((Bo,wr)=>{"use strict";var gr=u((e=0)=>t=>`\x1B[${38+e};5;${t}m`,"wrapAnsi256"),yr=u((e=0)=>(t,r,n)=>`\x1B[${38+e};2;${t};${r};${n}m`,"wrapAnsi16m");function zi(){let e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(let[r,n]of Object.entries(t)){for(let[i,a]of Object.entries(n))t[i]={open:`\x1B[${a[0]}m`,close:`\x1B[${a[1]}m`},n[i]=t[i],e.set(a[0],a[1]);Object.defineProperty(t,r,{value:n,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="\x1B[39m",t.bgColor.close="\x1B[49m",t.color.ansi256=gr(),t.color.ansi16m=yr(),t.bgColor.ansi256=gr(10),t.bgColor.ansi16m=yr(10),Object.defineProperties(t,{rgbToAnsi256:{value:(r,n,i)=>r===n&&n===i?r<8?16:r>248?231:Math.round((r-8)/247*24)+232:16+36*Math.round(r/255*5)+6*Math.round(n/255*5)+Math.round(i/255*5),enumerable:!1},hexToRgb:{value:r=>{let n=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(r.toString(16));if(!n)return[0,0,0];let{colorString:i}=n.groups;i.length===3&&(i=i.split("").map(o=>o+o).join(""));let a=Number.parseInt(i,16);return[a>>16&255,a>>8&255,a&255]},enumerable:!1},hexToAnsi256:{value:r=>t.rgbToAnsi256(...t.hexToRgb(r)),enumerable:!1}}),t}u(zi,"assembleStyles");Object.defineProperty(wr,"exports",{enumerable:!0,get:zi})});var Rt=K(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.printIteratorEntries=Gi;It.printIteratorValues=Vi;It.printListItems=Ki;It.printObjectProperties=Ji;var Wi=u((e,t)=>{let r=Object.keys(e),n=t!==null?r.sort(t):r;return Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(i=>{Object.getOwnPropertyDescriptor(e,i).enumerable&&n.push(i)}),n},"getKeysOfEnumerableProperties");function Gi(e,t,r,n,i,a,o=": "){let m="",g=0,h=e.next();if(!h.done){m+=t.spacingOuter;let y=r+t.indent;for(;!h.done;){if(m+=y,g++===t.maxWidth){m+="\u2026";break}let v=a(h.value[0],t,y,n,i),l=a(h.value[1],t,y,n,i);m+=v+o+l,h=e.next(),h.done?t.min||(m+=","):m+=`,${t.spacingInner}`}m+=t.spacingOuter+r}return m}u(Gi,"printIteratorEntries");function Vi(e,t,r,n,i,a){let o="",m=0,g=e.next();if(!g.done){o+=t.spacingOuter;let h=r+t.indent;for(;!g.done;){if(o+=h,m++===t.maxWidth){o+="\u2026";break}o+=a(g.value,t,h,n,i),g=e.next(),g.done?t.min||(o+=","):o+=`,${t.spacingInner}`}o+=t.spacingOuter+r}return o}u(Vi,"printIteratorValues");function Ki(e,t,r,n,i,a){let o="";if(e.length){o+=t.spacingOuter;let m=r+t.indent;for(let g=0;g<e.length;g++){if(o+=m,g===t.maxWidth){o+="\u2026";break}g in e&&(o+=a(e[g],t,m,n,i)),g<e.length-1?o+=`,${t.spacingInner}`:t.min||(o+=",")}o+=t.spacingOuter+r}return o}u(Ki,"printListItems");function Ji(e,t,r,n,i,a){let o="",m=Wi(e,t.compareKeys);if(m.length){o+=t.spacingOuter;let g=r+t.indent;for(let h=0;h<m.length;h++){let y=m[h],v=a(y,t,g,n,i),l=a(e[y],t,g,n,i);o+=`${g+v}: ${l}`,h<m.length-1?o+=`,${t.spacingInner}`:t.min||(o+=",")}o+=t.spacingOuter+r}return o}u(Ji,"printObjectProperties")});var Or=K(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.test=ut.serialize=ut.default=void 0;var Er=Rt(),Se=globalThis["jest-symbol-do-not-touch"]||globalThis.Symbol,Zi=typeof Se=="function"&&Se.for?Se.for("jest.asymmetricMatcher"):1267621,Zt=" ",Mr=u((e,t,r,n,i,a)=>{let o=e.toString();if(o==="ArrayContaining"||o==="ArrayNotContaining")return++n>t.maxDepth?`[${o}]`:`${o+Zt}[${(0,Er.printListItems)(e.sample,t,r,n,i,a)}]`;if(o==="ObjectContaining"||o==="ObjectNotContaining")return++n>t.maxDepth?`[${o}]`:`${o+Zt}{${(0,Er.printObjectProperties)(e.sample,t,r,n,i,a)}}`;if(o==="StringMatching"||o==="StringNotMatching"||o==="StringContaining"||o==="StringNotContaining")return o+Zt+a(e.sample,t,r,n,i);if(typeof e.toAsymmetricMatcher!="function")throw new Error(`Asymmetric matcher ${e.constructor.name} does not implement toAsymmetricMatcher()`);return e.toAsymmetricMatcher()},"serialize");ut.serialize=Mr;var Sr=u(e=>e&&e.$$typeof===Zi,"test");ut.test=Sr;var Qi={serialize:Mr,test:Sr},Hi=Qi;ut.default=Hi});var Ir=K(lt=>{"use strict";Object.defineProperty(lt,"__esModule",{value:!0});lt.test=lt.serialize=lt.default=void 0;var Ar=Rt(),Xi=" ",Nr=["DOMStringMap","NamedNodeMap"],Yi=/^(HTML\w*Collection|NodeList)$/,ta=u(e=>Nr.indexOf(e)!==-1||Yi.test(e),"testName"),_r=u(e=>e&&e.constructor&&!!e.constructor.name&&ta(e.constructor.name),"test");lt.test=_r;var ea=u(e=>e.constructor.name==="NamedNodeMap","isNamedNodeMap"),$r=u((e,t,r,n,i,a)=>{let o=e.constructor.name;return++n>t.maxDepth?`[${o}]`:(t.min?"":o+Xi)+(Nr.indexOf(o)!==-1?`{${(0,Ar.printObjectProperties)(ea(e)?Array.from(e).reduce((m,g)=>(m[g.name]=g.value,m),{}):{...e},t,r,n,i,a)}}`:`[${(0,Ar.printListItems)(Array.from(e),t,r,n,i,a)}]`)},"serialize");lt.serialize=$r;var ra={serialize:$r,test:_r},na=ra;lt.default=na});var Tr=K(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.default=ia;function ia(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}u(ia,"escapeHTML")});var Qt=K(Z=>{"use strict";Object.defineProperty(Z,"__esModule",{value:!0});Z.printText=Z.printProps=Z.printElementAsLeaf=Z.printElement=Z.printComment=Z.printChildren=void 0;var Pr=aa(Tr());function aa(e){return e&&e.__esModule?e:{default:e}}u(aa,"_interopRequireDefault");var oa=u((e,t,r,n,i,a,o)=>{let m=n+r.indent,g=r.colors;return e.map(h=>{let y=t[h],v=o(y,r,m,i,a);return typeof y!="string"&&(v.indexOf(`
`)!==-1&&(v=r.spacingOuter+m+v+r.spacingOuter+n),v=`{${v}}`),`${r.spacingInner+n+g.prop.open+h+g.prop.close}=${g.value.open}${v}${g.value.close}`}).join("")},"printProps");Z.printProps=oa;var sa=u((e,t,r,n,i,a)=>e.map(o=>t.spacingOuter+r+(typeof o=="string"?Cr(o,t):a(o,t,r,n,i))).join(""),"printChildren");Z.printChildren=sa;var Cr=u((e,t)=>{let r=t.colors.content;return r.open+(0,Pr.default)(e)+r.close},"printText");Z.printText=Cr;var ua=u((e,t)=>{let r=t.colors.comment;return`${r.open}<!--${(0,Pr.default)(e)}-->${r.close}`},"printComment");Z.printComment=ua;var la=u((e,t,r,n,i)=>{let a=n.colors.tag;return`${a.open}<${e}${t&&a.close+t+n.spacingOuter+i+a.open}${r?`>${a.close}${r}${n.spacingOuter}${i}${a.open}</${e}`:`${t&&!n.min?"":" "}/`}>${a.close}`},"printElement");Z.printElement=la;var ca=u((e,t)=>{let r=t.colors.tag;return`${r.open}<${e}${r.close} \u2026${r.open} />${r.close}`},"printElementAsLeaf");Z.printElementAsLeaf=ca});var kr=K(ct=>{"use strict";Object.defineProperty(ct,"__esModule",{value:!0});ct.test=ct.serialize=ct.default=void 0;var Tt=Qt(),fa=1,jr=3,Br=8,Dr=11,ha=/^((HTML|SVG)\w*)?Element$/,pa=u(e=>{try{return typeof e.hasAttribute=="function"&&e.hasAttribute("is")}catch{return!1}},"testHasAttribute"),da=u(e=>{let t=e.constructor.name,{nodeType:r,tagName:n}=e,i=typeof n=="string"&&n.includes("-")||pa(e);return r===fa&&(ha.test(t)||i)||r===jr&&t==="Text"||r===Br&&t==="Comment"||r===Dr&&t==="DocumentFragment"},"testNode"),Rr=u(e=>e?.constructor?.name&&da(e),"test");ct.test=Rr;function ma(e){return e.nodeType===jr}u(ma,"nodeIsText");function ba(e){return e.nodeType===Br}u(ba,"nodeIsComment");function Ae(e){return e.nodeType===Dr}u(Ae,"nodeIsFragment");var Fr=u((e,t,r,n,i,a)=>{if(ma(e))return(0,Tt.printText)(e.data,t);if(ba(e))return(0,Tt.printComment)(e.data,t);let o=Ae(e)?"DocumentFragment":e.tagName.toLowerCase();return++n>t.maxDepth?(0,Tt.printElementAsLeaf)(o,t):(0,Tt.printElement)(o,(0,Tt.printProps)(Ae(e)?[]:Array.from(e.attributes).map(m=>m.name).sort(),Ae(e)?{}:Array.from(e.attributes).reduce((m,g)=>(m[g.name]=g.value,m),{}),t,r+t.indent,n,i,a),(0,Tt.printChildren)(Array.prototype.slice.call(e.childNodes||e.children),t,r+t.indent,n,i,a),t,r)},"serialize");ct.serialize=Fr;var va={serialize:Fr,test:Rr},ga=va;ct.default=ga});var Wr=K(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.test=ft.serialize=ft.default=void 0;var Ft=Rt(),ya="@@__IMMUTABLE_ITERABLE__@@",wa="@@__IMMUTABLE_LIST__@@",xa="@@__IMMUTABLE_KEYED__@@",Ea="@@__IMMUTABLE_MAP__@@",Ur="@@__IMMUTABLE_ORDERED__@@",Ma="@@__IMMUTABLE_RECORD__@@",Sa="@@__IMMUTABLE_SEQ__@@",Oa="@@__IMMUTABLE_SET__@@",Aa="@@__IMMUTABLE_STACK__@@",Pt=u(e=>`Immutable.${e}`,"getImmutableName"),Ht=u(e=>`[${e}]`,"printAsLeaf"),kt=" ",qr="\u2026",Na=u((e,t,r,n,i,a,o)=>++n>t.maxDepth?Ht(Pt(o)):`${Pt(o)+kt}{${(0,Ft.printIteratorEntries)(e.entries(),t,r,n,i,a)}}`,"printImmutableEntries");function _a(e){let t=0;return{next(){if(t<e._keys.length){let r=e._keys[t++];return{done:!1,value:[r,e.get(r)]}}return{done:!0,value:void 0}}}}u(_a,"getRecordEntries");var $a=u((e,t,r,n,i,a)=>{let o=Pt(e._name||"Record");return++n>t.maxDepth?Ht(o):`${o+kt}{${(0,Ft.printIteratorEntries)(_a(e),t,r,n,i,a)}}`},"printImmutableRecord"),Ia=u((e,t,r,n,i,a)=>{let o=Pt("Seq");return++n>t.maxDepth?Ht(o):e[xa]?`${o+kt}{${e._iter||e._object?(0,Ft.printIteratorEntries)(e.entries(),t,r,n,i,a):qr}}`:`${o+kt}[${e._iter||e._array||e._collection||e._iterable?(0,Ft.printIteratorValues)(e.values(),t,r,n,i,a):qr}]`},"printImmutableSeq"),Ne=u((e,t,r,n,i,a,o)=>++n>t.maxDepth?Ht(Pt(o)):`${Pt(o)+kt}[${(0,Ft.printIteratorValues)(e.values(),t,r,n,i,a)}]`,"printImmutableValues"),Lr=u((e,t,r,n,i,a)=>e[Ea]?Na(e,t,r,n,i,a,e[Ur]?"OrderedMap":"Map"):e[wa]?Ne(e,t,r,n,i,a,"List"):e[Oa]?Ne(e,t,r,n,i,a,e[Ur]?"OrderedSet":"Set"):e[Aa]?Ne(e,t,r,n,i,a,"Stack"):e[Sa]?Ia(e,t,r,n,i,a):$a(e,t,r,n,i,a),"serialize");ft.serialize=Lr;var zr=u(e=>e&&(e[ya]===!0||e[Ma]===!0),"test");ft.test=zr;var Ta={serialize:Lr,test:zr},Pa=Ta;ft.default=Pa});var Vr=K(j=>{"use strict";var _e=Symbol.for("react.element"),$e=Symbol.for("react.portal"),Xt=Symbol.for("react.fragment"),Yt=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),ee=Symbol.for("react.provider"),re=Symbol.for("react.context"),Ca=Symbol.for("react.server_context"),ne=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),oe=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),ja=Symbol.for("react.offscreen"),Gr;Gr=Symbol.for("react.module.reference");function H(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case _e:switch(e=e.type,e){case Xt:case te:case Yt:case ie:case ae:return e;default:switch(e=e&&e.$$typeof,e){case Ca:case re:case ne:case se:case oe:case ee:return e;default:return t}}case $e:return t}}}u(H,"v");j.ContextConsumer=re;j.ContextProvider=ee;j.Element=_e;j.ForwardRef=ne;j.Fragment=Xt;j.Lazy=se;j.Memo=oe;j.Portal=$e;j.Profiler=te;j.StrictMode=Yt;j.Suspense=ie;j.SuspenseList=ae;j.isAsyncMode=function(){return!1};j.isConcurrentMode=function(){return!1};j.isContextConsumer=function(e){return H(e)===re};j.isContextProvider=function(e){return H(e)===ee};j.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===_e};j.isForwardRef=function(e){return H(e)===ne};j.isFragment=function(e){return H(e)===Xt};j.isLazy=function(e){return H(e)===se};j.isMemo=function(e){return H(e)===oe};j.isPortal=function(e){return H(e)===$e};j.isProfiler=function(e){return H(e)===te};j.isStrictMode=function(e){return H(e)===Yt};j.isSuspense=function(e){return H(e)===ie};j.isSuspenseList=function(e){return H(e)===ae};j.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Xt||e===te||e===Yt||e===ie||e===ae||e===ja||typeof e=="object"&&e!==null&&(e.$$typeof===se||e.$$typeof===oe||e.$$typeof===ee||e.$$typeof===re||e.$$typeof===ne||e.$$typeof===Gr||e.getModuleId!==void 0)};j.typeOf=H});var Jr=K((Yo,Kr)=>{"use strict";Kr.exports=Vr()});var tn=K(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.test=ht.serialize=ht.default=void 0;var St=Ba(Jr()),ue=Qt();function Qr(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(Qr=u(function(n){return n?r:t},"_getRequireWildcardCache"))(e)}u(Qr,"_getRequireWildcardCache");function Ba(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=Qr(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}u(Ba,"_interopRequireWildcard");var Hr=u((e,t=[])=>(Array.isArray(e)?e.forEach(r=>{Hr(r,t)}):e!=null&&e!==!1&&t.push(e),t),"getChildren"),Zr=u(e=>{let t=e.type;if(typeof t=="string")return t;if(typeof t=="function")return t.displayName||t.name||"Unknown";if(St.isFragment(e))return"React.Fragment";if(St.isSuspense(e))return"React.Suspense";if(typeof t=="object"&&t!==null){if(St.isContextProvider(e))return"Context.Provider";if(St.isContextConsumer(e))return"Context.Consumer";if(St.isForwardRef(e)){if(t.displayName)return t.displayName;let r=t.render.displayName||t.render.name||"";return r!==""?`ForwardRef(${r})`:"ForwardRef"}if(St.isMemo(e)){let r=t.displayName||t.type.displayName||t.type.name||"";return r!==""?`Memo(${r})`:"Memo"}}return"UNDEFINED"},"getType"),Da=u(e=>{let{props:t}=e;return Object.keys(t).filter(r=>r!=="children"&&t[r]!==void 0).sort()},"getPropKeys"),Xr=u((e,t,r,n,i,a)=>++n>t.maxDepth?(0,ue.printElementAsLeaf)(Zr(e),t):(0,ue.printElement)(Zr(e),(0,ue.printProps)(Da(e),e.props,t,r+t.indent,n,i,a),(0,ue.printChildren)(Hr(e.props.children),t,r+t.indent,n,i,a),t,r),"serialize");ht.serialize=Xr;var Yr=u(e=>e!=null&&St.isElement(e),"test");ht.test=Yr;var Ra={serialize:Xr,test:Yr},Fa=Ra;ht.default=Fa});var nn=K(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});pt.test=pt.serialize=pt.default=void 0;var le=Qt(),Ie=globalThis["jest-symbol-do-not-touch"]||globalThis.Symbol,ka=typeof Ie=="function"&&Ie.for?Ie.for("react.test.json"):245830487,Ua=u(e=>{let{props:t}=e;return t?Object.keys(t).filter(r=>t[r]!==void 0).sort():[]},"getPropKeys"),en=u((e,t,r,n,i,a)=>++n>t.maxDepth?(0,le.printElementAsLeaf)(e.type,t):(0,le.printElement)(e.type,e.props?(0,le.printProps)(Ua(e),e.props,t,r+t.indent,n,i,a):"",e.children?(0,le.printChildren)(e.children,t,r+t.indent,n,i,a):"",t,r),"serialize");pt.serialize=en;var rn=u(e=>e&&e.$$typeof===ka,"test");pt.test=rn;var qa={serialize:en,test:rn},La=qa;pt.default=La});var wn=K(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.default=at.DEFAULT_OPTIONS=void 0;at.format=yn;at.plugins=void 0;var za=Ot(xr()),Ut=Rt(),Wa=Ot(Or()),Ga=Ot(Ir()),Va=Ot(kr()),Ka=Ot(Wr()),Ja=Ot(tn()),Za=Ot(nn());function Ot(e){return e&&e.__esModule?e:{default:e}}u(Ot,"_interopRequireDefault");var cn=Object.prototype.toString,Qa=Date.prototype.toISOString,Ha=Error.prototype.toString,an=RegExp.prototype.toString,Te=u(e=>typeof e.constructor=="function"&&e.constructor.name||"Object","getConstructorName"),Xa=u(e=>typeof window<"u"&&e===window,"isWindow"),Ya=/^Symbol\((.*)\)(.*)$/,to=/\n/gi,ce=class extends Error{static{u(this,"PrettyFormatPluginError")}constructor(t,r){super(t),this.stack=r,this.name=this.constructor.name}};function eo(e){return e==="[object Array]"||e==="[object ArrayBuffer]"||e==="[object DataView]"||e==="[object Float32Array]"||e==="[object Float64Array]"||e==="[object Int8Array]"||e==="[object Int16Array]"||e==="[object Int32Array]"||e==="[object Uint8Array]"||e==="[object Uint8ClampedArray]"||e==="[object Uint16Array]"||e==="[object Uint32Array]"}u(eo,"isToStringedArrayType");function ro(e){return Object.is(e,-0)?"-0":String(e)}u(ro,"printNumber");function no(e){return`${e}n`}u(no,"printBigInt");function on(e,t){return t?`[Function ${e.name||"anonymous"}]`:"[Function]"}u(on,"printFunction");function sn(e){return String(e).replace(Ya,"Symbol($1)")}u(sn,"printSymbol");function un(e){return`[${Ha.call(e)}]`}u(un,"printError");function fn(e,t,r,n){if(e===!0||e===!1)return`${e}`;if(e===void 0)return"undefined";if(e===null)return"null";let i=typeof e;if(i==="number")return ro(e);if(i==="bigint")return no(e);if(i==="string")return n?`"${e.replace(/"|\\/g,"\\$&")}"`:`"${e}"`;if(i==="function")return on(e,t);if(i==="symbol")return sn(e);let a=cn.call(e);return a==="[object WeakMap]"?"WeakMap {}":a==="[object WeakSet]"?"WeakSet {}":a==="[object Function]"||a==="[object GeneratorFunction]"?on(e,t):a==="[object Symbol]"?sn(e):a==="[object Date]"?isNaN(+e)?"Date { NaN }":Qa.call(e):a==="[object Error]"?un(e):a==="[object RegExp]"?r?an.call(e).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&"):an.call(e):e instanceof Error?un(e):null}u(fn,"printBasicValue");function hn(e,t,r,n,i,a){if(i.indexOf(e)!==-1)return"[Circular]";i=i.slice(),i.push(e);let o=++n>t.maxDepth,m=t.min;if(t.callToJSON&&!o&&e.toJSON&&typeof e.toJSON=="function"&&!a)return dt(e.toJSON(),t,r,n,i,!0);let g=cn.call(e);return g==="[object Arguments]"?o?"[Arguments]":`${m?"":"Arguments "}[${(0,Ut.printListItems)(e,t,r,n,i,dt)}]`:eo(g)?o?`[${e.constructor.name}]`:`${m||!t.printBasicPrototype&&e.constructor.name==="Array"?"":`${e.constructor.name} `}[${(0,Ut.printListItems)(e,t,r,n,i,dt)}]`:g==="[object Map]"?o?"[Map]":`Map {${(0,Ut.printIteratorEntries)(e.entries(),t,r,n,i,dt," => ")}}`:g==="[object Set]"?o?"[Set]":`Set {${(0,Ut.printIteratorValues)(e.values(),t,r,n,i,dt)}}`:o||Xa(e)?`[${Te(e)}]`:`${m||!t.printBasicPrototype&&Te(e)==="Object"?"":`${Te(e)} `}{${(0,Ut.printObjectProperties)(e,t,r,n,i,dt)}}`}u(hn,"printComplexValue");function io(e){return e.serialize!=null}u(io,"isNewPlugin");function pn(e,t,r,n,i,a){let o;try{o=io(e)?e.serialize(t,r,n,i,a,dt):e.print(t,m=>dt(m,r,n,i,a),m=>{let g=n+r.indent;return g+m.replace(to,`
${g}`)},{edgeSpacing:r.spacingOuter,min:r.min,spacing:r.spacingInner},r.colors)}catch(m){throw new ce(m.message,m.stack)}if(typeof o!="string")throw new Error(`pretty-format: Plugin must return type "string" but instead returned "${typeof o}".`);return o}u(pn,"printPlugin");function dn(e,t){for(let r=0;r<e.length;r++)try{if(e[r].test(t))return e[r]}catch(n){throw new ce(n.message,n.stack)}return null}u(dn,"findPlugin");function dt(e,t,r,n,i,a){let o=dn(t.plugins,e);if(o!==null)return pn(o,e,t,r,n,i);let m=fn(e,t.printFunctionName,t.escapeRegex,t.escapeString);return m!==null?m:hn(e,t,r,n,i,a)}u(dt,"printer");var Pe={comment:"gray",content:"reset",prop:"yellow",tag:"cyan",value:"green"},mn=Object.keys(Pe),ao=u(e=>e,"toOptionsSubtype"),X=ao({callToJSON:!0,compareKeys:void 0,escapeRegex:!1,escapeString:!0,highlight:!1,indent:2,maxDepth:1/0,maxWidth:1/0,min:!1,plugins:[],printBasicPrototype:!0,printFunctionName:!0,theme:Pe});at.DEFAULT_OPTIONS=X;function oo(e){if(Object.keys(e).forEach(t=>{if(!Object.prototype.hasOwnProperty.call(X,t))throw new Error(`pretty-format: Unknown option "${t}".`)}),e.min&&e.indent!==void 0&&e.indent!==0)throw new Error('pretty-format: Options "min" and "indent" cannot be used together.');if(e.theme!==void 0){if(e.theme===null)throw new Error('pretty-format: Option "theme" must not be null.');if(typeof e.theme!="object")throw new Error(`pretty-format: Option "theme" must be of type "object" but instead received "${typeof e.theme}".`)}}u(oo,"validateOptions");var so=u(e=>mn.reduce((t,r)=>{let n=e.theme&&e.theme[r]!==void 0?e.theme[r]:Pe[r],i=n&&za.default[n];if(i&&typeof i.close=="string"&&typeof i.open=="string")t[r]=i;else throw new Error(`pretty-format: Option "theme" has a key "${r}" whose value "${n}" is undefined in ansi-styles.`);return t},Object.create(null)),"getColorsHighlight"),uo=u(()=>mn.reduce((e,t)=>(e[t]={close:"",open:""},e),Object.create(null)),"getColorsEmpty"),bn=u(e=>e?.printFunctionName??X.printFunctionName,"getPrintFunctionName"),vn=u(e=>e?.escapeRegex??X.escapeRegex,"getEscapeRegex"),gn=u(e=>e?.escapeString??X.escapeString,"getEscapeString"),ln=u(e=>({callToJSON:e?.callToJSON??X.callToJSON,colors:e?.highlight?so(e):uo(),compareKeys:typeof e?.compareKeys=="function"||e?.compareKeys===null?e.compareKeys:X.compareKeys,escapeRegex:vn(e),escapeString:gn(e),indent:e?.min?"":lo(e?.indent??X.indent),maxDepth:e?.maxDepth??X.maxDepth,maxWidth:e?.maxWidth??X.maxWidth,min:e?.min??X.min,plugins:e?.plugins??X.plugins,printBasicPrototype:e?.printBasicPrototype??!0,printFunctionName:bn(e),spacingInner:e?.min?" ":`
`,spacingOuter:e?.min?"":`
`}),"getConfig");function lo(e){return new Array(e+1).join(" ")}u(lo,"createIndent");function yn(e,t){if(t&&(oo(t),t.plugins)){let n=dn(t.plugins,e);if(n!==null)return pn(n,e,ln(t),"",0,[])}let r=fn(e,bn(t),vn(t),gn(t));return r!==null?r:hn(e,ln(t),"",0,[])}u(yn,"format");var co={AsymmetricMatcher:Wa.default,DOMCollection:Ga.default,DOMElement:Va.default,Immutable:Ka.default,ReactElement:Ja.default,ReactTestComponent:Za.default};at.plugins=co;var fo=yn;at.default=fo});var kn=u(function(e){return function(t){for(var r=Math.max(0,Math.floor(t)),n=[e(0)],i=1;i<r;i++)n.push(e(i));return n}},"makeBy");var zt=u(function(e,t){return e<=t?kn(function(r){return e+r})(t-e+1):[e]},"range");var Un=Object.create,ye=Object.defineProperty,qn=Object.getOwnPropertyDescriptor,Ln=Object.getOwnPropertyNames,qe=Object.getOwnPropertySymbols,zn=Object.getPrototypeOf,rr=Object.prototype.hasOwnProperty,Wn=Object.prototype.propertyIsEnumerable,Le=u((e,t,r)=>t in e?ye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,"ce"),Gn=u((e,t)=>{for(var r in t||(t={}))rr.call(t,r)&&Le(e,r,t[r]);if(qe)for(var r of qe(t))Wn.call(t,r)&&Le(e,r,t[r]);return e},"he"),J=u((e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),"I"),Vn=u((e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Ln(t))!rr.call(e,i)&&i!==r&&ye(e,i,{get:()=>t[i],enumerable:!(n=qn(t,i))||n.enumerable});return e},"an"),nr=u((e,t,r)=>(r=e!=null?Un(zn(e)):{},Vn(t||!e||!e.__esModule?ye(r,"default",{value:e,enumerable:!0}):r,e)),"me"),Kn=J((e,t)=>{(function(r){"use strict";var n=2e3,i={s:1,n:0,d:1};function a(s,c){if(isNaN(s=parseInt(s,10)))throw f.InvalidParameter;return s*c}u(a,"n");function o(s,c){if(c===0)throw f.DivisionByZero;var p=Object.create(f.prototype);p.s=s<0?-1:1,s=s<0?-s:s;var d=l(s,c);return p.n=s/d,p.d=c/d,p}u(o,"i");function m(s){for(var c={},p=s,d=2,w=4;w<=p;){for(;p%d===0;)p/=d,c[d]=(c[d]||0)+1;w+=1+2*d++}return p!==s?p>1&&(c[p]=(c[p]||0)+1):c[s]=(c[s]||0)+1,c}u(m,"a");var g=u(function(s,c){var p=0,d=1,w=1,N=0,M=0,T=0,O=1,S=1,x=0,E=1,$=1,_=1,B=1e7,D;if(s!=null)if(c!==void 0){if(p=s,d=c,w=p*d,p%1!==0||d%1!==0)throw f.NonIntegerParameter}else switch(typeof s){case"object":{if("d"in s&&"n"in s)p=s.n,d=s.d,"s"in s&&(p*=s.s);else if(0 in s)p=s[0],1 in s&&(d=s[1]);else throw f.InvalidParameter;w=p*d;break}case"number":{if(s<0&&(w=s,s=-s),s%1===0)p=s;else if(s>0){for(s>=1&&(S=Math.pow(10,Math.floor(1+Math.log(s)/Math.LN10)),s/=S);E<=B&&_<=B;)if(D=(x+$)/(E+_),s===D){E+_<=B?(p=x+$,d=E+_):_>E?(p=$,d=_):(p=x,d=E);break}else s>D?(x+=$,E+=_):($+=x,_+=E),E>B?(p=$,d=_):(p=x,d=E);p*=S}else(isNaN(s)||isNaN(c))&&(d=p=NaN);break}case"string":{if(E=s.match(/\d+|./g),E===null)throw f.InvalidParameter;if(E[x]==="-"?(w=-1,x++):E[x]==="+"&&x++,E.length===x+1?M=a(E[x++],w):E[x+1]==="."||E[x]==="."?(E[x]!=="."&&(N=a(E[x++],w)),x++,(x+1===E.length||E[x+1]==="("&&E[x+3]===")"||E[x+1]==="'"&&E[x+3]==="'")&&(M=a(E[x],w),O=Math.pow(10,E[x].length),x++),(E[x]==="("&&E[x+2]===")"||E[x]==="'"&&E[x+2]==="'")&&(T=a(E[x+1],w),S=Math.pow(10,E[x+1].length)-1,x+=3)):E[x+1]==="/"||E[x+1]===":"?(M=a(E[x],w),O=a(E[x+2],1),x+=3):E[x+3]==="/"&&E[x+1]===" "&&(N=a(E[x],w),M=a(E[x+2],w),O=a(E[x+4],1),x+=5),E.length<=x){d=O*S,w=p=T+d*N+S*M;break}}default:throw f.InvalidParameter}if(d===0)throw f.DivisionByZero;i.s=w<0?-1:1,i.n=Math.abs(p),i.d=Math.abs(d)},"s");function h(s,c,p){for(var d=1;c>0;s=s*s%p,c>>=1)c&1&&(d=d*s%p);return d}u(h,"c");function y(s,c){for(;c%2===0;c/=2);for(;c%5===0;c/=5);if(c===1)return 0;for(var p=10%c,d=1;p!==1;d++)if(p=p*10%c,d>n)return 0;return d}u(y,"m");function v(s,c,p){for(var d=1,w=h(10,p,c),N=0;N<300;N++){if(d===w)return N;d=d*10%c,w=w*10%c}return 0}u(v,"h");function l(s,c){if(!s)return c;if(!c)return s;for(;;){if(s%=c,!s)return c;if(c%=s,!c)return s}}u(l,"y");function f(s,c){if(g(s,c),this instanceof f)s=l(i.d,i.n),this.s=i.s,this.n=i.n/s,this.d=i.d/s;else return o(i.s*i.n,i.d)}u(f,"p"),f.DivisionByZero=new Error("Division by Zero"),f.InvalidParameter=new Error("Invalid argument"),f.NonIntegerParameter=new Error("Parameters must be integer"),f.prototype={s:1,n:0,d:1,abs:function(){return o(this.n,this.d)},neg:function(){return o(-this.s*this.n,this.d)},add:function(s,c){return g(s,c),o(this.s*this.n*i.d+i.s*this.d*i.n,this.d*i.d)},sub:function(s,c){return g(s,c),o(this.s*this.n*i.d-i.s*this.d*i.n,this.d*i.d)},mul:function(s,c){return g(s,c),o(this.s*i.s*this.n*i.n,this.d*i.d)},div:function(s,c){return g(s,c),o(this.s*i.s*this.n*i.d,this.d*i.n)},clone:function(){return o(this.s*this.n,this.d)},mod:function(s,c){if(isNaN(this.n)||isNaN(this.d))return new f(NaN);if(s===void 0)return o(this.s*this.n%this.d,1);if(g(s,c),i.n===0&&this.d===0)throw f.DivisionByZero;return o(this.s*(i.d*this.n)%(i.n*this.d),i.d*this.d)},gcd:function(s,c){return g(s,c),o(l(i.n,this.n)*l(i.d,this.d),i.d*this.d)},lcm:function(s,c){return g(s,c),i.n===0&&this.n===0?o(0,1):o(i.n*this.n,l(i.n,this.n)*l(i.d,this.d))},ceil:function(s){return s=Math.pow(10,s||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):o(Math.ceil(s*this.s*this.n/this.d),s)},floor:function(s){return s=Math.pow(10,s||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):o(Math.floor(s*this.s*this.n/this.d),s)},round:function(s){return s=Math.pow(10,s||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):o(Math.round(s*this.s*this.n/this.d),s)},inverse:function(){return o(this.s*this.d,this.n)},pow:function(s,c){if(g(s,c),i.d===1)return i.s<0?o(Math.pow(this.s*this.d,i.n),Math.pow(this.n,i.n)):o(Math.pow(this.s*this.n,i.n),Math.pow(this.d,i.n));if(this.s<0)return null;var p=m(this.n),d=m(this.d),w=1,N=1;for(var M in p)if(M!=="1"){if(M==="0"){w=0;break}if(p[M]*=i.n,p[M]%i.d===0)p[M]/=i.d;else return null;w*=Math.pow(M,p[M])}for(var M in d)if(M!=="1"){if(d[M]*=i.n,d[M]%i.d===0)d[M]/=i.d;else return null;N*=Math.pow(M,d[M])}return i.s<0?o(N,w):o(w,N)},equals:function(s,c){return g(s,c),this.s*this.n*i.d===i.s*i.n*this.d},compare:function(s,c){g(s,c);var p=this.s*this.n*i.d-i.s*i.n*this.d;return(0<p)-(p<0)},simplify:function(s){if(isNaN(this.n)||isNaN(this.d))return this;s=s||.001;for(var c=this.abs(),p=c.toContinued(),d=1;d<p.length;d++){for(var w=o(p[d-1],1),N=d-2;N>=0;N--)w=w.inverse().add(p[N]);if(w.sub(c).abs().valueOf()<s)return w.mul(this.s)}return this},divisible:function(s,c){return g(s,c),!(!(i.n*this.d)||this.n*i.d%(i.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(s){var c,p="",d=this.n,w=this.d;return this.s<0&&(p+="-"),w===1?p+=d:(s&&(c=Math.floor(d/w))>0&&(p+=c,p+=" ",d%=w),p+=d,p+="/",p+=w),p},toLatex:function(s){var c,p="",d=this.n,w=this.d;return this.s<0&&(p+="-"),w===1?p+=d:(s&&(c=Math.floor(d/w))>0&&(p+=c,d%=w),p+="\\frac{",p+=d,p+="}{",p+=w,p+="}"),p},toContinued:function(){var s,c=this.n,p=this.d,d=[];if(isNaN(c)||isNaN(p))return d;do d.push(Math.floor(c/p)),s=c%p,c=p,p=s;while(c!==1);return d},toString:function(s){var c=this.n,p=this.d;if(isNaN(c)||isNaN(p))return"NaN";s=s||15;var d=y(c,p),w=v(c,p,d),N=this.s<0?"-":"";if(N+=c/p|0,c%=p,c*=10,c&&(N+="."),d){for(var M=w;M--;)N+=c/p|0,c%=p,c*=10;N+="(";for(var M=d;M--;)N+=c/p|0,c%=p,c*=10;N+=")"}else for(var M=s;c&&M--;)N+=c/p|0,c%=p,c*=10;return N}},typeof define=="function"&&define.amd?define([],function(){return f}):typeof e=="object"?(Object.defineProperty(f,"__esModule",{value:!0}),f.default=f,f.Fraction=f,t.exports=f):r.Fraction=f})(e)}),Jn=J((e,t)=>{"use strict";var r=u((a=0)=>o=>`\x1B[${38+a};5;${o}m`,"ve"),n=u((a=0)=>(o,m,g)=>`\x1B[${38+a};2;${o};${m};${g}m`,"xe");function i(){let a=new Map,o={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};o.color.gray=o.color.blackBright,o.bgColor.bgGray=o.bgColor.bgBlackBright,o.color.grey=o.color.blackBright,o.bgColor.bgGrey=o.bgColor.bgBlackBright;for(let[m,g]of Object.entries(o)){for(let[h,y]of Object.entries(g))o[h]={open:`\x1B[${y[0]}m`,close:`\x1B[${y[1]}m`},g[h]=o[h],a.set(y[0],y[1]);Object.defineProperty(o,m,{value:g,enumerable:!1})}return Object.defineProperty(o,"codes",{value:a,enumerable:!1}),o.color.close="\x1B[39m",o.bgColor.close="\x1B[49m",o.color.ansi256=r(),o.color.ansi16m=n(),o.bgColor.ansi256=r(10),o.bgColor.ansi16m=n(10),Object.defineProperties(o,{rgbToAnsi256:{value:(m,g,h)=>m===g&&g===h?m<8?16:m>248?231:Math.round((m-8)/247*24)+232:16+36*Math.round(m/255*5)+6*Math.round(g/255*5)+Math.round(h/255*5),enumerable:!1},hexToRgb:{value:m=>{let g=new RegExp("(?<colorString>[a-f\\d]{6}|[a-f\\d]{3})","i").exec(m.toString(16));if(!g)return[0,0,0];let{colorString:h}=g.groups;h.length===3&&(h=h.split("").map(v=>v+v).join(""));let y=Number.parseInt(h,16);return[y>>16&255,y>>8&255,y&255]},enumerable:!1},hexToAnsi256:{value:m=>o.rgbToAnsi256(...o.hexToRgb(m)),enumerable:!1}}),o}u(i,"cn"),Object.defineProperty(t,"exports",{enumerable:!0,get:i})}),Vt=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.printIteratorEntries=r,e.printIteratorValues=n,e.printListItems=i,e.printObjectProperties=a;var t=u((o,m)=>{let g=Object.keys(o),h=m!==null?g.sort(m):g;return Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(o).forEach(y=>{Object.getOwnPropertyDescriptor(o,y).enumerable&&h.push(y)}),h},"fn");function r(o,m,g,h,y,v,l=": "){let f="",s=0,c=o.next();if(!c.done){f+=m.spacingOuter;let p=g+m.indent;for(;!c.done;){if(f+=p,s++===m.maxWidth){f+="\u2026";break}let d=v(c.value[0],m,p,h,y),w=v(c.value[1],m,p,h,y);f+=d+l+w,c=o.next(),c.done?m.min||(f+=","):f+=`,${m.spacingInner}`}f+=m.spacingOuter+g}return f}u(r,"hn");function n(o,m,g,h,y,v){let l="",f=0,s=o.next();if(!s.done){l+=m.spacingOuter;let c=g+m.indent;for(;!s.done;){if(l+=c,f++===m.maxWidth){l+="\u2026";break}l+=v(s.value,m,c,h,y),s=o.next(),s.done?m.min||(l+=","):l+=`,${m.spacingInner}`}l+=m.spacingOuter+g}return l}u(n,"mn");function i(o,m,g,h,y,v){let l="";if(o.length){l+=m.spacingOuter;let f=g+m.indent;for(let s=0;s<o.length;s++){if(l+=f,s===m.maxWidth){l+="\u2026";break}s in o&&(l+=v(o[s],m,f,h,y)),s<o.length-1?l+=`,${m.spacingInner}`:m.min||(l+=",")}l+=m.spacingOuter+g}return l}u(i,"pn");function a(o,m,g,h,y,v){let l="",f=t(o,m.compareKeys);if(f.length){l+=m.spacingOuter;let s=g+m.indent;for(let c=0;c<f.length;c++){let p=f[c],d=v(p,m,s,h,y),w=v(o[p],m,s,h,y);l+=`${s+d}: ${w}`,c<f.length-1?l+=`,${m.spacingInner}`:m.min||(l+=",")}l+=m.spacingOuter+g}return l}u(a,"bn")}),Zn=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.test=e.serialize=e.default=void 0;var t=Vt(),r=globalThis["jest-symbol-do-not-touch"]||globalThis.Symbol,n=typeof r=="function"&&r.for?r.for("jest.asymmetricMatcher"):1267621,i=" ",a=u((h,y,v,l,f,s)=>{let c=h.toString();if(c==="ArrayContaining"||c==="ArrayNotContaining")return++l>y.maxDepth?`[${c}]`:`${c+i}[${(0,t.printListItems)(h.sample,y,v,l,f,s)}]`;if(c==="ObjectContaining"||c==="ObjectNotContaining")return++l>y.maxDepth?`[${c}]`:`${c+i}{${(0,t.printObjectProperties)(h.sample,y,v,l,f,s)}}`;if(c==="StringMatching"||c==="StringNotMatching"||c==="StringContaining"||c==="StringNotContaining")return c+i+s(h.sample,y,v,l,f);if(typeof h.toAsymmetricMatcher!="function")throw new Error(`Asymmetric matcher ${h.constructor.name} does not implement toAsymmetricMatcher()`);return h.toAsymmetricMatcher()},"_e");e.serialize=a;var o=u(h=>h&&h.$$typeof===n,"Oe");e.test=o;var m={serialize:a,test:o},g=m;e.default=g}),Qn=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.test=e.serialize=e.default=void 0;var t=Vt(),r=" ",n=["DOMStringMap","NamedNodeMap"],i=/^(HTML\w*Collection|NodeList)$/,a=u(v=>n.indexOf(v)!==-1||i.test(v),"xn"),o=u(v=>v&&v.constructor&&!!v.constructor.name&&a(v.constructor.name),"Ce");e.test=o;var m=u(v=>v.constructor.name==="NamedNodeMap","Sn"),g=u((v,l,f,s,c,p)=>{let d=v.constructor.name;return++s>l.maxDepth?`[${d}]`:(l.min?"":d+r)+(n.indexOf(d)!==-1?`{${(0,t.printObjectProperties)(m(v)?Array.from(v).reduce((w,N)=>(w[N.name]=N.value,w),{}):Gn({},v),l,f,s,c,p)}}`:`[${(0,t.printListItems)(Array.from(v),l,f,s,c,p)}]`)},"$e");e.serialize=g;var h={serialize:g,test:o},y=h;e.default=y}),Hn=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r){return r.replace(/</g,"&lt;").replace(/>/g,"&gt;")}u(t,"_n")}),we=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.printText=e.printProps=e.printElementAsLeaf=e.printElement=e.printComment=e.printChildren=void 0;var t=r(Hn());function r(h){return h&&h.__esModule?h:{default:h}}u(r,"On");var n=u((h,y,v,l,f,s,c)=>{let p=l+v.indent,d=v.colors;return h.map(w=>{let N=y[w],M=c(N,v,p,f,s);return typeof N!="string"&&(M.indexOf(`
`)!==-1&&(M=v.spacingOuter+p+M+v.spacingOuter+l),M=`{${M}}`),`${v.spacingInner+l+d.prop.open+w+d.prop.close}=${d.value.open}${M}${d.value.close}`}).join("")},"Tn");e.printProps=n;var i=u((h,y,v,l,f,s)=>h.map(c=>y.spacingOuter+v+(typeof c=="string"?a(c,y):s(c,y,v,l,f))).join(""),"An");e.printChildren=i;var a=u((h,y)=>{let v=y.colors.content;return v.open+(0,t.default)(h)+v.close},"Re");e.printText=a;var o=u((h,y)=>{let v=y.colors.comment;return`${v.open}<!--${(0,t.default)(h)}-->${v.close}`},"Nn");e.printComment=o;var m=u((h,y,v,l,f)=>{let s=l.colors.tag;return`${s.open}<${h}${y&&s.close+y+l.spacingOuter+f+s.open}${v?`>${s.close}${v}${l.spacingOuter}${f}${s.open}</${h}`:`${y&&!l.min?"":" "}/`}>${s.close}`},"Cn");e.printElement=m;var g=u((h,y)=>{let v=y.colors.tag;return`${v.open}<${h}${v.close} \u2026${v.open} />${v.close}`},"$n");e.printElementAsLeaf=g}),Xn=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.test=e.serialize=e.default=void 0;var t=we(),r=1,n=3,i=8,a=11,o=/^((HTML|SVG)\w*)?Element$/,m=u(p=>{try{return typeof p.hasAttribute=="function"&&p.hasAttribute("is")}catch{return!1}},"Dn"),g=u(p=>{let d=p.constructor.name,{nodeType:w,tagName:N}=p,M=typeof N=="string"&&N.includes("-")||m(p);return w===r&&(o.test(d)||M)||w===n&&d==="Text"||w===i&&d==="Comment"||w===a&&d==="DocumentFragment"},"Rn"),h=u(p=>{var d;return((d=p?.constructor)==null?void 0:d.name)&&g(p)},"ze");e.test=h;function y(p){return p.nodeType===n}u(y,"Pn");function v(p){return p.nodeType===i}u(v,"Bn");function l(p){return p.nodeType===a}u(l,"qt");var f=u((p,d,w,N,M,T)=>{if(y(p))return(0,t.printText)(p.data,d);if(v(p))return(0,t.printComment)(p.data,d);let O=l(p)?"DocumentFragment":p.tagName.toLowerCase();return++N>d.maxDepth?(0,t.printElementAsLeaf)(O,d):(0,t.printElement)(O,(0,t.printProps)(l(p)?[]:Array.from(p.attributes).map(S=>S.name).sort(),l(p)?{}:Array.from(p.attributes).reduce((S,x)=>(S[x.name]=x.value,S),{}),d,w+d.indent,N,M,T),(0,t.printChildren)(Array.prototype.slice.call(p.childNodes||p.children),d,w+d.indent,N,M,T),d,w)},"Ue");e.serialize=f;var s={serialize:f,test:h},c=s;e.default=c}),Yn=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.test=e.serialize=e.default=void 0;var t=Vt(),r="@@__IMMUTABLE_ITERABLE__@@",n="@@__IMMUTABLE_LIST__@@",i="@@__IMMUTABLE_KEYED__@@",a="@@__IMMUTABLE_MAP__@@",o="@@__IMMUTABLE_ORDERED__@@",m="@@__IMMUTABLE_RECORD__@@",g="@@__IMMUTABLE_SEQ__@@",h="@@__IMMUTABLE_SET__@@",y="@@__IMMUTABLE_STACK__@@",v=u(x=>`Immutable.${x}`,"st"),l=u(x=>`[${x}]`,"wt"),f=" ",s="\u2026",c=u((x,E,$,_,B,D,q)=>++_>E.maxDepth?l(v(q)):`${v(q)+f}{${(0,t.printIteratorEntries)(x.entries(),E,$,_,B,D)}}`,"Qn");function p(x){let E=0;return{next(){if(E<x._keys.length){let $=x._keys[E++];return{done:!1,value:[$,x.get($)]}}return{done:!0,value:void 0}}}}u(p,"Kn");var d=u((x,E,$,_,B,D)=>{let q=v(x._name||"Record");return++_>E.maxDepth?l(q):`${q+f}{${(0,t.printIteratorEntries)(p(x),E,$,_,B,D)}}`},"Xn"),w=u((x,E,$,_,B,D)=>{let q=v("Seq");return++_>E.maxDepth?l(q):x[i]?`${q+f}{${x._iter||x._object?(0,t.printIteratorEntries)(x.entries(),E,$,_,B,D):s}}`:`${q+f}[${x._iter||x._array||x._collection||x._iterable?(0,t.printIteratorValues)(x.values(),E,$,_,B,D):s}]`},"Hn"),N=u((x,E,$,_,B,D,q)=>++_>E.maxDepth?l(v(q)):`${v(q)+f}[${(0,t.printIteratorValues)(x.values(),E,$,_,B,D)}]`,"Lt"),M=u((x,E,$,_,B,D)=>x[a]?c(x,E,$,_,B,D,x[o]?"OrderedMap":"Map"):x[n]?N(x,E,$,_,B,D,"List"):x[h]?N(x,E,$,_,B,D,x[o]?"OrderedSet":"Set"):x[y]?N(x,E,$,_,B,D,"Stack"):x[g]?w(x,E,$,_,B,D):d(x,E,$,_,B,D),"Ge");e.serialize=M;var T=u(x=>x&&(x[r]===!0||x[m]===!0),"Ve");e.test=T;var O={serialize:M,test:T},S=O;e.default=S}),ti=J(e=>{"use strict";var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),m=Symbol.for("react.context"),g=Symbol.for("react.server_context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),l=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),s=Symbol.for("react.offscreen"),c;c=Symbol.for("react.module.reference");function p(d){if(typeof d=="object"&&d!==null){var w=d.$$typeof;switch(w){case t:switch(d=d.type,d){case n:case a:case i:case y:case v:return d;default:switch(d=d&&d.$$typeof,d){case g:case m:case h:case f:case l:case o:return d;default:return w}}case r:return w}}}u(p,"D"),e.ContextConsumer=m,e.ContextProvider=o,e.Element=t,e.ForwardRef=h,e.Fragment=n,e.Lazy=f,e.Memo=l,e.Portal=r,e.Profiler=a,e.StrictMode=i,e.Suspense=y,e.SuspenseList=v,e.isAsyncMode=function(){return!1},e.isConcurrentMode=function(){return!1},e.isContextConsumer=function(d){return p(d)===m},e.isContextProvider=function(d){return p(d)===o},e.isElement=function(d){return typeof d=="object"&&d!==null&&d.$$typeof===t},e.isForwardRef=function(d){return p(d)===h},e.isFragment=function(d){return p(d)===n},e.isLazy=function(d){return p(d)===f},e.isMemo=function(d){return p(d)===l},e.isPortal=function(d){return p(d)===r},e.isProfiler=function(d){return p(d)===a},e.isStrictMode=function(d){return p(d)===i},e.isSuspense=function(d){return p(d)===y},e.isSuspenseList=function(d){return p(d)===v},e.isValidElementType=function(d){return typeof d=="string"||typeof d=="function"||d===n||d===a||d===i||d===y||d===v||d===s||typeof d=="object"&&d!==null&&(d.$$typeof===f||d.$$typeof===l||d.$$typeof===o||d.$$typeof===m||d.$$typeof===h||d.$$typeof===c||d.getModuleId!==void 0)},e.typeOf=p}),ei=J((e,t)=>{"use strict";t.exports=ti()}),ri=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.test=e.serialize=e.default=void 0;var t=i(ei()),r=we();function n(l){if(typeof WeakMap!="function")return null;var f=new WeakMap,s=new WeakMap;return(n=u(function(c){return c?s:f},"Ye"))(l)}u(n,"Ye");function i(l,f){if(!f&&l&&l.__esModule)return l;if(l===null||typeof l!="object"&&typeof l!="function")return{default:l};var s=n(f);if(s&&s.has(l))return s.get(l);var c={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in l)if(d!=="default"&&Object.prototype.hasOwnProperty.call(l,d)){var w=p?Object.getOwnPropertyDescriptor(l,d):null;w&&(w.get||w.set)?Object.defineProperty(c,d,w):c[d]=l[d]}return c.default=l,s&&s.set(l,c),c}u(i,"ri");var a=u((l,f=[])=>(Array.isArray(l)?l.forEach(s=>{a(s,f)}):l!=null&&l!==!1&&f.push(l),f),"Je"),o=u(l=>{let f=l.type;if(typeof f=="string")return f;if(typeof f=="function")return f.displayName||f.name||"Unknown";if(t.isFragment(l))return"React.Fragment";if(t.isSuspense(l))return"React.Suspense";if(typeof f=="object"&&f!==null){if(t.isContextProvider(l))return"Context.Provider";if(t.isContextConsumer(l))return"Context.Consumer";if(t.isForwardRef(l)){if(f.displayName)return f.displayName;let s=f.render.displayName||f.render.name||"";return s!==""?`ForwardRef(${s})`:"ForwardRef"}if(t.isMemo(l)){let s=f.displayName||f.type.displayName||f.type.name||"";return s!==""?`Memo(${s})`:"Memo"}}return"UNDEFINED"},"He"),m=u(l=>{let{props:f}=l;return Object.keys(f).filter(s=>s!=="children"&&f[s]!==void 0).sort()},"ni"),g=u((l,f,s,c,p,d)=>++c>f.maxDepth?(0,r.printElementAsLeaf)(o(l),f):(0,r.printElement)(o(l),(0,r.printProps)(m(l),l.props,f,s+f.indent,c,p,d),(0,r.printChildren)(a(l.props.children),f,s+f.indent,c,p,d),f,s),"tr");e.serialize=g;var h=u(l=>l!=null&&t.isElement(l),"er");e.test=h;var y={serialize:g,test:h},v=y;e.default=v}),ni=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.test=e.serialize=e.default=void 0;var t=we(),r=globalThis["jest-symbol-do-not-touch"]||globalThis.Symbol,n=typeof r=="function"&&r.for?r.for("react.test.json"):245830487,i=u(h=>{let{props:y}=h;return y?Object.keys(y).filter(v=>y[v]!==void 0).sort():[]},"oi"),a=u((h,y,v,l,f,s)=>++l>y.maxDepth?(0,t.printElementAsLeaf)(h.type,y):(0,t.printElement)(h.type,h.props?(0,t.printProps)(i(h),h.props,y,v+y.indent,l,f,s):"",h.children?(0,t.printChildren)(h.children,y,v+y.indent,l,f,s):"",y,v),"nr");e.serialize=a;var o=u(h=>h&&h.$$typeof===n,"ir");e.test=o;var m={serialize:a,test:o},g=m;e.default=g}),ii=J(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.DEFAULT_OPTIONS=void 0,e.format=ke,e.plugins=void 0;var t=h(Jn()),r=Vt(),n=h(Zn()),i=h(Qn()),a=h(Xn()),o=h(Yn()),m=h(ri()),g=h(ni());function h(b){return b&&b.__esModule?b:{default:b}}u(h,"tt");var y=Object.prototype.toString,v=Date.prototype.toISOString,l=Error.prototype.toString,f=RegExp.prototype.toString,s=u(b=>typeof b.constructor=="function"&&b.constructor.name||"Object","Zt"),c=u(b=>typeof window<"u"&&b===window,"wi"),p=/^Symbol\((.*)\)(.*)$/,d=/\n/gi,w=class extends Error{static{u(this,"It")}constructor(b,A){super(b),this.stack=A,this.name=this.constructor.name}};function N(b){return b==="[object Array]"||b==="[object ArrayBuffer]"||b==="[object DataView]"||b==="[object Float32Array]"||b==="[object Float64Array]"||b==="[object Int8Array]"||b==="[object Int16Array]"||b==="[object Int32Array]"||b==="[object Uint8Array]"||b==="[object Uint8ClampedArray]"||b==="[object Uint16Array]"||b==="[object Uint32Array]"}u(N,"Si");function M(b){return Object.is(b,-0)?"-0":String(b)}u(M,"Ei");function T(b){return`${b}n`}u(T,"Mi");function O(b,A){return A?`[Function ${b.name||"anonymous"}]`:"[Function]"}u(O,"or");function S(b){return String(b).replace(p,"Symbol($1)")}u(S,"ur");function x(b){return`[${l.call(b)}]`}u(x,"lr");function E(b,A,I,C){if(b===!0||b===!1)return`${b}`;if(b===void 0)return"undefined";if(b===null)return"null";let P=typeof b;if(P==="number")return M(b);if(P==="bigint")return T(b);if(P==="string")return C?`"${b.replace(/"|\\/g,"\\$&")}"`:`"${b}"`;if(P==="function")return O(b,A);if(P==="symbol")return S(b);let L=y.call(b);return L==="[object WeakMap]"?"WeakMap {}":L==="[object WeakSet]"?"WeakSet {}":L==="[object Function]"||L==="[object GeneratorFunction]"?O(b,A):L==="[object Symbol]"?S(b):L==="[object Date]"?isNaN(+b)?"Date { NaN }":v.call(b):L==="[object Error]"?x(b):L==="[object RegExp]"?I?f.call(b).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&"):f.call(b):b instanceof Error?x(b):null}u(E,"hr");function $(b,A,I,C,P,L){if(P.indexOf(b)!==-1)return"[Circular]";P=P.slice(),P.push(b);let z=++C>A.maxDepth,V=A.min;if(A.callToJSON&&!z&&b.toJSON&&typeof b.toJSON=="function"&&!L)return q(b.toJSON(),A,I,C,P,!0);let bt=y.call(b);return bt==="[object Arguments]"?z?"[Arguments]":`${V?"":"Arguments "}[${(0,r.printListItems)(b,A,I,C,P,q)}]`:N(bt)?z?`[${b.constructor.name}]`:`${V||!A.printBasicPrototype&&b.constructor.name==="Array"?"":`${b.constructor.name} `}[${(0,r.printListItems)(b,A,I,C,P,q)}]`:bt==="[object Map]"?z?"[Map]":`Map {${(0,r.printIteratorEntries)(b.entries(),A,I,C,P,q," => ")}}`:bt==="[object Set]"?z?"[Set]":`Set {${(0,r.printIteratorValues)(b.values(),A,I,C,P,q)}}`:z||c(b)?`[${s(b)}]`:`${V||!A.printBasicPrototype&&s(b)==="Object"?"":`${s(b)} `}{${(0,r.printObjectProperties)(b,A,I,C,P,q)}}`}u($,"mr");function _(b){return b.serialize!=null}u(_,"_i");function B(b,A,I,C,P,L){let z;try{z=_(b)?b.serialize(A,I,C,P,L,q):b.print(A,V=>q(V,I,C,P,L),V=>{let bt=C+I.indent;return bt+V.replace(d,`
${bt}`)},{edgeSpacing:I.spacingOuter,min:I.min,spacing:I.spacingInner},I.colors)}catch(V){throw new w(V.message,V.stack)}if(typeof z!="string")throw new Error(`pretty-format: Plugin must return type "string" but instead returned "${typeof z}".`);return z}u(B,"pr");function D(b,A){for(let I=0;I<b.length;I++)try{if(b[I].test(A))return b[I]}catch(C){throw new w(C.message,C.stack)}return null}u(D,"br");function q(b,A,I,C,P,L){let z=D(A.plugins,b);if(z!==null)return B(z,b,A,I,C,P);let V=E(b,A.printFunctionName,A.escapeRegex,A.escapeString);return V!==null?V:$(b,A,I,C,P,L)}u(q,"Q");var fe={comment:"gray",content:"reset",prop:"yellow",tag:"cyan",value:"green"},je=Object.keys(fe),An=u(b=>b,"Oi"),Q=An({callToJSON:!0,compareKeys:void 0,escapeRegex:!1,escapeString:!0,highlight:!1,indent:2,maxDepth:1/0,maxWidth:1/0,min:!1,plugins:[],printBasicPrototype:!0,printFunctionName:!0,theme:fe});e.DEFAULT_OPTIONS=Q;function Nn(b){if(Object.keys(b).forEach(A=>{if(!Object.prototype.hasOwnProperty.call(Q,A))throw new Error(`pretty-format: Unknown option "${A}".`)}),b.min&&b.indent!==void 0&&b.indent!==0)throw new Error('pretty-format: Options "min" and "indent" cannot be used together.');if(b.theme!==void 0){if(b.theme===null)throw new Error('pretty-format: Option "theme" must not be null.');if(typeof b.theme!="object")throw new Error(`pretty-format: Option "theme" must be of type "object" but instead received "${typeof b.theme}".`)}}u(Nn,"Ti");var _n=u(b=>je.reduce((A,I)=>{let C=b.theme&&b.theme[I]!==void 0?b.theme[I]:fe[I],P=C&&t.default[C];if(P&&typeof P.close=="string"&&typeof P.open=="string")A[I]=P;else throw new Error(`pretty-format: Option "theme" has a key "${I}" whose value "${C}" is undefined in ansi-styles.`);return A},Object.create(null)),"Ai"),$n=u(()=>je.reduce((b,A)=>(b[A]={close:"",open:""},b),Object.create(null)),"Ni"),Be=u(b=>{var A;return(A=b?.printFunctionName)!=null?A:Q.printFunctionName},"gr"),De=u(b=>{var A;return(A=b?.escapeRegex)!=null?A:Q.escapeRegex},"yr"),Re=u(b=>{var A;return(A=b?.escapeString)!=null?A:Q.escapeString},"wr"),Fe=u(b=>{var A,I,C,P,L,z,V;return{callToJSON:(A=b?.callToJSON)!=null?A:Q.callToJSON,colors:b!=null&&b.highlight?_n(b):$n(),compareKeys:typeof b?.compareKeys=="function"||b?.compareKeys===null?b.compareKeys:Q.compareKeys,escapeRegex:De(b),escapeString:Re(b),indent:b!=null&&b.min?"":In((I=b?.indent)!=null?I:Q.indent),maxDepth:(C=b?.maxDepth)!=null?C:Q.maxDepth,maxWidth:(P=b?.maxWidth)!=null?P:Q.maxWidth,min:(L=b?.min)!=null?L:Q.min,plugins:(z=b?.plugins)!=null?z:Q.plugins,printBasicPrototype:(V=b?.printBasicPrototype)!=null?V:!0,printFunctionName:Be(b),spacingInner:b!=null&&b.min?" ":`
`,spacingOuter:b!=null&&b.min?"":`
`}},"cr");function In(b){return new Array(b+1).join(" ")}u(In,"Ci");function ke(b,A){if(A&&(Nn(A),A.plugins)){let C=D(A.plugins,b);if(C!==null)return B(C,b,Fe(A),"",0,[])}let I=E(b,Be(A),De(A),Re(A));return I!==null?I:$(b,Fe(A),"",0,[])}u(ke,"vr");var Tn={AsymmetricMatcher:n.default,DOMCollection:i.default,DOMElement:a.default,Immutable:o.default,ReactElement:m.default,ReactTestComponent:g.default};e.plugins=Tn;var Pn=ke;e.default=Pn}),ai=nr(Kn());function pe(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return u(i,"i"),new(r||(r=Promise))(function(a,o){function m(y){try{h(n.next(y))}catch(v){o(v)}}u(m,"c");function g(y){try{h(n.throw(y))}catch(v){o(v)}}u(g,"m");function h(y){y.done?a(y.value):i(y.value).then(m,g)}u(h,"h"),h((n=n.apply(e,t||[])).next())})}u(pe,"Ft");function de(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function m(h){return function(y){return g([h,y])}}function g(h){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){r.label=h[1];break}if(h[0]===6&&r.label<a[1]){r.label=a[1],a=h;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(h);break}a[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(y){h=[6,y],i=0}finally{n=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}u(de,"zt");function Wt(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(m){o={error:m}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}u(Wt,"dt");function wt(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}u(wt,"Y");var oi={withStackTrace:!1},ir=u(function(e,t,r){r===void 0&&(r=oi);var n=t.isOk()?{type:"Ok",value:t.value}:{type:"Err",value:t.error},i=r.withStackTrace?new Error().stack:void 0;return{data:n,message:e,stack:i}},"ge"),_t=function(){function e(t){this._promise=t}return u(e,"r"),e.fromSafePromise=function(t){var r=t.then(function(n){return new vt(n)});return new e(r)},e.fromPromise=function(t,r){var n=t.then(function(i){return new vt(i)}).catch(function(i){return new yt(r(i))});return new e(n)},e.combine=function(t){return ui(t)},e.combineWithAllErrors=function(t){return li(t)},e.prototype.map=function(t){var r=this;return new e(this._promise.then(function(n){return pe(r,void 0,void 0,function(){var i;return de(this,function(a){switch(a.label){case 0:return n.isErr()?[2,new yt(n.error)]:(i=vt.bind,[4,t(n.value)]);case 1:return[2,new(i.apply(vt,[void 0,a.sent()]))]}})})}))},e.prototype.mapErr=function(t){var r=this;return new e(this._promise.then(function(n){return pe(r,void 0,void 0,function(){var i;return de(this,function(a){switch(a.label){case 0:return n.isOk()?[2,new vt(n.value)]:(i=yt.bind,[4,t(n.error)]);case 1:return[2,new(i.apply(yt,[void 0,a.sent()]))]}})})}))},e.prototype.andThen=function(t){return new e(this._promise.then(function(r){if(r.isErr())return new yt(r.error);var n=t(r.value);return n instanceof e?n._promise:n}))},e.prototype.orElse=function(t){var r=this;return new e(this._promise.then(function(n){return pe(r,void 0,void 0,function(){return de(this,function(i){return n.isErr()?[2,t(n.error)]:[2,new vt(n.value)]})})}))},e.prototype.match=function(t,r){return this._promise.then(function(n){return n.match(t,r)})},e.prototype.unwrapOr=function(t){return this._promise.then(function(r){return r.unwrapOr(t)})},e.prototype.then=function(t,r){return this._promise.then(t,r)},e}(),ze=u(function(e){return new _t(Promise.resolve(new yt(e)))},"de"),wo=_t.fromPromise,xo=_t.fromSafePromise,si=u(function(e){return function(t){return wt(wt([],Wt(t),!1),[e],!1)}},"on"),ar=u(function(e){return e.reduce(function(t,r){return t.isOk()?r.isErr()?F(r.error):t.map(si(r.value)):t},G([]))},"ye"),ui=u(function(e){return _t.fromSafePromise(Promise.all(e)).andThen(ar)},"un"),or=u(function(e){return e.reduce(function(t,r){return r.isErr()?t.isErr()?F(wt(wt([],Wt(t.error),!1),[r.error],!1)):F([r.error]):t.isErr()?t:G(wt(wt([],Wt(t.value),!1),[r.value],!1))},G([]))},"we"),li=u(function(e){return _t.fromSafePromise(Promise.all(e)).andThen(or)},"ln"),Gt;(function(e){function t(i,a){return function(){for(var o=[],m=0;m<arguments.length;m++)o[m]=arguments[m];try{var g=i.apply(void 0,wt([],Wt(o),!1));return G(g)}catch(h){return F(a?a(h):h)}}}u(t,"t"),e.fromThrowable=t;function r(i){return ar(i)}u(r,"e"),e.combine=r;function n(i){return or(i)}u(n,"n"),e.combineWithAllErrors=n})(Gt||(Gt={}));var G=u(function(e){return new vt(e)},"O"),F=u(function(e){return new yt(e)},"E"),vt=function(){function e(t){this.value=t}return u(e,"r"),e.prototype.isOk=function(){return!0},e.prototype.isErr=function(){return!this.isOk()},e.prototype.map=function(t){return G(t(this.value))},e.prototype.mapErr=function(t){return G(this.value)},e.prototype.andThen=function(t){return t(this.value)},e.prototype.orElse=function(t){return G(this.value)},e.prototype.asyncAndThen=function(t){return t(this.value)},e.prototype.asyncMap=function(t){return _t.fromSafePromise(t(this.value))},e.prototype.unwrapOr=function(t){return this.value},e.prototype.match=function(t,r){return t(this.value)},e.prototype._unsafeUnwrap=function(t){return this.value},e.prototype._unsafeUnwrapErr=function(t){throw ir("Called `_unsafeUnwrapErr` on an Ok",this,t)},e}(),yt=function(){function e(t){this.error=t}return u(e,"r"),e.prototype.isOk=function(){return!1},e.prototype.isErr=function(){return!this.isOk()},e.prototype.map=function(t){return F(this.error)},e.prototype.mapErr=function(t){return F(t(this.error))},e.prototype.andThen=function(t){return F(this.error)},e.prototype.orElse=function(t){return t(this.error)},e.prototype.asyncAndThen=function(t){return ze(this.error)},e.prototype.asyncMap=function(t){return ze(this.error)},e.prototype.unwrapOr=function(t){return t},e.prototype.match=function(t,r){return r(this.error)},e.prototype._unsafeUnwrap=function(t){throw ir("Called `_unsafeUnwrap` on an Err",this,t)},e.prototype._unsafeUnwrapErr=function(t){return this.error},e}(),Eo=Gt.fromThrowable,ci=nr(ii());function Kt(e){let t=fi(e);return new ai.default(t).valueOf()*Math.PI}u(Kt,"pt");function fi(e){return e.replace(/(\d+)π/g,"$1").replace(/π/g,"1")}u(fi,"ki");var sr=[{character:"\xBD",ref:"\xBD",expanded:"1/2",value:.5},{character:"\xBC",ref:"\xBC",expanded:"1/4",value:.25},{character:"\xBE",ref:"\xBE",expanded:"3/4",value:.75},{character:"\u2153",ref:"\u2153",expanded:"1/3",value:.3333333333333333},{character:"\u2154",ref:"\u2154",expanded:"2/3",value:.6666666666666666},{character:"\u2155",ref:"\u2155",expanded:"1/5",value:.2},{character:"\u2156",ref:"\u2156",expanded:"2/5",value:.4},{character:"\u2157",ref:"\u2157",expanded:"3/5",value:.6},{character:"\u2158",ref:"\u2158",expanded:"4/5",value:.8},{character:"\u2159",ref:"\u2159",expanded:"1/6",value:.16666666666666666},{character:"\u215A",ref:"\u215A",expanded:"5/6",value:.8333333333333334},{character:"\u2150",ref:"\u2150",expanded:"1/7",value:.14285714285714285},{character:"\u215B",ref:"\u215B",expanded:"1/8",value:.125},{character:"\u215C",ref:"\u215C",expanded:"3/8",value:.375},{character:"\u215D",ref:"\u215D",expanded:"5/8",value:.625},{character:"\u215E",ref:"\u215E",expanded:"7/8",value:.875},{character:"\u2151",ref:"\u2151",expanded:"1/9",value:.1111111111111111},{character:"\u2152",ref:"\u2152",expanded:"1/10",value:.1}],et=class rt{static{u(this,"U")}static parseFloat(t){if(t.length===0)throw new Error(`Not a number: '${t}'`);if(t[0]==="-")return-rt.parseFloat(t.substr(1));if(t[0]==="\u221A")return Math.sqrt(rt.parseFloat(t.substr(1)));let r=rt.matchUnicodeFraction(i=>i.character===t);if(r!==void 0)return r.value;let n=parseFloat(t);if(isNaN(n))throw new Error(`Not a number: '${t}'`);return n}static simplifyByRounding(t,r){if(t<0)return-rt.simplifyByRounding(-t,r);let n=t%1;if(n<=r||1-n<=r)return Math.round(t);let i=rt.matchUnicodeFraction(o=>Math.abs(o.value-t)<=r);if(i!==void 0)return i.value;let a=rt.matchUnicodeFraction(o=>Math.abs(Math.sqrt(o.value)-t)<=r);return a!==void 0?Math.sqrt(a.value):t}static matchUnicodeFraction(t){for(let r of sr)if(t(r))return r}constructor(t,r,n,i){this.allowAbbreviation=t,this.maxAbbreviationError=r,this.fixedDigits=n,this.itemSeparator=i}formatFloat(t){return this.allowAbbreviation?this.abbreviateFloat(t,this.maxAbbreviationError,this.fixedDigits):this.fixedDigits!==void 0?t.toFixed(this.fixedDigits):String(t)}abbreviateFloat(t,r=0,n=void 0){if(Math.abs(t)<r)return"0";if(t<0)return`-${this.abbreviateFloat(-t,r,n)}`;let i=rt.matchUnicodeFraction(o=>Math.abs(o.value-t)<=r);if(i!==void 0)return i.character;let a=rt.matchUnicodeFraction(o=>Math.abs(Math.sqrt(o.value)-t)<=r);return a!==void 0?`\u221A${a.character}`:t%1!==0&&n!==void 0?t.toFixed(n):t.toString()}};et.CONSISTENT=new et(!1,0,2,", "),et.EXACT=new et(!0,0,void 0,", "),et.MINIFIED=new et(!0,0,void 0,","),et.SIMPLIFIED=new et(!0,5e-4,3,", ");var hi=et,We=class be{static{u(this,"Xt")}static matchUnicodeFraction(t){for(let r of sr)if(t(r))return r}constructor(t,r,n,i=", "){this.allowAbbreviation=t,this.maxAbbreviationError=r,this.fixedDigits=n,this.itemSeparator=i}format(t){return this.allowAbbreviation?this.abbreviateNumber(t,this.maxAbbreviationError,this.fixedDigits):this.fixedDigits!==void 0?t.toFixed(this.fixedDigits):String(t)}abbreviateNumber(t,r=0,n=void 0){if(Math.abs(t)<r)return"0";if(t<0)return`-${this.abbreviateNumber(-t,r,n)}`;let i=be.matchUnicodeFraction(o=>Math.abs(o.value-t)<=r);if(i!==void 0)return i.character;let a=be.matchUnicodeFraction(o=>Math.abs(Math.sqrt(o.value)-t)<=r);return a!==void 0?`\u221A${a.character}`:t%1!==0&&n!==void 0?t.toFixed(n):t.toString()}},jt={allowAbbreviation:!0,maxAbbreviationError:0,fixedDigits:void 0},gt=class R{static{u(this,"_")}constructor(t,r){this.isEqualTo=this.eq.bind(this),this.isApproximatelyEqualTo=this.nearlyEq.bind(this),this.conj=this.conjugate.bind(this),this.plus=this.add.bind(this),this.subtract=this.sub.bind(this),this.minus=this.sub.bind(this),this.multiply=this.mult.bind(this),this.times=this.mult.bind(this),this.dividedBy=this.div.bind(this),this.magnitude=this.abs.bind(this),this.norm2=this.abs2.bind(this),this.angle=this.arg.bind(this),this.phase=this.arg.bind(this),this.real=t,this.imag=r,this.isApproximatelyEqualTo=this.nearlyEq,this.isEqualTo=this.eq,this.conj=this.conjugate,this.plus=this.add,this.subtract=this.sub,this.minus=this.sub,this.multiply=this.mult,this.times=this.mult,this.dividedBy=this.div,this.magnitude=this.abs,this.norm2=this.abs2,this.angle=this.arg,this.phase=this.arg}static from(t){return typeof t=="number"?new R(t,0):t}static real(t){return typeof t=="number"?t:t.real}static imag(t){return typeof t=="number"?0:t.imag}static polar(t,r){let[n,i]=this.cosAndSin(r);return new R(t*n,t*i)}static cosAndSin(t){let r=Math.PI/4,n=Math.round(t/r);if(n*r===t){let i=Math.sqrt(.5);return[[1,0],[i,i],[0,1],[-i,i],[-1,0],[-i,-i],[0,-1],[i,-i]][n&7]}return[Math.cos(t),Math.sin(t)]}eq(t){return typeof t=="number"?this.real===t&&this.imag===0:t instanceof R?this.real===t.real&&this.imag===t.imag:!1}nearlyEq(t,r){if(typeof t=="number"||t instanceof R){let n=this.sub(R.from(t));return Math.abs(n.real)<=r&&Math.abs(n.imag)<=r&&n.abs()<=r}return!1}conjugate(){return new R(this.real,-this.imag)}neg(){return new R(-this.real,-this.imag)}add(t){let r=R.from(t);return new R(this.real+r.real,this.imag+r.imag)}sub(t){let r=R.from(t);return new R(this.real-r.real,this.imag-r.imag)}mult(t){let r=R.from(t);return new R(this.real*r.real-this.imag*r.imag,this.real*r.imag+this.imag*r.real)}div(t){let r=R.from(t),n=r.abs2();if(n===0)return F(Error("Division by Zero"));let i=this.mult(r.conjugate());return G(new R(i.real/n,i.imag/n))}abs(){return Math.sqrt(this.abs2())}abs2(){return this.real*this.real+this.imag*this.imag}arg(){return Math.atan2(this.imag,this.real)}pow(t){return t===.5&&this.imag===0&&this.real>=0?new R(Math.sqrt(this.real),0):this.eq(R.ZERO)?R.ZERO:this.ln().mult(R.from(t)).exp()}exp(){return R.polar(Math.exp(this.real),this.imag)}format(t=jt){let r=new We(t.allowAbbreviation===void 0?jt.allowAbbreviation:t.allowAbbreviation,t.maxAbbreviationError||0,t.fixedDigits);return r.allowAbbreviation?this.toStringAllowSingleValue(r):this.toStringBothValues(r)}toString(){let t=new We(jt.allowAbbreviation,jt.maxAbbreviationError,jt.fixedDigits);return this.toStringAllowSingleValue(t)}ln(){return new R(Math.log(this.abs()),this.arg())}toStringAllowSingleValue(t){if(this.canImagPartBeOmitted(t.maxAbbreviationError))return t.format(this.real);if(this.canRealPartBeOmitted(t.maxAbbreviationError)){let r;return this.isImagFactorCloseToOne(t.maxAbbreviationError)?r="":this.isImagFactorMinusOne(t.maxAbbreviationError)?r="-":r=t.format(this.imag),`${r}i`}return this.toStringBothValues(t)}toStringBothValues(t){let r=this.imag>=0?"+":"-",n=this.canImagFactorBeOmitted(t)?"":t.format(Math.abs(this.imag));return`${(t.allowAbbreviation||t.fixedDigits===void 0||this.real<0?"":"+")+t.format(this.real)+r+n}i`}canRealPartBeOmitted(t){return Math.abs(this.real)<=t}canImagPartBeOmitted(t){return Math.abs(this.imag)<=t}isImagFactorCloseToOne(t){return Math.abs(this.imag-1)<=t}isImagFactorMinusOne(t){return Math.abs(this.imag+1)<=t}canImagFactorBeOmitted(t){return t.allowAbbreviation&&Math.abs(Math.abs(this.imag)-1)<=t.maxAbbreviationError}};gt.ZERO=new gt(0,0),gt.ONE=new gt(1,0),gt.I=new gt(0,1);var tt=gt,me=0,Bt=class extends Error{static{u(this,"rt")}constructor(e,t){super(e),this.detailsObj=t,this.name="Error",this.message=e,this.stack=new Error().stack,this.stack!==void 0&&(this.stack=this.stack.replace(/^Error\n\s+at new DetailedError (\S+)\s?\n\s+at /,`
    `)),me++;try{this.details=me===1?(0,ci.format)(this.detailsObj):"(failed to prettyFormat detailsObj due to possibly re-entrancy)"}catch(r){console.error(r),this.details="(failed to prettyFormat detailsObj, see the console for details)"}finally{me--}}},pi=u(()=>({message:"Parse Error"}),"Di"),ur=class lr{static{u(this,"Ar")}static need(t,r,n){if(t!==!0){let i=n===void 0?"(not provided)":`[${Array.prototype.slice.call(n).join(", ")}]`,a=`Precondition failed

Message: ${r===void 0?"(not provided)":r}

Args: ${i}`;throw new Error(a)}}static notNull(t){lr.need(t!=null,"notNull")}static get urlJson(){let t=new URL(location.href,window.location.origin),r=decodeURIComponent(t.pathname),n=r.lastIndexOf("/");return r.substring(n+1)}};ur.safeJsonParse=Gt.fromThrowable(JSON.parse,pi);var Y=ur,di="Bloch",mi="\u2022",bi="H",vi="Measure",gi="P",yi="QFT\u2020",wi="QFT",xi="X^\xBD",Ei="Rx",Mi="Ry",Si="Rz",Oi="S\u2020",Ai="S",Ni="\u2026",_i="Swap",$i="T\u2020",Ii="T",Ti="|0>",Pi="|1>",Ci="X",ji="Y",Bi="Z",Di={allowAbbreviation:!0,maxAbbreviationError:0,fixedDigits:void 0,itemSeparator:", "},k=class W{static{u(this,"r")}constructor(t,r,n){this.plus=this.add.bind(this),this.height=t,this.width=r,this.buffer=n,this.plus=this.add}static rows(t){let r=t.length;if(r===0)return F(Error("rows is empty"));let n=t[0].length;return t[0].length===0?F(Error("rows[0] is empty")):W.build(r,n,(i,a)=>t[i][a])}static column_vector(...t){return W.build(t.length,1,r=>t[r])}static build(t,r,n){let i=new Float64Array(r*t*2);for(let a=0;a<t;a++)for(let o=0;o<r;o++){let m=(a*r+o)*2,g=m+1,h;n?h=tt.from(n(a,o)):h=tt.from(0),i[m]=h.real,i[g]=h.imag}return W.create(t,r,i)}static create(t,r,n){return r<0?F(Error(`width(${r}) < 0`)):t<0?F(Error(`height(${t}) < 0`)):r*t*2!==n.length?F(Error(`width(${r})*height(${t})*2 !== buffer.length(${n.length})`)):G(new W(t,r,n))}element(t,r){if(t<0||r<0||t>=this.height||r>=this.width)return F(Error("Element out of range"));let n=(this.width*t+r)*2,i=n+1;return G(new tt(this.buffer[n],this.buffer[i]))}set(t,r,n){if(t<0||r<0||t>=this.height||r>=this.width)return F(Error("Element out of range"));let i=(this.width*t+r)*2,a=i+1;return this.buffer[i]=n.real,this.buffer[a]=n.imag,G(this)}column(t){if(t<0)return F(Error("colIndex < 0"));if(t>this.width)return F(Error("colIndex > this.width"));let r=[];for(let n=0;n<this.height;n++){let i=this.element(n,t);if(i.isErr())return F(i.error);r.push(i.value)}return G(r)}add(t){if(t.width!==this.width||t.height!==this.height)return F(Error("Incompatible sizes"));let r=new Float64Array(this.buffer.length);for(let n=0;n<r.length;n++)r[n]=this.buffer[n]+t.buffer[n];return G(new W(this.height,this.width,r))}sub(t){if(t.width!==this.width||t.height!==this.height)return F(Error("Incompatible sizes"));let r=new Float64Array(this.buffer.length);for(let n=0;n<r.length;n++)r[n]=this.buffer[n]-t.buffer[n];return G(new W(this.height,this.width,r))}mult(t){return t instanceof W?this.multMatrix(t):G(this.multScalar(t))}applyControlledGate(t,r,n,i){let{width:a,height:o,buffer:m}=this;for(let M of n)Y.need(M>=0,"control bit out of range"),Y.need(o>=2<<M,"control bit out of range");for(let M of i)Y.need(M>=0,"anti control bit out of range"),Y.need(o>=2<<M,"anti control bit out of range");let g=n.concat(i).reduce((M,T)=>M|1<<T,0),h=n.reduce((M,T)=>M|1<<T,0);Y.need((h&1<<r)===0,"Matrix.timesQubitOperation: self-controlled"),Y.need(t.width===2&&t.height===2,"Matrix.timesQubitOperation: not 2x2");let[y,v,l,f,s,c,p,d]=t.buffer;Y.need(r>=0,"target bit out of range"),Y.need(o>=2<<r,"target bit out of range");let w=new Float64Array(m),N=0;for(let M=0;M<o;M++){let T=(M&1<<r)!==0,O=(g&M^h)===0;for(let S=0;S<a;S++){if(O&&!T){let x=N+(1<<r)*2*a,E=w[N],$=w[N+1],_=w[x],B=w[x+1];w[N]=E*y-$*v+_*l-B*f,w[N+1]=E*v+$*y+_*f+B*l,w[x]=E*s-$*c+_*p-B*d,w[x+1]=E*c+$*s+_*d+B*p}N+=2}}return W.create(o,a,w)._unsafeUnwrap()}timesQubitOperation(t,r,n){Y.need((n&1<<r)===0,"Matrix.timesQubitOperation: self-controlled"),Y.need(t.width===2&&t.height===2,"Matrix.timesQubitOperation: not 2x2");let{width:i,height:a,buffer:o}=this,[m,g,h,y,v,l,f,s]=t.buffer;Y.need(a>=2<<r,"Matrix.timesQubitOperation: qubit index out of range");let c=new Float64Array(o),p=0;for(let d=0;d<a;d++){let w=(n&d^n)!==0,N=(d&1<<r)!==0;for(let M=0;M<i;M++){if(!w&&!N){let T=p+(1<<r)*2*i,O=c[p],S=c[p+1],x=c[T],E=c[T+1];c[p]=O*m-S*g+x*h-E*y,c[p+1]=O*g+S*m+x*y+E*h,c[T]=O*v-S*l+x*f-E*s,c[T+1]=O*l+S*v+x*s+E*f}p+=2}}return W.create(a,i,c)._unsafeUnwrap()}rows(){return zt(0,this.height-1).map(t=>zt(0,this.width-1).map(r=>this.element(t,r)._unsafeUnwrap()))}isHermitian(t=0){if(this.width!==this.height)return!1;for(let r=0;r<this.width;r++)for(let n=0;n<this.height;n++){let i=(this.width*n+r)*2,a=(this.width*r+n)*2;if(Math.abs(this.buffer[i]-this.buffer[a])>t||Math.abs(this.buffer[i+1]+this.buffer[a+1])>t)return!1}return!0}trace(){let t=0,r=0,n=this.width*2+2;for(let i=0;i<this.buffer.length;i+=n)t+=this.buffer[i],r+=this.buffer[i+1];return new tt(t,r)}adjoint(){let t=this.height,r=this.width,n=new Float64Array(t*r*2);for(let i=0;i<r;i++)for(let a=0;a<t;a++){let o=(a*this.width+i)*2,m=(i*t+a)*2;n[m]=this.buffer[o],n[m+1]=-this.buffer[o+1]}return new W(r,t,n)}tensorProduct(t){let r=this.width,n=this.height,i=t.width,a=t.height,o=r*i,m=n*a,g=new Float64Array(o*m*2);for(let h=0;h<n;h++)for(let y=0;y<a;y++)for(let v=0;v<r;v++)for(let l=0;l<i;l++){let f=(h*r+v)*2,s=(y*i+l)*2,c=((h*a+y)*o+(v*i+l))*2,p=this.buffer[f],d=this.buffer[f+1],w=t.buffer[s],N=t.buffer[s+1],M=p*w-d*N,T=p*N+d*w;g[c]=M,g[c+1]=T}return new W(m,o,g)}eq(t){if(this===t)return!0;if(!(t instanceof W))return!1;let r=t;return this.width===r.width&&this.height===r.height&&zt(0,this.buffer.length-1).every(n=>this.buffer[n]===r.buffer[n])}nearlyEq(t,r){return t instanceof W&&this.width===t.width&&this.height===t.height&&Math.sqrt(this.sub(t)._unsafeUnwrap().norm2())<=r}format(t=Di){let r=new hi(t.allowAbbreviation===void 0?!0:t.allowAbbreviation,t.maxAbbreviationError||0,t.fixedDigits,t.itemSeparator||", ");return`{{${this.rows().map(n=>n.map(i=>i.format(r)).join(r.itemSeparator)).join(`}${r.itemSeparator}{`)}}}`}toString(){return this.format()}qubitDensityMatrixToBlochVector(){if(this.width!==2||this.height!==2)throw new Bt("Need a 2x2 density matrix.",this);if(!this.isHermitian(.01))throw new Bt("Density matrix should be Hermitian.",this);if(!this.trace().nearlyEq(1,.01))throw new Bt("Density matrix should have unit trace.",this);let[t,r,n,i,a,o,m,g]=this.buffer,h=a+n,y=o-i,v=t-m;return[h,y,v]}clone(){return new W(this.height,this.width,this.buffer.slice())}norm2(){let t=0;for(let r of this.buffer)t+=r*r;return t}multMatrix(t){if(this.width!==t.height)return F(Error("Incompatible sizes."));let r=t.width,n=this.height,i=this.width,a=new Float64Array(r*n*2);for(let o=0;o<n;o++)for(let m=0;m<r;m++){let g=(o*r+m)*2;for(let h=0;h<i;h++){let y=(o*i+h)*2,v=(h*r+m)*2,l=this.buffer[y],f=this.buffer[y+1],s=t.buffer[v],c=t.buffer[v+1],p=l*s-f*c,d=l*c+s*f;a[g]+=p,a[g+1]+=d}}return G(new W(n,r,a))}multScalar(t){let r=new Float64Array(this.buffer.length),n=tt.real(t),i=tt.imag(t);for(let a=0;a<r.length;a+=2){let o=this.buffer[a],m=this.buffer[a+1];r[a]=o*n-m*i,r[a+1]=o*i+m*n}return new W(this.height,this.width,r)}},st=tt.I,Nt=st.neg(),Ge=k.rows([[1,1],[1,-1]])._unsafeUnwrap().mult(Math.sqrt(.5))._unsafeUnwrap(),Ve=k.rows([[0,1],[1,0]])._unsafeUnwrap(),Ke=k.rows([[0,Nt],[st,0]])._unsafeUnwrap(),Je=k.rows([[1,0],[0,-1]])._unsafeUnwrap(),ve=k.rows([[1,0],[0,st]])._unsafeUnwrap(),Ze=ve.adjoint(),ge=k.rows([[1,0],[0,st.times(Math.PI/4).exp()]])._unsafeUnwrap(),Qe=ge.adjoint();function He(e){let t=Kt(e);return k.rows([[1,0],[0,st.times(t).exp()]])._unsafeUnwrap()}u(He,"ie");var Xe=k.rows([[st.plus(1),Nt.plus(1)],[Nt.plus(1),st.plus(1)]])._unsafeUnwrap().mult(.5)._unsafeUnwrap();function Ye(e){let t=Kt(e),r=Math.cos(t/2),n=Math.sin(t/2);return k.rows([[r,Nt.times(n)],[Nt.times(n),r]])._unsafeUnwrap()}u(Ye,"se");function tr(e){let t=Kt(e),r=Math.cos(t/2),n=Math.sin(t/2);return k.rows([[r,-n],[n,r]])._unsafeUnwrap()}u(tr,"oe");function er(e){let t=Kt(e);return k.rows([[Nt.times(t/2).exp(),0],[0,st.times(t/2).exp()]])._unsafeUnwrap()}u(er,"ue");var Ri=class cr{static{u(this,"r")}get bra(){return this.matrix.adjoint()}get ket(){return this.matrix}constructor(t){typeof t=="string"?this.matrix=this.bitstringToMatrix(t):this.matrix=t,this.size=this.matrix.height,this.nqubit=Math.log2(this.size)}amplifier(t){return this.matrix.element(t,0)._unsafeUnwrap()}setAmplifier(t,r){let n=this.matrix.set(t,0,r);return n.isErr()?F(Error(n.error.message)):G(this)}blochVector(t){return this.qubitDensityMatrix(t).qubitDensityMatrixToBlochVector()}isApproximatelyEqualTo(t,r){return t instanceof cr&&this.matrix.nearlyEq(t.matrix,r)}applyControlledGate(t,r,n,i){return this.matrix=this.matrix.applyControlledGate(t,r,n,i),this.matrix}timesQubitOperation(t,r,n){return this.matrix=this.matrix.timesQubitOperation(t,r,n),this.matrix}toString(){return this.matrix.toString()}bitstringToMatrix(t){let r=!1,n="",i=[],a=new Bt("Invalid StateVector bit string",t);for(let o of t.split(""))switch(o){case"0":{if(r)throw a;i.push(k.column_vector(1,0)._unsafeUnwrap());break}case"1":{if(r)throw a;i.push(k.column_vector(0,1)._unsafeUnwrap());break}case"+":{if(r)throw a;i.push(k.column_vector(1,1)._unsafeUnwrap().mult(Math.sqrt(.5))._unsafeUnwrap());break}case"-":{r?n+="-":i.push(k.column_vector(1,-1)._unsafeUnwrap().mult(Math.sqrt(.5))._unsafeUnwrap());break}case"i":{r?n+="i":i.push(k.column_vector(1,new tt(0,1))._unsafeUnwrap().mult(Math.sqrt(.5))._unsafeUnwrap());break}case"(":{if(r)throw a;r=!0,n="";break}case")":{if(!r||n!=="-i")throw a;i.push(k.column_vector(1,new tt(0,-1))._unsafeUnwrap().mult(Math.sqrt(.5))._unsafeUnwrap()),r=!1;break}default:throw a}if(i.length===0)throw a;return i.reduce((o,m)=>o.tensorProduct(m))}qubitDensityMatrix(t){if(t<0||t>=this.nqubit)throw new Bt("Qubit index out of range",t);let r=[...Array(Math.log2(this.matrix.height)).keys()].filter(a=>a!==t),n=u((a,o)=>o.sort().reverse().reduce((m,g)=>{let h=m>>g+1;h=h<<g;let y=(1<<g)-1&m;return h|y},a),"n"),i=k.build(2,2)._unsafeUnwrap();for(let a=0;a<this.matrix.height;a++)for(let o=0;o<this.matrix.height;o++){if(!r.every(v=>(a>>v&1)===(o>>v&1)))continue;let m=this.matrix.element(o,0)._unsafeUnwrap().times(this.matrix.element(a,0)._unsafeUnwrap().conjugate());if(m.isEqualTo(0))continue;let g=n(o,r)===0?k.column_vector(1,0)._unsafeUnwrap():k.column_vector(0,1)._unsafeUnwrap(),h=n(a,r)===0?k.rows([[1,0]])._unsafeUnwrap():k.rows([[0,1]])._unsafeUnwrap(),y=g.mult(h)._unsafeUnwrap();i=i.add(y.mult(m)._unsafeUnwrap())._unsafeUnwrap()}return i}};function Fi(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}u(Fi,"Hr");var fr=class{static{u(this,"Yr")}constructor(e){this.state=new Ri(e),this.measuredBits={},this.flags={}}runStep(e){this.blochVectors={};for(let t of e)switch(t.type){case bi:if(t.if&&!this.flags[t.if])break;this.ch(t.targets,t.controls,t.antiControls);break;case Ci:if(t.if&&!this.flags[t.if])break;this.cnot(t.targets,t.controls,t.antiControls);break;case ji:if(t.if&&!this.flags[t.if])break;this.cy(t.targets,t.controls,t.antiControls);break;case Bi:if(t.if&&!this.flags[t.if])break;this.cz(t.targets,t.controls,t.antiControls);break;case xi:if(t.if&&!this.flags[t.if])break;this.crnot(t.targets,t.controls,t.antiControls);break;case Ai:{if(t.if&&!this.flags[t.if])break;this.cs(t.targets,t.controls,t.antiControls);break}case Oi:{if(t.if&&!this.flags[t.if])break;this.csDagger(t.targets,t.controls,t.antiControls);break}case Ii:{if(t.if&&!this.flags[t.if])break;this.ct(t.targets,t.controls,t.antiControls);break}case $i:{if(t.if&&!this.flags[t.if])break;this.ctDagger(t.targets,t.controls,t.antiControls);break}case Ti:this.write(0,...t.targets);break;case Pi:this.write(1,...t.targets);break;case di:for(let r of t.targets)this.blochVectors[r]=this.state.blochVector(r);break;case Ni:break;case gi:{if(!t.angle)break;this.cphase(t.angle,[t.targets[0]],t.controls,t.antiControls);break}case wi:this.qft(t.span,...t.targets);break;case yi:this.qftDagger(t.span,...t.targets);break;case mi:{this.cz([t.targets[0]],t.targets.slice(1));break}case _i:{this.cswap(t.targets[0],t.targets[1],t.controls);break}case Ei:if(t.if&&!this.flags[t.if]||!t.angle)break;this.crx(t.angle,t.targets,t.controls,t.antiControls);break;case Mi:if(t.if&&!this.flags[t.if]||!t.angle)break;this.cry(t.angle,t.targets,t.controls,t.antiControls);break;case Si:if(t.if&&!this.flags[t.if]||!t.angle)break;this.crz(t.angle,t.targets,t.controls,t.antiControls);break;case vi:for(let r of t.targets)this.measure(r),t.flag&&(this.flags[t.flag]=this.measuredBits[r]===1);break;default:throw new Error("Unknown instruction")}return this}write(e,...t){for(let r of t){let n=Fi(this.pZero(r),5);(e===0&&n===0||e===1&&n===1)&&this.x(r)}return this}h(...e){return this.cu(Ge,e),this}ch(e,t,r){return this.cu(Ge,e,t,r),this}x(...e){return this.cu(Ve,e),this}cnot(e,t,r){return this.cu(Ve,e,t,r),this}y(...e){return this.cu(Ke,e),this}cy(e,t,r){return this.cu(Ke,e,t,r),this}z(...e){return this.u(Je,...e),this}cz(e,t,r){return this.cu(Je,e,t,r),this}phase(e,...t){return this.u(He(e),...t),this}cphase(e,t,r,n){return this.cu(He(e),t,r,n),this}s(...e){return this.u(ve,...e),this}cs(e,t,r){return this.cu(ve,e,t,r),this}sDagger(...e){return this.u(Ze,...e),this}csDagger(e,t,r){return this.cu(Ze,e,t,r),this}t(...e){return this.u(ge,...e),this}ct(e,t,r){return this.cu(ge,e,t,r),this}tDagger(...e){return this.u(Qe,...e),this}ctDagger(e,t,r){return this.cu(Qe,e,t,r),this}swap(e,t){return this.cswap(e,t),this}cswap(e,t,r=[]){return this.cnot([t],r.concat([e])).cnot([e],r.concat([t])).cnot([t],r.concat([e])),this}rnot(...e){return this.u(Xe,...e),this}crnot(e,t,r){return this.cu(Xe,e,t,r),this}rx(e,...t){return this.u(Ye(e),...t),this}crx(e,t,r,n){return this.cu(Ye(e),t,r,n),this}ry(e,...t){return this.u(tr(e),...t),this}cry(e,t,r,n){return this.cu(tr(e),t,r,n),this}rz(e,...t){return this.u(er(e),...t),this}crz(e,t,r,n){return this.cu(er(e),t,r,n),this}qft(e,...t){for(let r of t)this.qftSingleTargetBit(e,r);return this}qftSingleTargetBit(e,t){for(let r=0;r<e;r++){this.h(t+r);for(let n=1;n<e-r;n++)this.cphase(`\u03C0/${2**n}`,[t+r],[t+r+n])}return this}qftDagger(e,...t){for(let r of t)this.qftDaggerSingleTargetBit(e,r);return this}qftDaggerSingleTargetBit(e,t){for(let r=e-1;r>=0;r--){for(let n=e-r-1;n>0;n--)this.cphase(`-\u03C0/${2**n}`,[t+r],[t+r+n]);this.h(t+r)}return this}measure(...e){for(let t of e){let r=this.pZero(t);if(Math.random()<=r){for(let n=0;n<1<<this.state.nqubit;n++){n&1<<t&&this.state.setAmplifier(n,tt.ZERO);let i=this.state.amplifier(n).div(Math.sqrt(r));if(i.isOk())this.state.setAmplifier(n,i.value);else throw Error(i.error.message)}this.measuredBits[t]=0}else{for(let n=0;n<1<<this.state.nqubit;n++){n&1<<t||this.state.setAmplifier(n,tt.ZERO);let i=this.state.amplifier(n).div(Math.sqrt(1-r));if(i.isOk())this.state.setAmplifier(n,i.value);else throw Error(i.error.message)}this.measuredBits[t]=1}}return this}amplitudes(){return this.state.matrix.column(0)._unsafeUnwrap()}u(e,...t){for(let r of t)this.state.timesQubitOperation(e,r,0)}cu(e,t,r=[],n=[]){for(let i of t)this.state.applyControlledGate(e,i,r,n)}pZero(e){let t=0;for(let r=0;r<1<<this.state.nqubit;r++)r&1<<e||(t+=Math.pow(this.state.amplifier(r).abs(),2));return t}};var ho=Ue(pr());function Ee(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return u(i,"adopt"),new(r||(r=Promise))(function(a,o){function m(y){try{h(n.next(y))}catch(v){o(v)}}u(m,"fulfilled");function g(y){try{h(n.throw(y))}catch(v){o(v)}}u(g,"rejected");function h(y){y.done?a(y.value):i(y.value).then(m,g)}u(h,"step"),h((n=n.apply(e,t||[])).next())})}u(Ee,"__awaiter");function Me(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function m(h){return function(y){return g([h,y])}}function g(h){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){r.label=h[1];break}if(h[0]===6&&r.label<a[1]){r.label=a[1],a=h;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(h);break}a[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(y){h=[6,y],i=0}finally{n=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}u(Me,"__generator");function Jt(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(m){o={error:m}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}u(Jt,"__read");function Mt(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}u(Mt,"__spreadArray");var ki={withStackTrace:!1},mr=u(function(e,t,r){r===void 0&&(r=ki);var n=t.isOk()?{type:"Ok",value:t.value}:{type:"Err",value:t.error},i=r.withStackTrace?new Error().stack:void 0;return{data:n,message:e,stack:i}},"createNeverThrowError"),$t=function(){function e(t){this._promise=t}return u(e,"ResultAsync"),e.fromSafePromise=function(t){var r=t.then(function(n){return new xt(n)});return new e(r)},e.fromPromise=function(t,r){var n=t.then(function(i){return new xt(i)}).catch(function(i){return new Et(r(i))});return new e(n)},e.combine=function(t){return qi(t)},e.combineWithAllErrors=function(t){return Li(t)},e.prototype.map=function(t){var r=this;return new e(this._promise.then(function(n){return Ee(r,void 0,void 0,function(){var i;return Me(this,function(a){switch(a.label){case 0:return n.isErr()?[2,new Et(n.error)]:(i=xt.bind,[4,t(n.value)]);case 1:return[2,new(i.apply(xt,[void 0,a.sent()]))]}})})}))},e.prototype.mapErr=function(t){var r=this;return new e(this._promise.then(function(n){return Ee(r,void 0,void 0,function(){var i;return Me(this,function(a){switch(a.label){case 0:return n.isOk()?[2,new xt(n.value)]:(i=Et.bind,[4,t(n.error)]);case 1:return[2,new(i.apply(Et,[void 0,a.sent()]))]}})})}))},e.prototype.andThen=function(t){return new e(this._promise.then(function(r){if(r.isErr())return new Et(r.error);var n=t(r.value);return n instanceof e?n._promise:n}))},e.prototype.orElse=function(t){var r=this;return new e(this._promise.then(function(n){return Ee(r,void 0,void 0,function(){return Me(this,function(i){return n.isErr()?[2,t(n.error)]:[2,new xt(n.value)]})})}))},e.prototype.match=function(t,r){return this._promise.then(function(n){return n.match(t,r)})},e.prototype.unwrapOr=function(t){return this._promise.then(function(r){return r.unwrapOr(t)})},e.prototype.then=function(t,r){return this._promise.then(t,r)},e}();var dr=u(function(e){return new $t(Promise.resolve(new Et(e)))},"errAsync"),Io=$t.fromPromise,To=$t.fromSafePromise,Ui=u(function(e){return function(t){return Mt(Mt([],Jt(t),!1),[e],!1)}},"appendValueToEndOfList"),br=u(function(e){return e.reduce(function(t,r){return t.isOk()?r.isErr()?it(r.error):t.map(Ui(r.value)):t},nt([]))},"combineResultList"),qi=u(function(e){return $t.fromSafePromise(Promise.all(e)).andThen(br)},"combineResultAsyncList"),vr=u(function(e){return e.reduce(function(t,r){return r.isErr()?t.isErr()?it(Mt(Mt([],Jt(t.error),!1),[r.error],!1)):it([r.error]):t.isErr()?t:nt(Mt(Mt([],Jt(t.value),!1),[r.value],!1))},nt([]))},"combineResultListWithAllErrors"),Li=u(function(e){return $t.fromSafePromise(Promise.all(e)).andThen(vr)},"combineResultAsyncListWithAllErrors"),Dt;(function(e){function t(i,a){return function(){for(var o=[],m=0;m<arguments.length;m++)o[m]=arguments[m];try{var g=i.apply(void 0,Mt([],Jt(o),!1));return nt(g)}catch(h){return it(a?a(h):h)}}}u(t,"fromThrowable"),e.fromThrowable=t;function r(i){return br(i)}u(r,"combine"),e.combine=r;function n(i){return vr(i)}u(n,"combineWithAllErrors"),e.combineWithAllErrors=n})(Dt||(Dt={}));var nt=u(function(e){return new xt(e)},"ok"),it=u(function(e){return new Et(e)},"err"),xt=function(){function e(t){this.value=t}return u(e,"Ok"),e.prototype.isOk=function(){return!0},e.prototype.isErr=function(){return!this.isOk()},e.prototype.map=function(t){return nt(t(this.value))},e.prototype.mapErr=function(t){return nt(this.value)},e.prototype.andThen=function(t){return t(this.value)},e.prototype.orElse=function(t){return nt(this.value)},e.prototype.asyncAndThen=function(t){return t(this.value)},e.prototype.asyncMap=function(t){return $t.fromSafePromise(t(this.value))},e.prototype.unwrapOr=function(t){return this.value},e.prototype.match=function(t,r){return t(this.value)},e.prototype._unsafeUnwrap=function(t){return this.value},e.prototype._unsafeUnwrapErr=function(t){throw mr("Called `_unsafeUnwrapErr` on an Ok",this,t)},e}(),Et=function(){function e(t){this.error=t}return u(e,"Err"),e.prototype.isOk=function(){return!1},e.prototype.isErr=function(){return!this.isOk()},e.prototype.map=function(t){return it(this.error)},e.prototype.mapErr=function(t){return it(t(this.error))},e.prototype.andThen=function(t){return it(this.error)},e.prototype.orElse=function(t){return t(this.error)},e.prototype.asyncAndThen=function(t){return dr(this.error)},e.prototype.asyncMap=function(t){return dr(this.error)},e.prototype.unwrapOr=function(t){return t},e.prototype.match=function(t,r){return r(this.error)},e.prototype._unsafeUnwrap=function(t){throw mr("Called `_unsafeUnwrap` on an Err",this,t)},e.prototype._unsafeUnwrapErr=function(t){return this.error},e}(),Po=Dt.fromThrowable;var po=Ue(wn());var En=[{character:"\xBD",ref:"\xBD",expanded:"1/2",value:.5},{character:"\xBC",ref:"\xBC",expanded:"1/4",value:.25},{character:"\xBE",ref:"\xBE",expanded:"3/4",value:.75},{character:"\u2153",ref:"\u2153",expanded:"1/3",value:.3333333333333333},{character:"\u2154",ref:"\u2154",expanded:"2/3",value:.6666666666666666},{character:"\u2155",ref:"\u2155",expanded:"1/5",value:.2},{character:"\u2156",ref:"\u2156",expanded:"2/5",value:.4},{character:"\u2157",ref:"\u2157",expanded:"3/5",value:.6},{character:"\u2158",ref:"\u2158",expanded:"4/5",value:.8},{character:"\u2159",ref:"\u2159",expanded:"1/6",value:.16666666666666666},{character:"\u215A",ref:"\u215A",expanded:"5/6",value:.8333333333333334},{character:"\u2150",ref:"\u2150",expanded:"1/7",value:.14285714285714285},{character:"\u215B",ref:"\u215B",expanded:"1/8",value:.125},{character:"\u215C",ref:"\u215C",expanded:"3/8",value:.375},{character:"\u215D",ref:"\u215D",expanded:"5/8",value:.625},{character:"\u215E",ref:"\u215E",expanded:"7/8",value:.875},{character:"\u2151",ref:"\u2151",expanded:"1/9",value:.1111111111111111},{character:"\u2152",ref:"\u2152",expanded:"1/10",value:.1}],mt=class ot{static{u(this,"o")}static parseFloat(t){if(t.length===0)throw new Error(`Not a number: '${t}'`);if(t[0]==="-")return-ot.parseFloat(t.substr(1));if(t[0]==="\u221A")return Math.sqrt(ot.parseFloat(t.substr(1)));let r=ot.matchUnicodeFraction(i=>i.character===t);if(r!==void 0)return r.value;let n=parseFloat(t);if(isNaN(n))throw new Error(`Not a number: '${t}'`);return n}static simplifyByRounding(t,r){if(t<0)return-ot.simplifyByRounding(-t,r);let n=t%1;if(n<=r||1-n<=r)return Math.round(t);let i=ot.matchUnicodeFraction(o=>Math.abs(o.value-t)<=r);if(i!==void 0)return i.value;let a=ot.matchUnicodeFraction(o=>Math.abs(Math.sqrt(o.value)-t)<=r);return a!==void 0?Math.sqrt(a.value):t}static matchUnicodeFraction(t){for(let r of En)if(t(r))return r}constructor(t,r,n,i){this.allowAbbreviation=t,this.maxAbbreviationError=r,this.fixedDigits=n,this.itemSeparator=i}formatFloat(t){return this.allowAbbreviation?this.abbreviateFloat(t,this.maxAbbreviationError,this.fixedDigits):this.fixedDigits!==void 0?t.toFixed(this.fixedDigits):String(t)}abbreviateFloat(t,r=0,n=void 0){if(Math.abs(t)<r)return"0";if(t<0)return`-${this.abbreviateFloat(-t,r,n)}`;let i=ot.matchUnicodeFraction(o=>Math.abs(o.value-t)<=r);if(i!==void 0)return i.character;let a=ot.matchUnicodeFraction(o=>Math.abs(Math.sqrt(o.value)-t)<=r);return a!==void 0?`\u221A${a.character}`:t%1!==0&&n!==void 0?t.toFixed(n):t.toString()}};mt.CONSISTENT=new mt(!1,0,2,", "),mt.EXACT=new mt(!0,0,void 0,", "),mt.MINIFIED=new mt(!0,0,void 0,","),mt.SIMPLIFIED=new mt(!0,5e-4,3,", ");var xn=class Ce{static{u(this,"r")}static matchUnicodeFraction(t){for(let r of En)if(t(r))return r}constructor(t,r,n,i=", "){this.allowAbbreviation=t,this.maxAbbreviationError=r,this.fixedDigits=n,this.itemSeparator=i}format(t){return this.allowAbbreviation?this.abbreviateNumber(t,this.maxAbbreviationError,this.fixedDigits):this.fixedDigits!==void 0?t.toFixed(this.fixedDigits):String(t)}abbreviateNumber(t,r=0,n=void 0){if(Math.abs(t)<r)return"0";if(t<0)return`-${this.abbreviateNumber(-t,r,n)}`;let i=Ce.matchUnicodeFraction(o=>Math.abs(o.value-t)<=r);if(i!==void 0)return i.character;let a=Ce.matchUnicodeFraction(o=>Math.abs(Math.sqrt(o.value)-t)<=r);return a!==void 0?`\u221A${a.character}`:t%1!==0&&n!==void 0?t.toFixed(n):t.toString()}},qt={allowAbbreviation:!0,maxAbbreviationError:0,fixedDigits:void 0},Ct=class U{static{u(this,"a")}constructor(t,r){this.isEqualTo=this.eq.bind(this),this.isApproximatelyEqualTo=this.nearlyEq.bind(this),this.conj=this.conjugate.bind(this),this.plus=this.add.bind(this),this.subtract=this.sub.bind(this),this.minus=this.sub.bind(this),this.multiply=this.mult.bind(this),this.times=this.mult.bind(this),this.dividedBy=this.div.bind(this),this.magnitude=this.abs.bind(this),this.norm2=this.abs2.bind(this),this.angle=this.arg.bind(this),this.phase=this.arg.bind(this),this.real=t,this.imag=r,this.isApproximatelyEqualTo=this.nearlyEq,this.isEqualTo=this.eq,this.conj=this.conjugate,this.plus=this.add,this.subtract=this.sub,this.minus=this.sub,this.multiply=this.mult,this.times=this.mult,this.dividedBy=this.div,this.magnitude=this.abs,this.norm2=this.abs2,this.angle=this.arg,this.phase=this.arg}static from(t){return typeof t=="number"?new U(t,0):t}static real(t){return typeof t=="number"?t:t.real}static imag(t){return typeof t=="number"?0:t.imag}static polar(t,r){let[n,i]=this.cosAndSin(r);return new U(t*n,t*i)}static cosAndSin(t){let r=Math.PI/4,n=Math.round(t/r);if(n*r===t){let i=Math.sqrt(.5);return[[1,0],[i,i],[0,1],[-i,i],[-1,0],[-i,-i],[0,-1],[i,-i]][n&7]}return[Math.cos(t),Math.sin(t)]}eq(t){return typeof t=="number"?this.real===t&&this.imag===0:t instanceof U?this.real===t.real&&this.imag===t.imag:!1}nearlyEq(t,r){if(typeof t=="number"||t instanceof U){let n=this.sub(U.from(t));return Math.abs(n.real)<=r&&Math.abs(n.imag)<=r&&n.abs()<=r}return!1}conjugate(){return new U(this.real,-this.imag)}neg(){return new U(-this.real,-this.imag)}add(t){let r=U.from(t);return new U(this.real+r.real,this.imag+r.imag)}sub(t){let r=U.from(t);return new U(this.real-r.real,this.imag-r.imag)}mult(t){let r=U.from(t);return new U(this.real*r.real-this.imag*r.imag,this.real*r.imag+this.imag*r.real)}div(t){let r=U.from(t),n=r.abs2();if(n===0)return it(Error("Division by Zero"));let i=this.mult(r.conjugate());return nt(new U(i.real/n,i.imag/n))}abs(){return Math.sqrt(this.abs2())}abs2(){return this.real*this.real+this.imag*this.imag}arg(){return Math.atan2(this.imag,this.real)}pow(t){return t===.5&&this.imag===0&&this.real>=0?new U(Math.sqrt(this.real),0):this.eq(U.ZERO)?U.ZERO:this.ln().mult(U.from(t)).exp()}exp(){return U.polar(Math.exp(this.real),this.imag)}format(t=qt){let r=new xn(t.allowAbbreviation===void 0?qt.allowAbbreviation:t.allowAbbreviation,t.maxAbbreviationError||0,t.fixedDigits);return r.allowAbbreviation?this.toStringAllowSingleValue(r):this.toStringBothValues(r)}toString(){let t=new xn(qt.allowAbbreviation,qt.maxAbbreviationError,qt.fixedDigits);return this.toStringAllowSingleValue(t)}ln(){return new U(Math.log(this.abs()),this.arg())}toStringAllowSingleValue(t){if(this.canImagPartBeOmitted(t.maxAbbreviationError))return t.format(this.real);if(this.canRealPartBeOmitted(t.maxAbbreviationError)){let r;return this.isImagFactorCloseToOne(t.maxAbbreviationError)?r="":this.isImagFactorMinusOne(t.maxAbbreviationError)?r="-":r=t.format(this.imag),`${r}i`}return this.toStringBothValues(t)}toStringBothValues(t){let r=this.imag>=0?"+":"-",n=this.canImagFactorBeOmitted(t)?"":t.format(Math.abs(this.imag));return`${(t.allowAbbreviation||t.fixedDigits===void 0||this.real<0?"":"+")+t.format(this.real)+r+n}i`}canRealPartBeOmitted(t){return Math.abs(this.real)<=t}canImagPartBeOmitted(t){return Math.abs(this.imag)<=t}isImagFactorCloseToOne(t){return Math.abs(this.imag-1)<=t}isImagFactorMinusOne(t){return Math.abs(this.imag+1)<=t}canImagFactorBeOmitted(t){return t.allowAbbreviation&&Math.abs(Math.abs(this.imag)-1)<=t.maxAbbreviationError}};Ct.ZERO=new Ct(0,0),Ct.ONE=new Ct(1,0),Ct.I=new Ct(0,1);var mo=u(()=>({message:"Parse Error"}),"P"),Mn=class Sn{static{u(this,"h")}static need(t,r,n){if(t!==!0){let i=n===void 0?"(not provided)":`[${Array.prototype.slice.call(n).join(", ")}]`,a=`Precondition failed

Message: ${r===void 0?"(not provided)":r}

Args: ${i}`;throw new Error(a)}}static notNull(t){Sn.need(t!=null,"notNull")}static get urlJson(){let t=new URL(location.href,window.location.origin),r=decodeURIComponent(t.pathname),n=r.lastIndexOf("/");return r.substring(n+1)}};Mn.safeJsonParse=Dt.fromThrowable(JSON.parse,mo);var Lt=Mn;var At={};function bo(e){let t=e.data.circuitJson,r=e.data.qubitCount,n=e.data.stepIndex,i=e.data.steps,a=e.data.targets,o=e.data.invalidateCaches,m=new fr("0".repeat(r));Lt.notNull(r),Lt.notNull(n),Lt.notNull(i),Lt.notNull(a),(At[t]===void 0||o)&&(At={},At[t]={});for(let[g,h]of i.entries()){let y={};At[t][g]===void 0&&(At[t][g]={});let v=At[t][g];if(v===void 0||v.targets===void 0||v.targets.length<a.length){m.runStep(h);let l=m.state.matrix.clone(),f=Object.assign({},m.blochVectors),s=Object.assign({},m.measuredBits),c=Object.assign({},m.flags);if(At[t][g]={type:"step",step:g,amplitudes:l,targets:a,blochVectors:f,measuredBits:s,flags:c},g===n){let p=On(a,l);y={type:"step",step:g,amplitudes:p,blochVectors:f,measuredBits:s,flags:c}}else y={type:"step",step:g,amplitudes:[],blochVectors:f,measuredBits:s,flags:c}}else y={type:"step",step:g,amplitudes:[],blochVectors:v.blochVectors,measuredBits:v.measuredBits,flags:v.flags},g===n&&(y.amplitudes=On(a,v.amplitudes));self.postMessage(y)}self.postMessage({type:"finish"})}u(bo,"runSimulator");var On=u((e,t)=>e.reduce((r,n)=>{if(n>=t.height)r[n]=[0,0];else{let i=t.element(n,0).value;r[n]=[i.real,i.imag]}return r},{}),"pickTargetAmplitudes");self.addEventListener("message",bo);})();
/*! Bundled license information:

fraction.js/fraction.js:
  (**
   * @license Fraction.js v4.2.0 05/03/2022
   * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
   *
   * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
   * Dual licensed under the MIT or GPL Version 2 licenses.
   **)

react-is/cjs/react-is.production.min.js:
  (**
   * @license React
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/
/*! Bundled license information:

fraction.js/fraction.js:
  (**
   * @license Fraction.js v4.2.0 05/03/2022
   * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
   *
   * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
   * Dual licensed under the MIT or GPL Version 2 licenses.
   **)

react-is/cjs/react-is.production.min.js:
  (**
   * @license React
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/
//# sourceMappingURL=serviceworker.js.map
