(()=>{var Pn=Object.create;var ee=Object.defineProperty;var Tn=Object.getOwnPropertyDescriptor;var Dn=Object.getOwnPropertyNames;var zn=Object.getPrototypeOf,jn=Object.prototype.hasOwnProperty;var Cn=t=>ee(t,"__esModule",{value:!0}),i=(t,e)=>ee(t,"name",{value:e,configurable:!0});var Q=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var $n=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of Dn(e))!jn.call(t,a)&&(r||a!=="default")&&ee(t,a,{get:()=>e[a],enumerable:!(n=Tn(e,a))||n.enumerable});return t},Bt=(t,e)=>$n(Cn(ee(t!=null?Pn(zn(t)):{},"default",!e&&t&&t.__esModule?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var Re=Q(j=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});j.Field=j.MonoidProduct=j.MonoidSum=j.SemigroupProduct=j.SemigroupSum=j.MagmaSub=j.Show=j.Bounded=j.Ord=j.Eq=j.isNumber=void 0;var Zn=i(function(t){return typeof t=="number"},"isNumber");j.isNumber=Zn;j.Eq={equals:function(t,e){return t===e}};j.Ord={equals:j.Eq.equals,compare:function(t,e){return t<e?-1:t>e?1:0}};j.Bounded={equals:j.Eq.equals,compare:j.Ord.compare,top:1/0,bottom:-1/0};j.Show={show:function(t){return JSON.stringify(t)}};j.MagmaSub={concat:function(t,e){return t-e}};j.SemigroupSum={concat:function(t,e){return t+e}};j.SemigroupProduct={concat:function(t,e){return t*e}};j.MonoidSum={concat:j.SemigroupSum.concat,empty:0};j.MonoidProduct={concat:j.SemigroupProduct.concat,empty:1};j.Field={add:j.SemigroupSum.concat,zero:0,mul:j.SemigroupProduct.concat,one:1,sub:j.MagmaSub.concat,degree:function(t){return 1},div:function(t,e){return t/e},mod:function(t,e){return t%e}}});var st=Q(W=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});W.getEndomorphismMonoid=W.not=W.SK=W.hole=W.pipe=W.untupled=W.tupled=W.absurd=W.decrement=W.increment=W.tuple=W.flow=W.flip=W.constVoid=W.constUndefined=W.constNull=W.constFalse=W.constTrue=W.constant=W.unsafeCoerce=W.identity=W.apply=W.getRing=W.getSemiring=W.getMonoid=W.getSemigroup=W.getBooleanAlgebra=void 0;var kn=i(function(t){return function(){return{meet:function(e,r){return function(n){return t.meet(e(n),r(n))}},join:function(e,r){return function(n){return t.join(e(n),r(n))}},zero:function(){return t.zero},one:function(){return t.one},implies:function(e,r){return function(n){return t.implies(e(n),r(n))}},not:function(e){return function(r){return t.not(e(r))}}}}},"getBooleanAlgebra");W.getBooleanAlgebra=kn;var Kn=i(function(t){return function(){return{concat:function(e,r){return function(n){return t.concat(e(n),r(n))}}}}},"getSemigroup");W.getSemigroup=Kn;var Vn=i(function(t){var e=W.getSemigroup(t);return function(){return{concat:e().concat,empty:function(){return t.empty}}}},"getMonoid");W.getMonoid=Vn;var Hn=i(function(t){return{add:function(e,r){return function(n){return t.add(e(n),r(n))}},zero:function(){return t.zero},mul:function(e,r){return function(n){return t.mul(e(n),r(n))}},one:function(){return t.one}}},"getSemiring");W.getSemiring=Hn;var Gn=i(function(t){var e=W.getSemiring(t);return{add:e.add,mul:e.mul,one:e.one,zero:e.zero,sub:function(r,n){return function(a){return t.sub(r(a),n(a))}}}},"getRing");W.getRing=Gn;var Xn=i(function(t){return function(e){return e(t)}},"apply");W.apply=Xn;function we(t){return t}i(we,"identity");W.identity=we;W.unsafeCoerce=we;function Lt(t){return function(){return t}}i(Lt,"constant");W.constant=Lt;W.constTrue=Lt(!0);W.constFalse=Lt(!1);W.constNull=Lt(null);W.constUndefined=Lt(void 0);W.constVoid=W.constUndefined;function Qn(t){return function(e,r){return t(r,e)}}i(Qn,"flip");W.flip=Qn;function Er(t,e,r,n,a,c,h,y,M){switch(arguments.length){case 1:return t;case 2:return function(){return e(t.apply(this,arguments))};case 3:return function(){return r(e(t.apply(this,arguments)))};case 4:return function(){return n(r(e(t.apply(this,arguments))))};case 5:return function(){return a(n(r(e(t.apply(this,arguments)))))};case 6:return function(){return c(a(n(r(e(t.apply(this,arguments))))))};case 7:return function(){return h(c(a(n(r(e(t.apply(this,arguments)))))))};case 8:return function(){return y(h(c(a(n(r(e(t.apply(this,arguments))))))))};case 9:return function(){return M(y(h(c(a(n(r(e(t.apply(this,arguments)))))))))}}}i(Er,"flow");W.flow=Er;function Yn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t}i(Yn,"tuple");W.tuple=Yn;function Jn(t){return t+1}i(Jn,"increment");W.increment=Jn;function ti(t){return t-1}i(ti,"decrement");W.decrement=ti;function _r(t){throw new Error("Called `absurd` function which should be uncallable")}i(_r,"absurd");W.absurd=_r;function ei(t){return function(e){return t.apply(void 0,e)}}i(ei,"tupled");W.tupled=ei;function ri(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t(e)}}i(ri,"untupled");W.untupled=ri;function ni(t,e,r,n,a,c,h,y,M){switch(arguments.length){case 1:return t;case 2:return e(t);case 3:return r(e(t));case 4:return n(r(e(t)));case 5:return a(n(r(e(t))));case 6:return c(a(n(r(e(t)))));case 7:return h(c(a(n(r(e(t))))));case 8:return y(h(c(a(n(r(e(t)))))));case 9:return M(y(h(c(a(n(r(e(t))))))));default:for(var q=arguments[0],F=1;F<arguments.length;F++)q=arguments[F](q);return q}}i(ni,"pipe");W.pipe=ni;W.hole=_r;var ii=i(function(t,e){return e},"SK");W.SK=ii;function ai(t){return function(e){return!t(e)}}i(ai,"not");W.not=ai;var ui=i(function(){return{concat:function(t,e){return Er(t,e)},empty:we}},"getEndomorphismMonoid");W.getEndomorphismMonoid=ui});var Pt=Q(tt=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0});tt.sequenceS=tt.sequenceT=tt.getApplySemigroup=tt.apS=tt.apSecond=tt.apFirst=tt.ap=void 0;var oi=st();function ci(t,e){return function(r){return function(n){return t.ap(t.map(n,function(a){return function(c){return e.ap(a,c)}}),r)}}}i(ci,"ap");tt.ap=ci;function fi(t){return function(e){return function(r){return t.ap(t.map(r,function(n){return function(){return n}}),e)}}}i(fi,"apFirst");tt.apFirst=fi;function si(t){return function(e){return function(r){return t.ap(t.map(r,function(){return function(n){return n}}),e)}}}i(si,"apSecond");tt.apSecond=si;function li(t){return function(e,r){return function(n){return t.ap(t.map(n,function(a){return function(c){var h;return Object.assign({},a,(h={},h[e]=c,h))}}),r)}}}i(li,"apS");tt.apS=li;function hi(t){return function(e){return{concat:function(r,n){return t.ap(t.map(r,function(a){return function(c){return e.concat(a,c)}}),n)}}}}i(hi,"getApplySemigroup");tt.getApplySemigroup=hi;function Ee(t,e,r){return function(n){for(var a=Array(r.length+1),c=0;c<r.length;c++)a[c]=r[c];return a[r.length]=n,e===0?t.apply(null,a):Ee(t,e-1,a)}}i(Ee,"curried");var Ae={1:function(t){return[t]},2:function(t){return function(e){return[t,e]}},3:function(t){return function(e){return function(r){return[t,e,r]}}},4:function(t){return function(e){return function(r){return function(n){return[t,e,r,n]}}}},5:function(t){return function(e){return function(r){return function(n){return function(a){return[t,e,r,n,a]}}}}}};function pi(t){return Ae.hasOwnProperty(t)||(Ae[t]=Ee(oi.tuple,t-1,[])),Ae[t]}i(pi,"getTupleConstructor");function di(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];for(var n=e.length,a=pi(n),c=t.map(e[0],a),h=1;h<n;h++)c=t.ap(c,e[h]);return c}}i(di,"sequenceT");tt.sequenceT=di;function vi(t){var e=t.length;switch(e){case 1:return function(r){var n;return n={},n[t[0]]=r,n};case 2:return function(r){return function(n){var a;return a={},a[t[0]]=r,a[t[1]]=n,a}};case 3:return function(r){return function(n){return function(a){var c;return c={},c[t[0]]=r,c[t[1]]=n,c[t[2]]=a,c}}};case 4:return function(r){return function(n){return function(a){return function(c){var h;return h={},h[t[0]]=r,h[t[1]]=n,h[t[2]]=a,h[t[3]]=c,h}}}};case 5:return function(r){return function(n){return function(a){return function(c){return function(h){var y;return y={},y[t[0]]=r,y[t[1]]=n,y[t[2]]=a,y[t[3]]=c,y[t[4]]=h,y}}}}};default:return Ee(function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];for(var a={},c=0;c<e;c++)a[t[c]]=r[c];return a},e-1,[])}}i(vi,"getRecordConstructor");function mi(t){return function(e){for(var r=Object.keys(e),n=r.length,a=vi(r),c=t.map(e[r[0]],a),h=1;h<n;h++)c=t.ap(c,e[r[h]]);return c}}i(mi,"sequenceS");tt.sequenceS=mi});var Tt=Q(_t=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});_t.bind=_t.chainFirst=void 0;function gi(t){return function(e){return function(r){return t.chain(r,function(n){return t.map(e(n),function(){return n})})}}}i(gi,"chainFirst");_t.chainFirst=gi;function yi(t){return function(e,r){return function(n){return t.chain(n,function(a){return t.map(r(a),function(c){var h;return Object.assign({},a,(h={},h[e]=c,h))})})}}}i(yi,"bind");_t.bind=yi});var gt=Q(L=>{"use strict";var Ii=L&&L.__spreadArray||function(t,e){for(var r=0,n=e.length,a=t.length;r<n;r++,a++)t[a]=e[r];return t};Object.defineProperty(L,"__esModule",{value:!0});L.fromReadonlyNonEmptyArray=L.has=L.emptyRecord=L.emptyReadonlyArray=L.tail=L.head=L.isNonEmpty=L.singleton=L.right=L.left=L.isRight=L.isLeft=L.some=L.none=L.isSome=L.isNone=void 0;var xi=i(function(t){return t._tag==="None"},"isNone");L.isNone=xi;var bi=i(function(t){return t._tag==="Some"},"isSome");L.isSome=bi;L.none={_tag:"None"};var Mi=i(function(t){return{_tag:"Some",value:t}},"some");L.some=Mi;var Wi=i(function(t){return t._tag==="Left"},"isLeft");L.isLeft=Wi;var Ri=i(function(t){return t._tag==="Right"},"isRight");L.isRight=Ri;var wi=i(function(t){return{_tag:"Left",left:t}},"left");L.left=wi;var Ai=i(function(t){return{_tag:"Right",right:t}},"right");L.right=Ai;var Ei=i(function(t){return[t]},"singleton");L.singleton=Ei;var _i=i(function(t){return t.length>0},"isNonEmpty");L.isNonEmpty=_i;var Si=i(function(t){return t[0]},"head");L.head=Si;var qi=i(function(t){return t.slice(1)},"tail");L.tail=qi;L.emptyReadonlyArray=[];L.emptyRecord={};L.has=Object.prototype.hasOwnProperty;var Oi=i(function(t){return Ii([t[0]],t.slice(1))},"fromReadonlyNonEmptyArray");L.fromReadonlyNonEmptyArray=Oi});var _e=Q(X=>{"use strict";var Ui=X&&X.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ni=X&&X.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Fi=X&&X.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Ui(e,t,r);return Ni(e,t),e};Object.defineProperty(X,"__esModule",{value:!0});X.filterOrElse=X.chainEitherK=X.fromEitherK=X.chainOptionK=X.fromOptionK=X.fromPredicate=X.fromOption=void 0;var Sr=st(),bt=Fi(gt());function qr(t){return function(e){return function(r){return t.fromEither(bt.isNone(r)?bt.left(e()):bt.right(r.value))}}}i(qr,"fromOption");X.fromOption=qr;function Bi(t){return function(e,r){return function(n){return t.fromEither(e(n)?bt.right(n):bt.left(r(n)))}}}i(Bi,"fromPredicate");X.fromPredicate=Bi;function Or(t){var e=qr(t);return function(r){var n=e(r);return function(a){return Sr.flow(a,n)}}}i(Or,"fromOptionK");X.fromOptionK=Or;function Li(t,e){var r=Or(t);return function(n){var a=r(n);return function(c){return function(h){return e.chain(h,a(c))}}}}i(Li,"chainOptionK");X.chainOptionK=Li;function Ur(t){return function(e){return Sr.flow(e,t.fromEither)}}i(Ur,"fromEitherK");X.fromEitherK=Ur;function Pi(t,e){var r=Ur(t);return function(n){return function(a){return e.chain(a,r(n))}}}i(Pi,"chainEitherK");X.chainEitherK=Pi;function Ti(t,e){return function(r,n){return function(a){return e.chain(a,function(c){return t.fromEither(r(c)?bt.right(c):bt.left(n(c)))})}}}i(Ti,"filterOrElse");X.filterOrElse=Ti});var St=Q(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});mt.getFunctorComposition=mt.bindTo=mt.flap=mt.map=void 0;var Di=st();function Nr(t,e){return function(r){return function(n){return t.map(n,function(a){return e.map(a,r)})}}}i(Nr,"map");mt.map=Nr;function zi(t){return function(e){return function(r){return t.map(r,function(n){return n(e)})}}}i(zi,"flap");mt.flap=zi;function ji(t){return function(e){return function(r){return t.map(r,function(n){var a;return a={},a[e]=n,a})}}}i(ji,"bindTo");mt.bindTo=ji;function Ci(t,e){var r=Nr(t,e);return{map:function(n,a){return Di.pipe(n,r(a))}}}i(Ci,"getFunctorComposition");mt.getFunctorComposition=Ci});var re=Q(_=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0});_.eqDate=_.eqNumber=_.eqString=_.eqBoolean=_.eq=_.strictEqual=_.getStructEq=_.getTupleEq=_.Contravariant=_.getMonoid=_.getSemigroup=_.eqStrict=_.URI=_.contramap=_.tuple=_.struct=_.fromEquals=void 0;var $i=st(),Zi=i(function(t){return{equals:function(e,r){return e===r||t(e,r)}}},"fromEquals");_.fromEquals=Zi;var ki=i(function(t){return _.fromEquals(function(e,r){for(var n in t)if(!t[n].equals(e[n],r[n]))return!1;return!0})},"struct");_.struct=ki;var Ki=i(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return _.fromEquals(function(r,n){return t.every(function(a,c){return a.equals(r[c],n[c])})})},"tuple");_.tuple=Ki;var Vi=i(function(t,e){return $i.pipe(t,_.contramap(e))},"contramap_"),Hi=i(function(t){return function(e){return _.fromEquals(function(r,n){return e.equals(t(r),t(n))})}},"contramap");_.contramap=Hi;_.URI="Eq";_.eqStrict={equals:function(t,e){return t===e}};var Gi={equals:function(){return!0}},Xi=i(function(){return{concat:function(t,e){return _.fromEquals(function(r,n){return t.equals(r,n)&&e.equals(r,n)})}}},"getSemigroup");_.getSemigroup=Xi;var Qi=i(function(){return{concat:_.getSemigroup().concat,empty:Gi}},"getMonoid");_.getMonoid=Qi;_.Contravariant={URI:_.URI,contramap:Vi};_.getTupleEq=_.tuple;_.getStructEq=_.struct;_.strictEqual=_.eqStrict.equals;_.eq=_.Contravariant;_.eqBoolean=_.eqStrict;_.eqString=_.eqStrict;_.eqNumber=_.eqStrict;_.eqDate={equals:function(t,e){return t.valueOf()===e.valueOf()}}});var Dt=Q(x=>{"use strict";Object.defineProperty(x,"__esModule",{value:!0});x.ordDate=x.ordNumber=x.ordString=x.ordBoolean=x.ord=x.getDualOrd=x.getTupleOrd=x.between=x.clamp=x.max=x.min=x.geq=x.leq=x.gt=x.lt=x.equals=x.trivial=x.Contravariant=x.getMonoid=x.getSemigroup=x.URI=x.contramap=x.reverse=x.tuple=x.fromCompare=x.equalsDefault=void 0;var Yi=re(),ne=st(),Ji=i(function(t){return function(e,r){return e===r||t(e,r)===0}},"equalsDefault");x.equalsDefault=Ji;var ta=i(function(t){return{equals:x.equalsDefault(t),compare:function(e,r){return e===r?0:t(e,r)}}},"fromCompare");x.fromCompare=ta;var ea=i(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return x.fromCompare(function(r,n){for(var a=0;a<t.length-1;a++){var c=t[a].compare(r[a],n[a]);if(c!==0)return c}return t[a].compare(r[a],n[a])})},"tuple");x.tuple=ea;var ra=i(function(t){return x.fromCompare(function(e,r){return t.compare(r,e)})},"reverse");x.reverse=ra;var na=i(function(t,e){return ne.pipe(t,x.contramap(e))},"contramap_"),ia=i(function(t){return function(e){return x.fromCompare(function(r,n){return e.compare(t(r),t(n))})}},"contramap");x.contramap=ia;x.URI="Ord";var aa=i(function(){return{concat:function(t,e){return x.fromCompare(function(r,n){var a=t.compare(r,n);return a!==0?a:e.compare(r,n)})}}},"getSemigroup");x.getSemigroup=aa;var ua=i(function(){return{concat:x.getSemigroup().concat,empty:x.fromCompare(function(){return 0})}},"getMonoid");x.getMonoid=ua;x.Contravariant={URI:x.URI,contramap:na};x.trivial={equals:ne.constTrue,compare:ne.constant(0)};var oa=i(function(t){return function(e){return function(r){return r===e||t.compare(r,e)===0}}},"equals");x.equals=oa;var ca=i(function(t){return function(e,r){return t.compare(e,r)===-1}},"lt");x.lt=ca;var fa=i(function(t){return function(e,r){return t.compare(e,r)===1}},"gt");x.gt=fa;var sa=i(function(t){return function(e,r){return t.compare(e,r)!==1}},"leq");x.leq=sa;var la=i(function(t){return function(e,r){return t.compare(e,r)!==-1}},"geq");x.geq=la;var ha=i(function(t){return function(e,r){return e===r||t.compare(e,r)<1?e:r}},"min");x.min=ha;var pa=i(function(t){return function(e,r){return e===r||t.compare(e,r)>-1?e:r}},"max");x.max=pa;var da=i(function(t){var e=x.min(t),r=x.max(t);return function(n,a){return function(c){return r(e(c,a),n)}}},"clamp");x.clamp=da;var va=i(function(t){var e=x.lt(t),r=x.gt(t);return function(n,a){return function(c){return!(e(c,n)||r(c,a))}}},"between");x.between=va;x.getTupleOrd=x.tuple;x.getDualOrd=x.reverse;x.ord=x.Contravariant;function ma(t,e){return t<e?-1:t>e?1:0}i(ma,"compare");var Se={equals:Yi.eqStrict.equals,compare:ma};x.ordBoolean=Se;x.ordString=Se;x.ordNumber=Se;x.ordDate=ne.pipe(x.ordNumber,x.contramap(function(t){return t.valueOf()}))});var Fr=Q(lt=>{"use strict";Object.defineProperty(lt,"__esModule",{value:!0});lt.concatAll=lt.endo=lt.filterSecond=lt.filterFirst=lt.reverse=void 0;var ga=i(function(t){return{concat:function(e,r){return t.concat(r,e)}}},"reverse");lt.reverse=ga;var ya=i(function(t){return function(e){return{concat:function(r,n){return t(r)?e.concat(r,n):n}}}},"filterFirst");lt.filterFirst=ya;var Ia=i(function(t){return function(e){return{concat:function(r,n){return t(n)?e.concat(r,n):r}}}},"filterSecond");lt.filterSecond=Ia;var xa=i(function(t){return function(e){return{concat:function(r,n){return e.concat(t(r),t(n))}}}},"endo");lt.endo=xa;var ba=i(function(t){return function(e){return function(r){return r.reduce(function(n,a){return t.concat(n,a)},e)}}},"concatAll");lt.concatAll=ba});var Tr=Q(b=>{"use strict";var Ma=b&&b.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Wa=b&&b.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),qe=b&&b.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Ma(e,t,r);return Wa(e,t),e};Object.defineProperty(b,"__esModule",{value:!0});b.semigroupProduct=b.semigroupSum=b.semigroupString=b.getFunctionSemigroup=b.semigroupAny=b.semigroupAll=b.fold=b.getIntercalateSemigroup=b.getMeetSemigroup=b.getJoinSemigroup=b.getDualSemigroup=b.getStructSemigroup=b.getTupleSemigroup=b.getFirstSemigroup=b.getLastSemigroup=b.getObjectSemigroup=b.semigroupVoid=b.concatAll=b.last=b.first=b.intercalate=b.tuple=b.struct=b.reverse=b.constant=b.max=b.min=void 0;var Br=st(),Ra=qe(gt()),Lr=qe(Fr()),Pr=qe(Dt()),wa=i(function(t){return{concat:Pr.min(t)}},"min");b.min=wa;var Aa=i(function(t){return{concat:Pr.max(t)}},"max");b.max=Aa;var Ea=i(function(t){return{concat:function(){return t}}},"constant");b.constant=Ea;b.reverse=Lr.reverse;var _a=i(function(t){return{concat:function(e,r){var n={};for(var a in t)Ra.has.call(t,a)&&(n[a]=t[a].concat(e[a],r[a]));return n}}},"struct");b.struct=_a;var Sa=i(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return{concat:function(r,n){return t.map(function(a,c){return a.concat(r[c],n[c])})}}},"tuple");b.tuple=Sa;var qa=i(function(t){return function(e){return{concat:function(r,n){return e.concat(r,e.concat(t,n))}}}},"intercalate");b.intercalate=qa;var Oa=i(function(){return{concat:Br.identity}},"first");b.first=Oa;var Ua=i(function(){return{concat:function(t,e){return e}}},"last");b.last=Ua;b.concatAll=Lr.concatAll;b.semigroupVoid=b.constant(void 0);var Na=i(function(){return{concat:function(t,e){return Object.assign({},t,e)}}},"getObjectSemigroup");b.getObjectSemigroup=Na;b.getLastSemigroup=b.last;b.getFirstSemigroup=b.first;b.getTupleSemigroup=b.tuple;b.getStructSemigroup=b.struct;b.getDualSemigroup=b.reverse;b.getJoinSemigroup=b.max;b.getMeetSemigroup=b.min;b.getIntercalateSemigroup=b.intercalate;function Fa(t){var e=b.concatAll(t);return function(r,n){return n===void 0?e(r):e(r)(n)}}i(Fa,"fold");b.fold=Fa;b.semigroupAll={concat:function(t,e){return t&&e}};b.semigroupAny={concat:function(t,e){return t||e}};b.getFunctionSemigroup=Br.getSemigroup;b.semigroupString={concat:function(t,e){return t+e}};b.semigroupSum={concat:function(t,e){return t+e}};b.semigroupProduct={concat:function(t,e){return t*e}}});var ie=Q(s=>{"use strict";var Ba=s&&s.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),La=s&&s.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Dr=s&&s.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Ba(e,t,r);return La(e,t),e},zt=s&&s.__spreadArray||function(t,e){for(var r=0,n=e.length,a=t.length;r<n;r++,a++)t[a]=e[r];return t};Object.defineProperty(s,"__esModule",{value:!0});s.reduceRight=s.foldMap=s.reduce=s.mapWithIndex=s.map=s.flatten=s.duplicate=s.extend=s.chain=s.ap=s.alt=s.altW=s.of=s.chunksOf=s.splitAt=s.chop=s.chainWithIndex=s.intersperse=s.prependAll=s.unzip=s.zip=s.zipWith=s.modifyAt=s.updateAt=s.sort=s.groupBy=s.group=s.reverse=s.concat=s.concatW=s.fromArray=s.unappend=s.unprepend=s.range=s.replicate=s.makeBy=s.fromReadonlyArray=s.rotate=s.union=s.sortBy=s.uniq=s.unsafeUpdateAt=s.unsafeInsertAt=s.append=s.appendW=s.prepend=s.prependW=s.isOutOfBound=s.isNonEmpty=s.empty=void 0;s.uncons=s.filterWithIndex=s.filter=s.groupSort=s.updateLast=s.modifyLast=s.updateHead=s.modifyHead=s.matchRight=s.matchLeft=s.concatAll=s.max=s.min=s.init=s.last=s.tail=s.head=s.apS=s.bind=s.bindTo=s.Do=s.Comonad=s.Alt=s.TraversableWithIndex=s.Traversable=s.FoldableWithIndex=s.Foldable=s.Monad=s.chainFirst=s.Chain=s.Applicative=s.apSecond=s.apFirst=s.Apply=s.FunctorWithIndex=s.Pointed=s.flap=s.Functor=s.getUnionSemigroup=s.getEq=s.getSemigroup=s.getShow=s.URI=s.extract=s.traverseWithIndex=s.sequence=s.traverse=s.reduceRightWithIndex=s.foldMapWithIndex=s.reduceWithIndex=void 0;s.readonlyNonEmptyArray=s.fold=s.prependToAll=s.insertAt=s.snoc=s.cons=s.unsnoc=void 0;var Oe=Pt(),zr=Tt(),Pa=re(),K=st(),jr=St(),rt=Dr(gt()),Ta=Dt(),Cr=Dr(Tr());s.empty=rt.emptyReadonlyArray;s.isNonEmpty=rt.isNonEmpty;var Da=i(function(t,e){return t<0||t>=e.length},"isOutOfBound");s.isOutOfBound=Da;var za=i(function(t){return function(e){return zt([t],e)}},"prependW");s.prependW=za;s.prepend=s.prependW;var ja=i(function(t){return function(e){return zt(zt([],e),[t])}},"appendW");s.appendW=ja;s.append=s.appendW;var Ca=i(function(t,e,r){if(s.isNonEmpty(r)){var n=rt.fromReadonlyNonEmptyArray(r);return n.splice(t,0,e),n}return[e]},"unsafeInsertAt");s.unsafeInsertAt=Ca;var $a=i(function(t,e,r){if(r[t]===e)return r;var n=rt.fromReadonlyNonEmptyArray(r);return n[t]=e,n},"unsafeUpdateAt");s.unsafeUpdateAt=$a;var Za=i(function(t){return function(e){if(e.length===1)return e;for(var r=[s.head(e)],n=s.tail(e),a=i(function(M){r.every(function(q){return!t.equals(q,M)})&&r.push(M)},"_loop_1"),c=0,h=n;c<h.length;c++){var y=h[c];a(y)}return r}},"uniq");s.uniq=Za;var ka=i(function(t){if(s.isNonEmpty(t)){var e=Ta.getMonoid();return s.sort(t.reduce(e.concat,e.empty))}return K.identity},"sortBy");s.sortBy=ka;var Ka=i(function(t){var e=s.uniq(t);return function(r){return function(n){return e(K.pipe(n,jt(r)))}}},"union");s.union=Ka;var Va=i(function(t){return function(e){var r=e.length,n=Math.round(t)%r;if(s.isOutOfBound(Math.abs(n),e)||n===0)return e;if(n<0){var a=s.splitAt(-n)(e),c=a[0],h=a[1];return K.pipe(h,jt(c))}else return s.rotate(n-r)(e)}},"rotate");s.rotate=Va;var Ha=i(function(t){return s.isNonEmpty(t)?rt.some(t):rt.none},"fromReadonlyArray");s.fromReadonlyArray=Ha;var Ga=i(function(t){return function(e){for(var r=Math.max(0,Math.floor(e)),n=[t(0)],a=1;a<r;a++)n.push(t(a));return n}},"makeBy");s.makeBy=Ga;var Xa=i(function(t){return s.makeBy(function(){return t})},"replicate");s.replicate=Xa;var Qa=i(function(t,e){return t<=e?s.makeBy(function(r){return t+r})(e-t+1):[t]},"range");s.range=Qa;var Ya=i(function(t){return[s.head(t),s.tail(t)]},"unprepend");s.unprepend=Ya;var Ja=i(function(t){return[s.init(t),s.last(t)]},"unappend");s.unappend=Ja;var tu=i(function(t){return s.fromReadonlyArray(t.slice())},"fromArray");s.fromArray=tu;function $r(t){return function(e){return e.concat(t)}}i($r,"concatW");s.concatW=$r;function jt(t,e){return e?t.concat(e):function(r){return r.concat(t)}}i(jt,"concat");s.concat=jt;var eu=i(function(t){return t.length===1?t:zt([s.last(t)],t.slice(0,-1).reverse())},"reverse");s.reverse=eu;function Zr(t){return function(e){var r=e.length;if(r===0)return s.empty;for(var n=[],a=e[0],c=[a],h=1;h<r;h++){var y=e[h];t.equals(y,a)?c.push(y):(n.push(c),a=y,c=[a])}return n.push(c),n}}i(Zr,"group");s.group=Zr;var ru=i(function(t){return function(e){for(var r={},n=0,a=e;n<a.length;n++){var c=a[n],h=t(c);r.hasOwnProperty(h)?r[h].push(c):r[h]=[c]}return r}},"groupBy");s.groupBy=ru;var nu=i(function(t){return function(e){return e.length===1?e:e.slice().sort(t.compare)}},"sort");s.sort=nu;var iu=i(function(t,e){return s.modifyAt(t,function(){return e})},"updateAt");s.updateAt=iu;var au=i(function(t,e){return function(r){return s.isOutOfBound(t,r)?rt.none:rt.some(s.unsafeUpdateAt(t,e(r[t]),r))}},"modifyAt");s.modifyAt=au;var uu=i(function(t,e,r){for(var n=[r(t[0],e[0])],a=Math.min(t.length,e.length),c=1;c<a;c++)n[c]=r(t[c],e[c]);return n},"zipWith");s.zipWith=uu;function kr(t,e){return e===void 0?function(r){return kr(r,t)}:s.zipWith(t,e,function(r,n){return[r,n]})}i(kr,"zip");s.zip=kr;var ou=i(function(t){for(var e=[t[0][0]],r=[t[0][1]],n=1;n<t.length;n++)e[n]=t[n][0],r[n]=t[n][1];return[e,r]},"unzip");s.unzip=ou;var cu=i(function(t){return function(e){for(var r=[t,e[0]],n=1;n<e.length;n++)r.push(t,e[n]);return r}},"prependAll");s.prependAll=cu;var fu=i(function(t){return function(e){var r=s.tail(e);return s.isNonEmpty(r)?K.pipe(r,s.prependAll(t),s.prepend(s.head(e))):e}},"intersperse");s.intersperse=fu;var su=i(function(t){return function(e){for(var r=rt.fromReadonlyNonEmptyArray(t(0,s.head(e))),n=1;n<e.length;n++)r.push.apply(r,t(n,e[n]));return r}},"chainWithIndex");s.chainWithIndex=su;var lu=i(function(t){return function(e){for(var r=t(e),n=r[0],a=r[1],c=[n],h=a;s.isNonEmpty(h);){var y=t(h),M=y[0],q=y[1];c.push(M),h=q}return c}},"chop");s.chop=lu;var hu=i(function(t){return function(e){var r=Math.max(1,t);return r>=e.length?[e,s.empty]:[K.pipe(e.slice(1,r),s.prepend(s.head(e))),e.slice(r)]}},"splitAt");s.splitAt=hu;var pu=i(function(t){return s.chop(s.splitAt(t))},"chunksOf");s.chunksOf=pu;var dt=i(function(t,e){return K.pipe(t,s.map(e))},"_map"),Ue=i(function(t,e){return K.pipe(t,s.mapWithIndex(e))},"_mapWithIndex"),Ct=i(function(t,e){return K.pipe(t,s.ap(e))},"_ap"),Ne=i(function(t,e){return K.pipe(t,s.chain(e))},"_chain"),Kr=i(function(t,e){return K.pipe(t,s.extend(e))},"_extend"),$t=i(function(t,e,r){return K.pipe(t,s.reduce(e,r))},"_reduce"),Zt=i(function(t){var e=s.foldMap(t);return function(r,n){return K.pipe(r,e(n))}},"_foldMap"),kt=i(function(t,e,r){return K.pipe(t,s.reduceRight(e,r))},"_reduceRight"),Fe=i(function(t){var e=s.traverse(t);return function(r,n){return K.pipe(r,e(n))}},"_traverse"),Vr=i(function(t,e){return K.pipe(t,s.alt(e))},"_alt"),Be=i(function(t,e,r){return K.pipe(t,s.reduceWithIndex(e,r))},"_reduceWithIndex"),Le=i(function(t){var e=s.foldMapWithIndex(t);return function(r,n){return K.pipe(r,e(n))}},"_foldMapWithIndex"),Pe=i(function(t,e,r){return K.pipe(t,s.reduceRightWithIndex(e,r))},"_reduceRightWithIndex"),Hr=i(function(t){var e=s.traverseWithIndex(t);return function(r,n){return K.pipe(r,e(n))}},"_traverseWithIndex");s.of=rt.singleton;var du=i(function(t){return function(e){return K.pipe(e,$r(t()))}},"altW");s.altW=du;s.alt=s.altW;var vu=i(function(t){return s.chain(function(e){return K.pipe(t,s.map(e))})},"ap");s.ap=vu;var mu=i(function(t){return s.chainWithIndex(function(e,r){return t(r)})},"chain");s.chain=mu;var gu=i(function(t){return function(e){for(var r=s.tail(e),n=[t(e)];s.isNonEmpty(r);)n.push(t(r)),r=s.tail(r);return n}},"extend");s.extend=gu;s.duplicate=s.extend(K.identity);s.flatten=s.chain(K.identity);var yu=i(function(t){return s.mapWithIndex(function(e,r){return t(r)})},"map");s.map=yu;var Iu=i(function(t){return function(e){for(var r=[t(0,s.head(e))],n=1;n<e.length;n++)r.push(t(n,e[n]));return r}},"mapWithIndex");s.mapWithIndex=Iu;var xu=i(function(t,e){return s.reduceWithIndex(t,function(r,n,a){return e(n,a)})},"reduce");s.reduce=xu;var bu=i(function(t){return function(e){return function(r){return r.slice(1).reduce(function(n,a){return t.concat(n,e(a))},e(r[0]))}}},"foldMap");s.foldMap=bu;var Mu=i(function(t,e){return s.reduceRightWithIndex(t,function(r,n,a){return e(n,a)})},"reduceRight");s.reduceRight=Mu;var Wu=i(function(t,e){return function(r){return r.reduce(function(n,a,c){return e(c,n,a)},t)}},"reduceWithIndex");s.reduceWithIndex=Wu;var Ru=i(function(t){return function(e){return function(r){return r.slice(1).reduce(function(n,a,c){return t.concat(n,e(c+1,a))},e(0,r[0]))}}},"foldMapWithIndex");s.foldMapWithIndex=Ru;var wu=i(function(t,e){return function(r){return r.reduceRight(function(n,a,c){return e(c,a,n)},t)}},"reduceRightWithIndex");s.reduceRightWithIndex=wu;var Au=i(function(t){var e=s.traverseWithIndex(t);return function(r){return e(function(n,a){return r(a)})}},"traverse");s.traverse=Au;var Eu=i(function(t){return s.traverseWithIndex(t)(K.SK)},"sequence");s.sequence=Eu;var _u=i(function(t){return function(e){return function(r){for(var n=t.map(e(0,s.head(r)),s.of),a=1;a<r.length;a++)n=t.ap(t.map(n,function(c){return function(h){return K.pipe(c,s.append(h))}}),e(a,r[a]));return n}}},"traverseWithIndex");s.traverseWithIndex=_u;s.extract=rt.head;s.URI="ReadonlyNonEmptyArray";var Su=i(function(t){return{show:function(e){return"["+e.map(t.show).join(", ")+"]"}}},"getShow");s.getShow=Su;var qu=i(function(){return{concat:jt}},"getSemigroup");s.getSemigroup=qu;var Ou=i(function(t){return Pa.fromEquals(function(e,r){return e.length===r.length&&e.every(function(n,a){return t.equals(n,r[a])})})},"getEq");s.getEq=Ou;var Uu=i(function(t){var e=s.union(t);return{concat:function(r,n){return e(n)(r)}}},"getUnionSemigroup");s.getUnionSemigroup=Uu;s.Functor={URI:s.URI,map:dt};s.flap=jr.flap(s.Functor);s.Pointed={URI:s.URI,of:s.of};s.FunctorWithIndex={URI:s.URI,map:dt,mapWithIndex:Ue};s.Apply={URI:s.URI,map:dt,ap:Ct};s.apFirst=Oe.apFirst(s.Apply);s.apSecond=Oe.apSecond(s.Apply);s.Applicative={URI:s.URI,map:dt,ap:Ct,of:s.of};s.Chain={URI:s.URI,map:dt,ap:Ct,chain:Ne};s.chainFirst=zr.chainFirst(s.Chain);s.Monad={URI:s.URI,map:dt,ap:Ct,of:s.of,chain:Ne};s.Foldable={URI:s.URI,reduce:$t,foldMap:Zt,reduceRight:kt};s.FoldableWithIndex={URI:s.URI,reduce:$t,foldMap:Zt,reduceRight:kt,reduceWithIndex:Be,foldMapWithIndex:Le,reduceRightWithIndex:Pe};s.Traversable={URI:s.URI,map:dt,reduce:$t,foldMap:Zt,reduceRight:kt,traverse:Fe,sequence:s.sequence};s.TraversableWithIndex={URI:s.URI,map:dt,mapWithIndex:Ue,reduce:$t,foldMap:Zt,reduceRight:kt,traverse:Fe,sequence:s.sequence,reduceWithIndex:Be,foldMapWithIndex:Le,reduceRightWithIndex:Pe,traverseWithIndex:Hr};s.Alt={URI:s.URI,map:dt,alt:Vr};s.Comonad={URI:s.URI,map:dt,extend:Kr,extract:s.extract};s.Do=s.of(rt.emptyRecord);s.bindTo=jr.bindTo(s.Functor);s.bind=zr.bind(s.Chain);s.apS=Oe.apS(s.Apply);s.head=s.extract;s.tail=rt.tail;var Nu=i(function(t){return t[t.length-1]},"last");s.last=Nu;var Fu=i(function(t){return t.slice(0,-1)},"init");s.init=Fu;var Bu=i(function(t){var e=Cr.min(t);return function(r){return r.reduce(e.concat)}},"min");s.min=Bu;var Lu=i(function(t){var e=Cr.max(t);return function(r){return r.reduce(e.concat)}},"max");s.max=Lu;var Pu=i(function(t){return function(e){return e.reduce(t.concat)}},"concatAll");s.concatAll=Pu;var Tu=i(function(t){return function(e){return t(s.head(e),s.tail(e))}},"matchLeft");s.matchLeft=Tu;var Du=i(function(t){return function(e){return t(s.init(e),s.last(e))}},"matchRight");s.matchRight=Du;var zu=i(function(t){return function(e){return zt([t(s.head(e))],s.tail(e))}},"modifyHead");s.modifyHead=zu;var ju=i(function(t){return s.modifyHead(function(){return t})},"updateHead");s.updateHead=ju;var Cu=i(function(t){return function(e){return K.pipe(s.init(e),s.append(t(s.last(e))))}},"modifyLast");s.modifyLast=Cu;var $u=i(function(t){return s.modifyLast(function(){return t})},"updateLast");s.updateLast=$u;function Zu(t){var e=s.sort(t),r=Zr(t);return function(n){return s.isNonEmpty(n)?r(e(n)):s.empty}}i(Zu,"groupSort");s.groupSort=Zu;function ku(t){return s.filterWithIndex(function(e,r){return t(r)})}i(ku,"filter");s.filter=ku;var Ku=i(function(t){return function(e){return s.fromReadonlyArray(e.filter(function(r,n){return t(n,r)}))}},"filterWithIndex");s.filterWithIndex=Ku;s.uncons=s.unprepend;s.unsnoc=s.unappend;function Vu(t,e){return e===void 0?s.prepend(t):K.pipe(e,s.prepend(t))}i(Vu,"cons");s.cons=Vu;var Hu=i(function(t,e){return K.pipe(t,jt([e]))},"snoc");s.snoc=Hu;var Gu=i(function(t,e){return function(r){return t<0||t>r.length?rt.none:rt.some(s.unsafeInsertAt(t,e,r))}},"insertAt");s.insertAt=Gu;s.prependToAll=s.prependAll;s.fold=s.concatAll;s.readonlyNonEmptyArray={URI:s.URI,of:s.of,map:dt,mapWithIndex:Ue,ap:Ct,chain:Ne,extend:Kr,extract:s.extract,reduce:$t,foldMap:Zt,reduceRight:kt,traverse:Fe,sequence:s.sequence,reduceWithIndex:Be,foldMapWithIndex:Le,reduceRightWithIndex:Pe,traverseWithIndex:Hr,alt:Vr}});var ke=Q(f=>{"use strict";var Xu=f&&f.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Qu=f&&f.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Gr=f&&f.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Xu(e,t,r);return Qu(e,t),e},Kt=f&&f.__spreadArray||function(t,e){for(var r=0,n=e.length,a=t.length;r<n;r++,a++)t[a]=e[r];return t};Object.defineProperty(f,"__esModule",{value:!0});f.mapWithIndex=f.map=f.flatten=f.duplicate=f.extend=f.chain=f.ap=f.alt=f.altW=f.chunksOf=f.splitAt=f.chop=f.chainWithIndex=f.foldMap=f.foldMapWithIndex=f.intersperse=f.prependAll=f.unzip=f.zip=f.zipWith=f.of=f.copy=f.modifyAt=f.updateAt=f.insertAt=f.sort=f.groupBy=f.group=f.reverse=f.concat=f.concatW=f.unappend=f.unprepend=f.range=f.replicate=f.makeBy=f.fromArray=f.fromReadonlyNonEmptyArray=f.rotate=f.union=f.sortBy=f.uniq=f.unsafeUpdateAt=f.unsafeInsertAt=f.append=f.appendW=f.prepend=f.prependW=f.isOutOfBound=f.isNonEmpty=void 0;f.filterWithIndex=f.filter=f.groupSort=f.updateLast=f.modifyLast=f.updateHead=f.modifyHead=f.matchRight=f.matchLeft=f.concatAll=f.max=f.min=f.init=f.last=f.tail=f.head=f.apS=f.bind=f.bindTo=f.Do=f.Comonad=f.Alt=f.TraversableWithIndex=f.Traversable=f.FoldableWithIndex=f.Foldable=f.Monad=f.chainFirst=f.Chain=f.Applicative=f.apSecond=f.apFirst=f.Apply=f.FunctorWithIndex=f.Pointed=f.flap=f.Functor=f.getUnionSemigroup=f.getEq=f.getSemigroup=f.getShow=f.URI=f.extract=f.traverseWithIndex=f.sequence=f.traverse=f.reduceRightWithIndex=f.reduceRight=f.reduceWithIndex=f.reduce=void 0;f.nonEmptyArray=f.fold=f.prependToAll=f.snoc=f.cons=f.unsnoc=f.uncons=void 0;var Te=Pt(),Xr=Tt(),H=st(),Qr=St(),yt=Gr(gt()),Yu=Dt(),at=Gr(ie()),Ju=i(function(t){return t.length>0},"isNonEmpty");f.isNonEmpty=Ju;var to=i(function(t,e){return t<0||t>=e.length},"isOutOfBound");f.isOutOfBound=to;var eo=i(function(t){return function(e){return Kt([t],e)}},"prependW");f.prependW=eo;f.prepend=f.prependW;var ro=i(function(t){return function(e){return Kt(Kt([],e),[t])}},"appendW");f.appendW=ro;f.append=f.appendW;var no=i(function(t,e,r){if(f.isNonEmpty(r)){var n=f.fromReadonlyNonEmptyArray(r);return n.splice(t,0,e),n}return[e]},"unsafeInsertAt");f.unsafeInsertAt=no;var io=i(function(t,e,r){var n=f.fromReadonlyNonEmptyArray(r);return n[t]=e,n},"unsafeUpdateAt");f.unsafeUpdateAt=io;var ao=i(function(t){return function(e){if(e.length===1)return f.copy(e);for(var r=[f.head(e)],n=f.tail(e),a=i(function(M){r.every(function(q){return!t.equals(q,M)})&&r.push(M)},"_loop_1"),c=0,h=n;c<h.length;c++){var y=h[c];a(y)}return r}},"uniq");f.uniq=ao;var uo=i(function(t){if(f.isNonEmpty(t)){var e=Yu.getMonoid();return f.sort(t.reduce(e.concat,e.empty))}return f.copy},"sortBy");f.sortBy=uo;var oo=i(function(t){var e=f.uniq(t);return function(r){return function(n){return e(H.pipe(n,ae(r)))}}},"union");f.union=oo;var co=i(function(t){return function(e){var r=e.length,n=Math.round(t)%r;if(f.isOutOfBound(Math.abs(n),e)||n===0)return f.copy(e);if(n<0){var a=f.splitAt(-n)(e),c=a[0],h=a[1];return H.pipe(h,ae(c))}else return f.rotate(n-r)(e)}},"rotate");f.rotate=co;f.fromReadonlyNonEmptyArray=yt.fromReadonlyNonEmptyArray;var fo=i(function(t){return f.isNonEmpty(t)?yt.some(t):yt.none},"fromArray");f.fromArray=fo;var so=i(function(t){return function(e){for(var r=Math.max(0,Math.floor(e)),n=[t(0)],a=1;a<r;a++)n.push(t(a));return n}},"makeBy");f.makeBy=so;var lo=i(function(t){return f.makeBy(function(){return t})},"replicate");f.replicate=lo;var ho=i(function(t,e){return t<=e?f.makeBy(function(r){return t+r})(e-t+1):[t]},"range");f.range=ho;var po=i(function(t){return[f.head(t),f.tail(t)]},"unprepend");f.unprepend=po;var vo=i(function(t){return[f.init(t),f.last(t)]},"unappend");f.unappend=vo;function Yr(t){return function(e){return e.concat(t)}}i(Yr,"concatW");f.concatW=Yr;function ae(t,e){return e?t.concat(e):function(r){return r.concat(t)}}i(ae,"concat");f.concat=ae;var mo=i(function(t){return Kt([f.last(t)],t.slice(0,-1).reverse())},"reverse");f.reverse=mo;function Jr(t){return function(e){var r=e.length;if(r===0)return[];for(var n=[],a=e[0],c=[a],h=1;h<r;h++){var y=e[h];t.equals(y,a)?c.push(y):(n.push(c),a=y,c=[a])}return n.push(c),n}}i(Jr,"group");f.group=Jr;var go=i(function(t){return function(e){for(var r={},n=0,a=e;n<a.length;n++){var c=a[n],h=t(c);r.hasOwnProperty(h)?r[h].push(c):r[h]=[c]}return r}},"groupBy");f.groupBy=go;var yo=i(function(t){return function(e){return e.slice().sort(t.compare)}},"sort");f.sort=yo;var Io=i(function(t,e){return function(r){return t<0||t>r.length?yt.none:yt.some(f.unsafeInsertAt(t,e,r))}},"insertAt");f.insertAt=Io;var xo=i(function(t,e){return f.modifyAt(t,function(){return e})},"updateAt");f.updateAt=xo;var bo=i(function(t,e){return function(r){return f.isOutOfBound(t,r)?yt.none:yt.some(f.unsafeUpdateAt(t,e(r[t]),r))}},"modifyAt");f.modifyAt=bo;f.copy=f.fromReadonlyNonEmptyArray;var Mo=i(function(t){return[t]},"of");f.of=Mo;var Wo=i(function(t,e,r){for(var n=[r(t[0],e[0])],a=Math.min(t.length,e.length),c=1;c<a;c++)n[c]=r(t[c],e[c]);return n},"zipWith");f.zipWith=Wo;function tn(t,e){return e===void 0?function(r){return tn(r,t)}:f.zipWith(t,e,function(r,n){return[r,n]})}i(tn,"zip");f.zip=tn;var Ro=i(function(t){for(var e=[t[0][0]],r=[t[0][1]],n=1;n<t.length;n++)e[n]=t[n][0],r[n]=t[n][1];return[e,r]},"unzip");f.unzip=Ro;var wo=i(function(t){return function(e){for(var r=[t,e[0]],n=1;n<e.length;n++)r.push(t,e[n]);return r}},"prependAll");f.prependAll=wo;var Ao=i(function(t){return function(e){var r=f.tail(e);return f.isNonEmpty(r)?H.pipe(r,f.prependAll(t),f.prepend(f.head(e))):f.copy(e)}},"intersperse");f.intersperse=Ao;f.foldMapWithIndex=at.foldMapWithIndex;f.foldMap=at.foldMap;var Eo=i(function(t){return function(e){for(var r=f.fromReadonlyNonEmptyArray(t(0,f.head(e))),n=1;n<e.length;n++)r.push.apply(r,t(n,e[n]));return r}},"chainWithIndex");f.chainWithIndex=Eo;var _o=i(function(t){return function(e){for(var r=t(e),n=r[0],a=r[1],c=[n],h=a;f.isNonEmpty(h);){var y=t(h),M=y[0],q=y[1];c.push(M),h=q}return c}},"chop");f.chop=_o;var So=i(function(t){return function(e){var r=Math.max(1,t);return r>=e.length?[f.copy(e),[]]:[H.pipe(e.slice(1,r),f.prepend(f.head(e))),e.slice(r)]}},"splitAt");f.splitAt=So;var qo=i(function(t){return f.chop(f.splitAt(t))},"chunksOf");f.chunksOf=qo;var vt=i(function(t,e){return H.pipe(t,f.map(e))},"_map"),De=i(function(t,e){return H.pipe(t,f.mapWithIndex(e))},"_mapWithIndex"),Vt=i(function(t,e){return H.pipe(t,f.ap(e))},"_ap"),ze=i(function(t,e){return H.pipe(t,f.chain(e))},"_chain"),en=i(function(t,e){return H.pipe(t,f.extend(e))},"_extend"),Ht=i(function(t,e,r){return H.pipe(t,f.reduce(e,r))},"_reduce"),Gt=i(function(t){var e=f.foldMap(t);return function(r,n){return H.pipe(r,e(n))}},"_foldMap"),Xt=i(function(t,e,r){return H.pipe(t,f.reduceRight(e,r))},"_reduceRight"),je=i(function(t){var e=f.traverse(t);return function(r,n){return H.pipe(r,e(n))}},"_traverse"),rn=i(function(t,e){return H.pipe(t,f.alt(e))},"_alt"),Ce=i(function(t,e,r){return H.pipe(t,f.reduceWithIndex(e,r))},"_reduceWithIndex"),$e=i(function(t){var e=f.foldMapWithIndex(t);return function(r,n){return H.pipe(r,e(n))}},"_foldMapWithIndex"),Ze=i(function(t,e,r){return H.pipe(t,f.reduceRightWithIndex(e,r))},"_reduceRightWithIndex"),nn=i(function(t){var e=f.traverseWithIndex(t);return function(r,n){return H.pipe(r,e(n))}},"_traverseWithIndex"),Oo=i(function(t){return function(e){return H.pipe(e,Yr(t()))}},"altW");f.altW=Oo;f.alt=f.altW;var Uo=i(function(t){return f.chain(function(e){return H.pipe(t,f.map(e))})},"ap");f.ap=Uo;var No=i(function(t){return f.chainWithIndex(function(e,r){return t(r)})},"chain");f.chain=No;var Fo=i(function(t){return function(e){for(var r=f.tail(e),n=[t(e)];f.isNonEmpty(r);)n.push(t(r)),r=f.tail(r);return n}},"extend");f.extend=Fo;f.duplicate=f.extend(H.identity);f.flatten=f.chain(H.identity);var Bo=i(function(t){return f.mapWithIndex(function(e,r){return t(r)})},"map");f.map=Bo;var Lo=i(function(t){return function(e){for(var r=[t(0,f.head(e))],n=1;n<e.length;n++)r.push(t(n,e[n]));return r}},"mapWithIndex");f.mapWithIndex=Lo;f.reduce=at.reduce;f.reduceWithIndex=at.reduceWithIndex;f.reduceRight=at.reduceRight;f.reduceRightWithIndex=at.reduceRightWithIndex;var Po=i(function(t){var e=f.traverseWithIndex(t);return function(r){return e(function(n,a){return r(a)})}},"traverse");f.traverse=Po;var To=i(function(t){return f.traverseWithIndex(t)(function(e,r){return r})},"sequence");f.sequence=To;var Do=i(function(t){return function(e){return function(r){for(var n=t.map(e(0,f.head(r)),f.of),a=1;a<r.length;a++)n=t.ap(t.map(n,function(c){return function(h){return H.pipe(c,f.append(h))}}),e(a,r[a]));return n}}},"traverseWithIndex");f.traverseWithIndex=Do;f.extract=at.head;f.URI="NonEmptyArray";f.getShow=at.getShow;var zo=i(function(){return{concat:ae}},"getSemigroup");f.getSemigroup=zo;f.getEq=at.getEq;var jo=i(function(t){var e=f.union(t);return{concat:function(r,n){return e(n)(r)}}},"getUnionSemigroup");f.getUnionSemigroup=jo;f.Functor={URI:f.URI,map:vt};f.flap=Qr.flap(f.Functor);f.Pointed={URI:f.URI,of:f.of};f.FunctorWithIndex={URI:f.URI,map:vt,mapWithIndex:De};f.Apply={URI:f.URI,map:vt,ap:Vt};f.apFirst=Te.apFirst(f.Apply);f.apSecond=Te.apSecond(f.Apply);f.Applicative={URI:f.URI,map:vt,ap:Vt,of:f.of};f.Chain={URI:f.URI,map:vt,ap:Vt,chain:ze};f.chainFirst=Xr.chainFirst(f.Chain);f.Monad={URI:f.URI,map:vt,ap:Vt,of:f.of,chain:ze};f.Foldable={URI:f.URI,reduce:Ht,foldMap:Gt,reduceRight:Xt};f.FoldableWithIndex={URI:f.URI,reduce:Ht,foldMap:Gt,reduceRight:Xt,reduceWithIndex:Ce,foldMapWithIndex:$e,reduceRightWithIndex:Ze};f.Traversable={URI:f.URI,map:vt,reduce:Ht,foldMap:Gt,reduceRight:Xt,traverse:je,sequence:f.sequence};f.TraversableWithIndex={URI:f.URI,map:vt,mapWithIndex:De,reduce:Ht,foldMap:Gt,reduceRight:Xt,traverse:je,sequence:f.sequence,reduceWithIndex:Ce,foldMapWithIndex:$e,reduceRightWithIndex:Ze,traverseWithIndex:nn};f.Alt={URI:f.URI,map:vt,alt:rn};f.Comonad={URI:f.URI,map:vt,extend:en,extract:f.extract};f.Do=f.of(yt.emptyRecord);f.bindTo=Qr.bindTo(f.Functor);f.bind=Xr.bind(f.Chain);f.apS=Te.apS(f.Apply);f.head=at.head;var Co=i(function(t){return t.slice(1)},"tail");f.tail=Co;f.last=at.last;var $o=i(function(t){return t.slice(0,-1)},"init");f.init=$o;f.min=at.min;f.max=at.max;var Zo=i(function(t){return function(e){return e.reduce(t.concat)}},"concatAll");f.concatAll=Zo;var ko=i(function(t){return function(e){return t(f.head(e),f.tail(e))}},"matchLeft");f.matchLeft=ko;var Ko=i(function(t){return function(e){return t(f.init(e),f.last(e))}},"matchRight");f.matchRight=Ko;var Vo=i(function(t){return function(e){return Kt([t(f.head(e))],f.tail(e))}},"modifyHead");f.modifyHead=Vo;var Ho=i(function(t){return f.modifyHead(function(){return t})},"updateHead");f.updateHead=Ho;var Go=i(function(t){return function(e){return H.pipe(f.init(e),f.append(t(f.last(e))))}},"modifyLast");f.modifyLast=Go;var Xo=i(function(t){return f.modifyLast(function(){return t})},"updateLast");f.updateLast=Xo;function Qo(t){var e=f.sort(t),r=Jr(t);return function(n){return f.isNonEmpty(n)?r(e(n)):[]}}i(Qo,"groupSort");f.groupSort=Qo;function Yo(t){return f.filterWithIndex(function(e,r){return t(r)})}i(Yo,"filter");f.filter=Yo;var Jo=i(function(t){return function(e){return f.fromArray(e.filter(function(r,n){return t(n,r)}))}},"filterWithIndex");f.filterWithIndex=Jo;f.uncons=f.unprepend;f.unsnoc=f.unappend;function tc(t,e){return e===void 0?f.prepend(t):H.pipe(e,f.prepend(t))}i(tc,"cons");f.cons=tc;var ec=i(function(t,e){return H.pipe(t,f.append(e))},"snoc");f.snoc=ec;f.prependToAll=f.prependAll;f.fold=at.concatAll;f.nonEmptyArray={URI:f.URI,of:f.of,map:vt,mapWithIndex:De,ap:Vt,chain:ze,extend:en,extract:f.extract,reduce:Ht,foldMap:Gt,reduceRight:Xt,traverse:je,sequence:f.sequence,reduceWithIndex:Ce,foldMapWithIndex:$e,reduceRightWithIndex:Ze,traverseWithIndex:nn,alt:rn}});var Ve=Q(N=>{"use strict";Object.defineProperty(N,"__esModule",{value:!0});N.right=N.left=N.flap=N.Functor=N.Bifunctor=N.URI=N.bimap=N.mapLeft=N.map=N.separated=void 0;var Ke=st(),rc=St(),nc=i(function(t,e){return{left:t,right:e}},"separated");N.separated=nc;var ic=i(function(t,e){return Ke.pipe(t,N.map(e))},"_map"),ac=i(function(t,e){return Ke.pipe(t,N.mapLeft(e))},"_mapLeft"),uc=i(function(t,e,r){return Ke.pipe(t,N.bimap(e,r))},"_bimap"),oc=i(function(t){return function(e){return N.separated(N.left(e),t(N.right(e)))}},"map");N.map=oc;var cc=i(function(t){return function(e){return N.separated(t(N.left(e)),N.right(e))}},"mapLeft");N.mapLeft=cc;var fc=i(function(t,e){return function(r){return N.separated(t(N.left(r)),e(N.right(r)))}},"bimap");N.bimap=fc;N.URI="Separated";N.Bifunctor={URI:N.URI,mapLeft:ac,bimap:uc};N.Functor={URI:N.URI,map:ic};N.flap=rc.flap(N.Functor);var sc=i(function(t){return t.left},"left");N.left=sc;var lc=i(function(t){return t.right},"right");N.right=lc});var He=Q(ut=>{"use strict";var hc=ut&&ut.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),pc=ut&&ut.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),dc=ut&&ut.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&hc(e,t,r);return pc(e,t),e};Object.defineProperty(ut,"__esModule",{value:!0});ut.filterE=ut.witherDefault=ut.wiltDefault=void 0;var an=dc(gt());function vc(t,e){return function(r){var n=t.traverse(r);return function(a,c){return r.map(n(a,c),e.separate)}}}i(vc,"wiltDefault");ut.wiltDefault=vc;function mc(t,e){return function(r){var n=t.traverse(r);return function(a,c){return r.map(n(a,c),e.compact)}}}i(mc,"witherDefault");ut.witherDefault=mc;function gc(t){return function(e){var r=t.wither(e);return function(n){return function(a){return r(a,function(c){return e.map(n(c),function(h){return h?an.some(c):an.none})})}}}}i(gc,"filterE");ut.filterE=gc});var Ge=Q(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.guard=void 0;function yc(t,e){return function(r){return r?e.of(void 0):t.zero()}}i(yc,"guard");ue.guard=yc});var gn=Q(u=>{"use strict";var Ic=u&&u.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),xc=u&&u.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Xe=u&&u.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Ic(e,t,r);return xc(e,t),e},bc=u&&u.__spreadArray||function(t,e){for(var r=0,n=e.length,a=t.length;r<n;r++,a++)t[a]=e[r];return t};Object.defineProperty(u,"__esModule",{value:!0});u.sort=u.lefts=u.rights=u.reverse=u.modifyAt=u.deleteAt=u.updateAt=u.insertAt=u.findLastIndex=u.findLastMap=u.findLast=u.findFirstMap=u.findFirst=u.findIndex=u.dropLeftWhile=u.dropRight=u.dropLeft=u.spanLeft=u.takeLeftWhile=u.takeRight=u.takeLeft=u.init=u.tail=u.last=u.head=u.lookup=u.isOutOfBound=u.size=u.scanRight=u.scanLeft=u.chainWithIndex=u.foldRight=u.matchRight=u.matchRightW=u.foldLeft=u.matchLeft=u.matchLeftW=u.match=u.matchW=u.fromEither=u.fromOption=u.fromPredicate=u.replicate=u.makeBy=u.appendW=u.append=u.prependW=u.prepend=u.isNonEmpty=u.isEmpty=void 0;u.sequence=u.traverse=u.reduceRightWithIndex=u.reduceRight=u.reduceWithIndex=u.foldMap=u.reduce=u.foldMapWithIndex=u.duplicate=u.extend=u.filterWithIndex=u.partitionMapWithIndex=u.partitionMap=u.partitionWithIndex=u.partition=u.compact=u.filterMap=u.filterMapWithIndex=u.filter=u.separate=u.mapWithIndex=u.map=u.flatten=u.chain=u.ap=u.alt=u.altW=u.zero=u.of=u._chainRecBreadthFirst=u._chainRecDepthFirst=u.difference=u.intersection=u.union=u.concat=u.concatW=u.comprehension=u.fromOptionK=u.chunksOf=u.splitAt=u.chop=u.sortBy=u.uniq=u.elem=u.rotate=u.intersperse=u.prependAll=u.unzip=u.zip=u.zipWith=void 0;u.toArray=u.unsafeDeleteAt=u.unsafeUpdateAt=u.unsafeInsertAt=u.fromEitherK=u.FromEither=u.filterE=u.Witherable=u.ChainRecBreadthFirst=u.chainRecBreadthFirst=u.ChainRecDepthFirst=u.chainRecDepthFirst=u.TraversableWithIndex=u.Traversable=u.FoldableWithIndex=u.Foldable=u.FilterableWithIndex=u.Filterable=u.Compactable=u.Extend=u.Alternative=u.guard=u.Zero=u.Alt=u.Unfoldable=u.chainFirst=u.Monad=u.Chain=u.Applicative=u.apSecond=u.apFirst=u.Apply=u.FunctorWithIndex=u.Pointed=u.flap=u.Functor=u.getDifferenceMagma=u.getIntersectionSemigroup=u.getUnionMonoid=u.getUnionSemigroup=u.getOrd=u.getEq=u.getMonoid=u.getSemigroup=u.getShow=u.URI=u.unfold=u.wilt=u.wither=u.traverseWithIndex=void 0;u.readonlyArray=u.prependToAll=u.snoc=u.cons=u.range=u.apS=u.bind=u.bindTo=u.Do=u.exists=u.some=u.every=u.empty=u.fromArray=void 0;var Qe=Pt(),un=Tt(),Mc=re(),Wc=_e(),z=st(),on=St(),T=Xe(gt()),Rc=Xe(Re()),wc=Dt(),D=Xe(ie()),Ye=Ve(),Je=He(),Ac=Ge(),Ec=i(function(t){return t.length===0},"isEmpty");u.isEmpty=Ec;u.isNonEmpty=D.isNonEmpty;u.prepend=D.prepend;u.prependW=D.prependW;u.append=D.append;u.appendW=D.appendW;var _c=i(function(t,e){return t<=0?u.empty:D.makeBy(e)(t)},"makeBy");u.makeBy=_c;var Sc=i(function(t,e){return u.makeBy(t,function(){return e})},"replicate");u.replicate=Sc;function qc(t){return function(e){return t(e)?[e]:u.empty}}i(qc,"fromPredicate");u.fromPredicate=qc;var Oc=i(function(t){return T.isNone(t)?u.empty:[t.value]},"fromOption");u.fromOption=Oc;var Uc=i(function(t){return T.isLeft(t)?u.empty:[t.right]},"fromEither");u.fromEither=Uc;var Nc=i(function(t,e){return function(r){return u.isNonEmpty(r)?e(r):t()}},"matchW");u.matchW=Nc;u.match=u.matchW;var Fc=i(function(t,e){return function(r){return u.isNonEmpty(r)?e(D.head(r),D.tail(r)):t()}},"matchLeftW");u.matchLeftW=Fc;u.matchLeft=u.matchLeftW;u.foldLeft=u.matchLeft;var Bc=i(function(t,e){return function(r){return u.isNonEmpty(r)?e(D.init(r),D.last(r)):t()}},"matchRightW");u.matchRightW=Bc;u.matchRight=u.matchRightW;u.foldRight=u.matchRight;var Lc=i(function(t){return function(e){if(u.isEmpty(e))return u.empty;for(var r=[],n=0;n<e.length;n++)r.push.apply(r,t(n,e[n]));return r}},"chainWithIndex");u.chainWithIndex=Lc;var Pc=i(function(t,e){return function(r){var n=r.length,a=new Array(n+1);a[0]=t;for(var c=0;c<n;c++)a[c+1]=e(a[c],r[c]);return a}},"scanLeft");u.scanLeft=Pc;var Tc=i(function(t,e){return function(r){var n=r.length,a=new Array(n+1);a[n]=t;for(var c=n-1;c>=0;c--)a[c]=e(r[c],a[c+1]);return a}},"scanRight");u.scanRight=Tc;var Dc=i(function(t){return t.length},"size");u.size=Dc;u.isOutOfBound=D.isOutOfBound;function cn(t,e){return e===void 0?function(r){return cn(t,r)}:u.isOutOfBound(t,e)?T.none:T.some(e[t])}i(cn,"lookup");u.lookup=cn;var zc=i(function(t){return u.isNonEmpty(t)?T.some(D.head(t)):T.none},"head");u.head=zc;var jc=i(function(t){return u.isNonEmpty(t)?T.some(D.last(t)):T.none},"last");u.last=jc;var Cc=i(function(t){return u.isNonEmpty(t)?T.some(D.tail(t)):T.none},"tail");u.tail=Cc;var $c=i(function(t){return u.isNonEmpty(t)?T.some(D.init(t)):T.none},"init");u.init=$c;var Zc=i(function(t){return function(e){return u.isOutOfBound(t,e)?e:t===0?u.empty:e.slice(0,t)}},"takeLeft");u.takeLeft=Zc;var kc=i(function(t){return function(e){return u.isOutOfBound(t,e)?e:t===0?u.empty:e.slice(-t)}},"takeRight");u.takeRight=kc;function Kc(t){return function(e){for(var r=[],n=0,a=e;n<a.length;n++){var c=a[n];if(!t(c))break;r.push(c)}var h=r.length;return h===e.length?e:h===0?u.empty:r}}i(Kc,"takeLeftWhile");u.takeLeftWhile=Kc;var fn=i(function(t,e){for(var r=t.length,n=0;n<r&&e(t[n]);n++);return n},"spanLeftIndex");function Vc(t){return function(e){var r=u.splitAt(fn(e,t))(e),n=r[0],a=r[1];return{init:n,rest:a}}}i(Vc,"spanLeft");u.spanLeft=Vc;var Hc=i(function(t){return function(e){return t<=0||u.isEmpty(e)?e:t>=e.length?u.empty:e.slice(t,e.length)}},"dropLeft");u.dropLeft=Hc;var Gc=i(function(t){return function(e){return t<=0||u.isEmpty(e)?e:t>=e.length?u.empty:e.slice(0,e.length-t)}},"dropRight");u.dropRight=Gc;function Xc(t){return function(e){var r=fn(e,t);return r===0?e:r===e.length?u.empty:e.slice(r)}}i(Xc,"dropLeftWhile");u.dropLeftWhile=Xc;var Qc=i(function(t){return function(e){for(var r=0;r<e.length;r++)if(t(e[r]))return T.some(r);return T.none}},"findIndex");u.findIndex=Qc;function Yc(t){return function(e){for(var r=0;r<e.length;r++)if(t(e[r]))return T.some(e[r]);return T.none}}i(Yc,"findFirst");u.findFirst=Yc;var Jc=i(function(t){return function(e){for(var r=0;r<e.length;r++){var n=t(e[r]);if(T.isSome(n))return n}return T.none}},"findFirstMap");u.findFirstMap=Jc;function tf(t){return function(e){for(var r=e.length-1;r>=0;r--)if(t(e[r]))return T.some(e[r]);return T.none}}i(tf,"findLast");u.findLast=tf;var ef=i(function(t){return function(e){for(var r=e.length-1;r>=0;r--){var n=t(e[r]);if(T.isSome(n))return n}return T.none}},"findLastMap");u.findLastMap=ef;var rf=i(function(t){return function(e){for(var r=e.length-1;r>=0;r--)if(t(e[r]))return T.some(r);return T.none}},"findLastIndex");u.findLastIndex=rf;var nf=i(function(t,e){return function(r){return t<0||t>r.length?T.none:T.some(D.unsafeInsertAt(t,e,r))}},"insertAt");u.insertAt=nf;var af=i(function(t,e){return u.modifyAt(t,function(){return e})},"updateAt");u.updateAt=af;var uf=i(function(t){return function(e){return u.isOutOfBound(t,e)?T.none:T.some(u.unsafeDeleteAt(t,e))}},"deleteAt");u.deleteAt=uf;var of=i(function(t,e){return function(r){return u.isOutOfBound(t,r)?T.none:T.some(u.unsafeUpdateAt(t,e(r[t]),r))}},"modifyAt");u.modifyAt=of;var cf=i(function(t){return t.length<=1?t:t.slice().reverse()},"reverse");u.reverse=cf;var ff=i(function(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];n._tag==="Right"&&e.push(n.right)}return e},"rights");u.rights=ff;var sf=i(function(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];n._tag==="Left"&&e.push(n.left)}return e},"lefts");u.lefts=sf;var lf=i(function(t){return function(e){return e.length<=1?e:e.slice().sort(t.compare)}},"sort");u.sort=lf;var hf=i(function(t,e,r){for(var n=[],a=Math.min(t.length,e.length),c=0;c<a;c++)n[c]=r(t[c],e[c]);return n},"zipWith");u.zipWith=hf;function sn(t,e){return e===void 0?function(r){return sn(r,t)}:u.zipWith(t,e,function(r,n){return[r,n]})}i(sn,"zip");u.zip=sn;var pf=i(function(t){for(var e=[],r=[],n=0;n<t.length;n++)e[n]=t[n][0],r[n]=t[n][1];return[e,r]},"unzip");u.unzip=pf;var df=i(function(t){var e=D.prependAll(t);return function(r){return u.isNonEmpty(r)?e(r):r}},"prependAll");u.prependAll=df;var vf=i(function(t){var e=D.intersperse(t);return function(r){return u.isNonEmpty(r)?e(r):r}},"intersperse");u.intersperse=vf;var mf=i(function(t){var e=D.rotate(t);return function(r){return u.isNonEmpty(r)?e(r):r}},"rotate");u.rotate=mf;function oe(t){return function(e,r){if(r===void 0){var n=oe(t);return function(h){return n(e,h)}}for(var a=i(function(h){return t.equals(h,e)},"predicate"),c=0;c<r.length;c++)if(a(r[c]))return!0;return!1}}i(oe,"elem");u.elem=oe;var gf=i(function(t){var e=D.uniq(t);return function(r){return u.isNonEmpty(r)?e(r):r}},"uniq");u.uniq=gf;var yf=i(function(t){var e=D.sortBy(t);return function(r){return u.isNonEmpty(r)?e(r):r}},"sortBy");u.sortBy=yf;var If=i(function(t){var e=D.chop(t);return function(r){return u.isNonEmpty(r)?e(r):u.empty}},"chop");u.chop=If;var xf=i(function(t){return function(e){return t>=1&&u.isNonEmpty(e)?D.splitAt(t)(e):u.isEmpty(e)?[e,u.empty]:[u.empty,e]}},"splitAt");u.splitAt=xf;var bf=i(function(t){var e=D.chunksOf(t);return function(r){return u.isNonEmpty(r)?e(r):u.empty}},"chunksOf");u.chunksOf=bf;var Mf=i(function(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return u.fromOption(t.apply(void 0,e))}},"fromOptionK");u.fromOptionK=Mf;function Wf(t,e,r){r===void 0&&(r=i(function(){return!0},"g"));var n=i(function(a,c){return u.isNonEmpty(c)?z.pipe(D.head(c),u.chain(function(h){return n(z.pipe(a,u.append(h)),D.tail(c))})):r.apply(void 0,a)?[e.apply(void 0,a)]:u.empty},"go");return n(u.empty,t)}i(Wf,"comprehension");u.comprehension=Wf;var Rf=i(function(t){return function(e){return u.isEmpty(e)?t:u.isEmpty(t)?e:e.concat(t)}},"concatW");u.concatW=Rf;u.concat=u.concatW;function tr(t){var e=D.union(t);return function(r,n){if(n===void 0){var a=tr(t);return function(c){return a(c,r)}}return u.isNonEmpty(r)&&u.isNonEmpty(n)?e(n)(r):u.isNonEmpty(r)?r:n}}i(tr,"union");u.union=tr;function er(t){var e=oe(t);return function(r,n){if(n===void 0){var a=er(t);return function(c){return a(c,r)}}return r.filter(function(c){return e(c,n)})}}i(er,"intersection");u.intersection=er;function rr(t){var e=oe(t);return function(r,n){if(n===void 0){var a=rr(t);return function(c){return a(c,r)}}return r.filter(function(c){return!e(c,n)})}}i(rr,"difference");u.difference=rr;var Y=i(function(t,e){return z.pipe(t,u.map(e))},"_map"),ce=i(function(t,e){return z.pipe(t,u.mapWithIndex(e))},"_mapWithIndex"),It=i(function(t,e){return z.pipe(t,u.ap(e))},"_ap"),Qt=i(function(t,e){return z.pipe(t,u.chain(e))},"_chain"),fe=i(function(t,e){return z.pipe(t,u.filter(e))},"_filter"),se=i(function(t,e){return z.pipe(t,u.filterMap(e))},"_filterMap"),le=i(function(t,e){return z.pipe(t,u.partition(e))},"_partition"),he=i(function(t,e){return z.pipe(t,u.partitionMap(e))},"_partitionMap"),ln=i(function(t,e){return z.pipe(t,u.partitionWithIndex(e))},"_partitionWithIndex"),hn=i(function(t,e){return z.pipe(t,u.partitionMapWithIndex(e))},"_partitionMapWithIndex"),nr=i(function(t,e){return z.pipe(t,u.alt(e))},"_alt"),Mt=i(function(t,e,r){return z.pipe(t,u.reduce(e,r))},"_reduce"),qt=i(function(t){var e=u.foldMap(t);return function(r,n){return z.pipe(r,e(n))}},"_foldMap"),Ot=i(function(t,e,r){return z.pipe(t,u.reduceRight(e,r))},"_reduceRight"),ir=i(function(t,e,r){return z.pipe(t,u.reduceWithIndex(e,r))},"_reduceWithIndex"),ar=i(function(t){var e=u.foldMapWithIndex(t);return function(r,n){return z.pipe(r,e(n))}},"_foldMapWithIndex"),ur=i(function(t,e,r){return z.pipe(t,u.reduceRightWithIndex(e,r))},"_reduceRightWithIndex"),pn=i(function(t,e){return z.pipe(t,u.filterMapWithIndex(e))},"_filterMapWithIndex"),dn=i(function(t,e){return z.pipe(t,u.filterWithIndex(e))},"_filterWithIndex"),vn=i(function(t,e){return z.pipe(t,u.extend(e))},"_extend"),pe=i(function(t){var e=u.traverse(t);return function(r,n){return z.pipe(r,e(n))}},"_traverse"),mn=i(function(t){var e=u.traverseWithIndex(t);return function(r,n){return z.pipe(r,e(n))}},"_traverseWithIndex"),wf=i(function(t,e){return z.pipe(t,u.chainRecDepthFirst(e))},"_chainRecDepthFirst");u._chainRecDepthFirst=wf;var Af=i(function(t,e){return z.pipe(t,u.chainRecBreadthFirst(e))},"_chainRecBreadthFirst");u._chainRecBreadthFirst=Af;u.of=D.of;var Ef=i(function(){return u.empty},"zero");u.zero=Ef;var _f=i(function(t){return function(e){return e.concat(t())}},"altW");u.altW=_f;u.alt=u.altW;var Sf=i(function(t){return u.chain(function(e){return z.pipe(t,u.map(e))})},"ap");u.ap=Sf;var qf=i(function(t){return function(e){return z.pipe(e,u.chainWithIndex(function(r,n){return t(n)}))}},"chain");u.chain=qf;u.flatten=u.chain(z.identity);var Of=i(function(t){return function(e){return e.map(function(r){return t(r)})}},"map");u.map=Of;var Uf=i(function(t){return function(e){return e.map(function(r,n){return t(n,r)})}},"mapWithIndex");u.mapWithIndex=Uf;var Nf=i(function(t){for(var e=[],r=[],n=0,a=t;n<a.length;n++){var c=a[n];c._tag==="Left"?e.push(c.left):r.push(c.right)}return Ye.separated(e,r)},"separate");u.separate=Nf;var Ff=i(function(t){return function(e){return e.filter(t)}},"filter");u.filter=Ff;var Bf=i(function(t){return function(e){for(var r=[],n=0;n<e.length;n++){var a=t(n,e[n]);T.isSome(a)&&r.push(a.value)}return r}},"filterMapWithIndex");u.filterMapWithIndex=Bf;var Lf=i(function(t){return u.filterMapWithIndex(function(e,r){return t(r)})},"filterMap");u.filterMap=Lf;u.compact=u.filterMap(z.identity);var Pf=i(function(t){return u.partitionWithIndex(function(e,r){return t(r)})},"partition");u.partition=Pf;var Tf=i(function(t){return function(e){for(var r=[],n=[],a=0;a<e.length;a++){var c=e[a];t(a,c)?n.push(c):r.push(c)}return Ye.separated(r,n)}},"partitionWithIndex");u.partitionWithIndex=Tf;var Df=i(function(t){return u.partitionMapWithIndex(function(e,r){return t(r)})},"partitionMap");u.partitionMap=Df;var zf=i(function(t){return function(e){for(var r=[],n=[],a=0;a<e.length;a++){var c=t(a,e[a]);c._tag==="Left"?r.push(c.left):n.push(c.right)}return Ye.separated(r,n)}},"partitionMapWithIndex");u.partitionMapWithIndex=zf;var jf=i(function(t){return function(e){return e.filter(function(r,n){return t(n,r)})}},"filterWithIndex");u.filterWithIndex=jf;var Cf=i(function(t){return function(e){return e.map(function(r,n){return t(e.slice(n))})}},"extend");u.extend=Cf;u.duplicate=u.extend(z.identity);var $f=i(function(t){return function(e){return function(r){return r.reduce(function(n,a,c){return t.concat(n,e(c,a))},t.empty)}}},"foldMapWithIndex");u.foldMapWithIndex=$f;var Zf=i(function(t,e){return u.reduceWithIndex(t,function(r,n,a){return e(n,a)})},"reduce");u.reduce=Zf;var kf=i(function(t){var e=u.foldMapWithIndex(t);return function(r){return e(function(n,a){return r(a)})}},"foldMap");u.foldMap=kf;var Kf=i(function(t,e){return function(r){for(var n=r.length,a=t,c=0;c<n;c++)a=e(c,a,r[c]);return a}},"reduceWithIndex");u.reduceWithIndex=Kf;var Vf=i(function(t,e){return u.reduceRightWithIndex(t,function(r,n,a){return e(n,a)})},"reduceRight");u.reduceRight=Vf;var Hf=i(function(t,e){return function(r){return r.reduceRight(function(n,a,c){return e(c,a,n)},t)}},"reduceRightWithIndex");u.reduceRightWithIndex=Hf;var Gf=i(function(t){var e=u.traverseWithIndex(t);return function(r){return e(function(n,a){return r(a)})}},"traverse");u.traverse=Gf;var Xf=i(function(t){return function(e){return Mt(e,t.of(u.zero()),function(r,n){return t.ap(t.map(r,function(a){return function(c){return z.pipe(a,u.append(c))}}),n)})}},"sequence");u.sequence=Xf;var Qf=i(function(t){return function(e){return u.reduceWithIndex(t.of(u.zero()),function(r,n,a){return t.ap(t.map(n,function(c){return function(h){return z.pipe(c,u.append(h))}}),e(r,a))})}},"traverseWithIndex");u.traverseWithIndex=Qf;var Yf=i(function(t){var e=or(t);return function(r){return function(n){return e(n,r)}}},"wither");u.wither=Yf;var Jf=i(function(t){var e=cr(t);return function(r){return function(n){return e(n,r)}}},"wilt");u.wilt=Jf;var ts=i(function(t,e){for(var r=[],n=t;;){var a=e(n);if(T.isSome(a)){var c=a.value,h=c[0],y=c[1];r.push(h),n=y}else break}return r},"unfold");u.unfold=ts;u.URI="ReadonlyArray";var es=i(function(t){return{show:function(e){return"["+e.map(t.show).join(", ")+"]"}}},"getShow");u.getShow=es;var rs=i(function(){return{concat:function(t,e){return u.isEmpty(t)?e:u.isEmpty(e)?t:t.concat(e)}}},"getSemigroup");u.getSemigroup=rs;var ns=i(function(){return{concat:u.getSemigroup().concat,empty:u.empty}},"getMonoid");u.getMonoid=ns;var is=i(function(t){return Mc.fromEquals(function(e,r){return e.length===r.length&&e.every(function(n,a){return t.equals(n,r[a])})})},"getEq");u.getEq=is;var as=i(function(t){return wc.fromCompare(function(e,r){for(var n=e.length,a=r.length,c=Math.min(n,a),h=0;h<c;h++){var y=t.compare(e[h],r[h]);if(y!==0)return y}return Rc.Ord.compare(n,a)})},"getOrd");u.getOrd=as;var us=i(function(t){var e=tr(t);return{concat:function(r,n){return e(n)(r)}}},"getUnionSemigroup");u.getUnionSemigroup=us;var os=i(function(t){return{concat:u.getUnionSemigroup(t).concat,empty:u.empty}},"getUnionMonoid");u.getUnionMonoid=os;var cs=i(function(t){var e=er(t);return{concat:function(r,n){return e(n)(r)}}},"getIntersectionSemigroup");u.getIntersectionSemigroup=cs;var fs=i(function(t){var e=rr(t);return{concat:function(r,n){return e(n)(r)}}},"getDifferenceMagma");u.getDifferenceMagma=fs;u.Functor={URI:u.URI,map:Y};u.flap=on.flap(u.Functor);u.Pointed={URI:u.URI,of:u.of};u.FunctorWithIndex={URI:u.URI,map:Y,mapWithIndex:ce};u.Apply={URI:u.URI,map:Y,ap:It};u.apFirst=Qe.apFirst(u.Apply);u.apSecond=Qe.apSecond(u.Apply);u.Applicative={URI:u.URI,map:Y,ap:It,of:u.of};u.Chain={URI:u.URI,map:Y,ap:It,chain:Qt};u.Monad={URI:u.URI,map:Y,ap:It,of:u.of,chain:Qt};u.chainFirst=un.chainFirst(u.Chain);u.Unfoldable={URI:u.URI,unfold:u.unfold};u.Alt={URI:u.URI,map:Y,alt:nr};u.Zero={URI:u.URI,zero:u.zero};u.guard=Ac.guard(u.Zero,u.Pointed);u.Alternative={URI:u.URI,map:Y,ap:It,of:u.of,alt:nr,zero:u.zero};u.Extend={URI:u.URI,map:Y,extend:vn};u.Compactable={URI:u.URI,compact:u.compact,separate:u.separate};u.Filterable={URI:u.URI,map:Y,compact:u.compact,separate:u.separate,filter:fe,filterMap:se,partition:le,partitionMap:he};u.FilterableWithIndex={URI:u.URI,map:Y,mapWithIndex:ce,compact:u.compact,separate:u.separate,filter:fe,filterMap:se,partition:le,partitionMap:he,partitionMapWithIndex:hn,partitionWithIndex:ln,filterMapWithIndex:pn,filterWithIndex:dn};u.Foldable={URI:u.URI,reduce:Mt,foldMap:qt,reduceRight:Ot};u.FoldableWithIndex={URI:u.URI,reduce:Mt,foldMap:qt,reduceRight:Ot,reduceWithIndex:ir,foldMapWithIndex:ar,reduceRightWithIndex:ur};u.Traversable={URI:u.URI,map:Y,reduce:Mt,foldMap:qt,reduceRight:Ot,traverse:pe,sequence:u.sequence};u.TraversableWithIndex={URI:u.URI,map:Y,mapWithIndex:ce,reduce:Mt,foldMap:qt,reduceRight:Ot,reduceWithIndex:ir,foldMapWithIndex:ar,reduceRightWithIndex:ur,traverse:pe,sequence:u.sequence,traverseWithIndex:mn};var ss=i(function(t){return function(e){for(var r=bc([],t(e)),n=[];r.length>0;){var a=r.shift();T.isLeft(a)?r.unshift.apply(r,t(a.left)):n.push(a.right)}return n}},"chainRecDepthFirst");u.chainRecDepthFirst=ss;u.ChainRecDepthFirst={URI:u.URI,map:Y,ap:It,chain:Qt,chainRec:u._chainRecDepthFirst};var ls=i(function(t){return function(e){var r=t(e),n=[],a=[];function c(q){T.isLeft(q)?t(q.left).forEach(function(F){return n.push(F)}):a.push(q.right)}i(c,"go");for(var h=0,y=r;h<y.length;h++){var M=y[h];c(M)}for(;n.length>0;)c(n.shift());return a}},"chainRecBreadthFirst");u.chainRecBreadthFirst=ls;u.ChainRecBreadthFirst={URI:u.URI,map:Y,ap:It,chain:Qt,chainRec:u._chainRecBreadthFirst};var or=Je.witherDefault(u.Traversable,u.Compactable),cr=Je.wiltDefault(u.Traversable,u.Compactable);u.Witherable={URI:u.URI,map:Y,compact:u.compact,separate:u.separate,filter:fe,filterMap:se,partition:le,partitionMap:he,reduce:Mt,foldMap:qt,reduceRight:Ot,traverse:pe,sequence:u.sequence,wither:or,wilt:cr};u.filterE=Je.filterE(u.Witherable);u.FromEither={URI:u.URI,fromEither:u.fromEither};u.fromEitherK=Wc.fromEitherK(u.FromEither);u.unsafeInsertAt=D.unsafeInsertAt;var hs=i(function(t,e,r){return u.isNonEmpty(r)?D.unsafeUpdateAt(t,e,r):r},"unsafeUpdateAt");u.unsafeUpdateAt=hs;var ps=i(function(t,e){var r=e.slice();return r.splice(t,1),r},"unsafeDeleteAt");u.unsafeDeleteAt=ps;var ds=i(function(t){return t.slice()},"toArray");u.toArray=ds;var vs=i(function(t){return u.isEmpty(t)?u.empty:t.slice()},"fromArray");u.fromArray=vs;u.empty=D.empty;var ms=i(function(t){return function(e){return e.every(t)}},"every");u.every=ms;var gs=i(function(t){return function(e){return e.some(t)}},"some");u.some=gs;u.exists=u.some;u.Do=u.of(T.emptyRecord);u.bindTo=on.bindTo(u.Functor);u.bind=un.bind(u.Chain);u.apS=Qe.apS(u.Apply);u.range=D.range;u.cons=D.cons;u.snoc=D.snoc;u.prependToAll=u.prependAll;u.readonlyArray={URI:u.URI,compact:u.compact,separate:u.separate,map:Y,ap:It,of:u.of,chain:Qt,filter:fe,filterMap:se,partition:le,partitionMap:he,mapWithIndex:ce,partitionMapWithIndex:hn,partitionWithIndex:ln,filterMapWithIndex:pn,filterWithIndex:dn,alt:nr,zero:u.zero,unfold:u.unfold,reduce:Mt,foldMap:qt,reduceRight:Ot,traverse:pe,sequence:u.sequence,reduceWithIndex:ir,foldMapWithIndex:ar,reduceRightWithIndex:ur,traverseWithIndex:mn,extend:vn,wither:or,wilt:cr}});var _n=Q(o=>{"use strict";var ys=o&&o.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Is=o&&o.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),fr=o&&o.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ys(e,t,r);return Is(e,t),e};Object.defineProperty(o,"__esModule",{value:!0});o.lefts=o.rights=o.reverse=o.modifyAt=o.deleteAt=o.updateAt=o.insertAt=o.copy=o.findLastIndex=o.findLastMap=o.findLast=o.findFirstMap=o.findFirst=o.findIndex=o.dropLeftWhile=o.dropRight=o.dropLeft=o.spanLeft=o.takeLeftWhile=o.takeRight=o.takeLeft=o.init=o.tail=o.last=o.head=o.lookup=o.isOutOfBound=o.size=o.scanRight=o.scanLeft=o.chainWithIndex=o.foldRight=o.matchRight=o.matchRightW=o.foldLeft=o.matchLeft=o.matchLeftW=o.match=o.matchW=o.fromEither=o.fromOption=o.fromPredicate=o.replicate=o.makeBy=o.appendW=o.append=o.prependW=o.prepend=o.isNonEmpty=o.isEmpty=void 0;o.traverseWithIndex=o.sequence=o.traverse=o.reduceRightWithIndex=o.reduceRight=o.reduceWithIndex=o.reduce=o.foldMapWithIndex=o.foldMap=o.duplicate=o.extend=o.filterWithIndex=o.alt=o.altW=o.partitionMapWithIndex=o.partitionMap=o.partitionWithIndex=o.partition=o.filter=o.separate=o.compact=o.filterMap=o.filterMapWithIndex=o.mapWithIndex=o.flatten=o.chain=o.ap=o.map=o.zero=o.of=o.difference=o.intersection=o.union=o.concat=o.concatW=o.comprehension=o.fromOptionK=o.chunksOf=o.splitAt=o.chop=o.sortBy=o.uniq=o.elem=o.rotate=o.intersperse=o.prependAll=o.unzip=o.zip=o.zipWith=o.sort=void 0;o.some=o.every=o.unsafeDeleteAt=o.unsafeUpdateAt=o.unsafeInsertAt=o.fromEitherK=o.FromEither=o.filterE=o.ChainRecBreadthFirst=o.chainRecBreadthFirst=o.ChainRecDepthFirst=o.chainRecDepthFirst=o.Witherable=o.TraversableWithIndex=o.Traversable=o.FoldableWithIndex=o.Foldable=o.FilterableWithIndex=o.Filterable=o.Compactable=o.Extend=o.Alternative=o.guard=o.Zero=o.Alt=o.Unfoldable=o.Monad=o.chainFirst=o.Chain=o.Applicative=o.apSecond=o.apFirst=o.Apply=o.FunctorWithIndex=o.Pointed=o.flap=o.Functor=o.getDifferenceMagma=o.getIntersectionSemigroup=o.getUnionMonoid=o.getUnionSemigroup=o.getOrd=o.getEq=o.getMonoid=o.getSemigroup=o.getShow=o.URI=o.unfold=o.wilt=o.wither=void 0;o.array=o.prependToAll=o.snoc=o.cons=o.empty=o.range=o.apS=o.bind=o.bindTo=o.Do=o.exists=void 0;var sr=Pt(),yn=Tt(),xs=_e(),$=st(),In=St(),nt=fr(gt()),Z=fr(ke()),G=fr(gn()),lr=Ve(),hr=He(),bs=Ge(),Ms=i(function(t){return t.length===0},"isEmpty");o.isEmpty=Ms;o.isNonEmpty=Z.isNonEmpty;o.prepend=Z.prepend;o.prependW=Z.prependW;o.append=Z.append;o.appendW=Z.appendW;var Ws=i(function(t,e){return t<=0?[]:Z.makeBy(e)(t)},"makeBy");o.makeBy=Ws;var Rs=i(function(t,e){return o.makeBy(t,function(){return e})},"replicate");o.replicate=Rs;function ws(t){return function(e){return t(e)?[e]:[]}}i(ws,"fromPredicate");o.fromPredicate=ws;var As=i(function(t){return nt.isNone(t)?[]:[t.value]},"fromOption");o.fromOption=As;var Es=i(function(t){return nt.isLeft(t)?[]:[t.right]},"fromEither");o.fromEither=Es;var _s=i(function(t,e){return function(r){return o.isNonEmpty(r)?e(r):t()}},"matchW");o.matchW=_s;o.match=o.matchW;var Ss=i(function(t,e){return function(r){return o.isNonEmpty(r)?e(Z.head(r),Z.tail(r)):t()}},"matchLeftW");o.matchLeftW=Ss;o.matchLeft=o.matchLeftW;o.foldLeft=o.matchLeft;var qs=i(function(t,e){return function(r){return o.isNonEmpty(r)?e(Z.init(r),Z.last(r)):t()}},"matchRightW");o.matchRightW=qs;o.matchRight=o.matchRightW;o.foldRight=o.matchRight;var Os=i(function(t){return function(e){for(var r=[],n=0;n<e.length;n++)r.push.apply(r,t(n,e[n]));return r}},"chainWithIndex");o.chainWithIndex=Os;var Us=i(function(t,e){return function(r){var n=r.length,a=new Array(n+1);a[0]=t;for(var c=0;c<n;c++)a[c+1]=e(a[c],r[c]);return a}},"scanLeft");o.scanLeft=Us;var Ns=i(function(t,e){return function(r){var n=r.length,a=new Array(n+1);a[n]=t;for(var c=n-1;c>=0;c--)a[c]=e(r[c],a[c+1]);return a}},"scanRight");o.scanRight=Ns;var Fs=i(function(t){return t.length},"size");o.size=Fs;o.isOutOfBound=Z.isOutOfBound;o.lookup=G.lookup;o.head=G.head;o.last=G.last;var Bs=i(function(t){return o.isNonEmpty(t)?nt.some(Z.tail(t)):nt.none},"tail");o.tail=Bs;var Ls=i(function(t){return o.isNonEmpty(t)?nt.some(Z.init(t)):nt.none},"init");o.init=Ls;var Ps=i(function(t){return function(e){return o.isOutOfBound(t,e)?o.copy(e):e.slice(0,t)}},"takeLeft");o.takeLeft=Ps;var Ts=i(function(t){return function(e){return o.isOutOfBound(t,e)?o.copy(e):t===0?[]:e.slice(-t)}},"takeRight");o.takeRight=Ts;function Ds(t){return function(e){for(var r=[],n=0,a=e;n<a.length;n++){var c=a[n];if(!t(c))break;r.push(c)}return r}}i(Ds,"takeLeftWhile");o.takeLeftWhile=Ds;var xn=i(function(t,e){for(var r=t.length,n=0;n<r&&e(t[n]);n++);return n},"spanLeftIndex");function zs(t){return function(e){var r=o.splitAt(xn(e,t))(e),n=r[0],a=r[1];return{init:n,rest:a}}}i(zs,"spanLeft");o.spanLeft=zs;var js=i(function(t){return function(e){return t<=0||o.isEmpty(e)?o.copy(e):t>=e.length?[]:e.slice(t,e.length)}},"dropLeft");o.dropLeft=js;var Cs=i(function(t){return function(e){return t<=0||o.isEmpty(e)?o.copy(e):t>=e.length?[]:e.slice(0,e.length-t)}},"dropRight");o.dropRight=Cs;function $s(t){return function(e){return e.slice(xn(e,t))}}i($s,"dropLeftWhile");o.dropLeftWhile=$s;o.findIndex=G.findIndex;function Zs(t){return G.findFirst(t)}i(Zs,"findFirst");o.findFirst=Zs;o.findFirstMap=G.findFirstMap;function ks(t){return G.findLast(t)}i(ks,"findLast");o.findLast=ks;o.findLastMap=G.findLastMap;o.findLastIndex=G.findLastIndex;var Ks=i(function(t){return t.slice()},"copy");o.copy=Ks;var Vs=i(function(t,e){return function(r){return t<0||t>r.length?nt.none:nt.some(o.unsafeInsertAt(t,e,r))}},"insertAt");o.insertAt=Vs;var Hs=i(function(t,e){return o.modifyAt(t,function(){return e})},"updateAt");o.updateAt=Hs;var Gs=i(function(t){return function(e){return o.isOutOfBound(t,e)?nt.none:nt.some(o.unsafeDeleteAt(t,e))}},"deleteAt");o.deleteAt=Gs;var Xs=i(function(t,e){return function(r){return o.isOutOfBound(t,r)?nt.none:nt.some(o.unsafeUpdateAt(t,e(r[t]),r))}},"modifyAt");o.modifyAt=Xs;var Qs=i(function(t){return o.isEmpty(t)?[]:t.slice().reverse()},"reverse");o.reverse=Qs;var Ys=i(function(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];n._tag==="Right"&&e.push(n.right)}return e},"rights");o.rights=Ys;var Js=i(function(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];n._tag==="Left"&&e.push(n.left)}return e},"lefts");o.lefts=Js;var tl=i(function(t){return function(e){return e.length<=1?o.copy(e):e.slice().sort(t.compare)}},"sort");o.sort=tl;var el=i(function(t,e,r){for(var n=[],a=Math.min(t.length,e.length),c=0;c<a;c++)n[c]=r(t[c],e[c]);return n},"zipWith");o.zipWith=el;function bn(t,e){return e===void 0?function(r){return bn(r,t)}:o.zipWith(t,e,function(r,n){return[r,n]})}i(bn,"zip");o.zip=bn;var rl=i(function(t){for(var e=[],r=[],n=0;n<t.length;n++)e[n]=t[n][0],r[n]=t[n][1];return[e,r]},"unzip");o.unzip=rl;var nl=i(function(t){var e=Z.prependAll(t);return function(r){return o.isNonEmpty(r)?e(r):[]}},"prependAll");o.prependAll=nl;var il=i(function(t){var e=Z.intersperse(t);return function(r){return o.isNonEmpty(r)?e(r):o.copy(r)}},"intersperse");o.intersperse=il;var al=i(function(t){var e=Z.rotate(t);return function(r){return o.isNonEmpty(r)?e(r):o.copy(r)}},"rotate");o.rotate=al;o.elem=G.elem;var ul=i(function(t){var e=Z.uniq(t);return function(r){return o.isNonEmpty(r)?e(r):o.copy(r)}},"uniq");o.uniq=ul;var ol=i(function(t){var e=Z.sortBy(t);return function(r){return o.isNonEmpty(r)?e(r):o.copy(r)}},"sortBy");o.sortBy=ol;var cl=i(function(t){var e=Z.chop(t);return function(r){return o.isNonEmpty(r)?e(r):[]}},"chop");o.chop=cl;var fl=i(function(t){return function(e){return t>=1&&o.isNonEmpty(e)?Z.splitAt(t)(e):o.isEmpty(e)?[o.copy(e),[]]:[[],o.copy(e)]}},"splitAt");o.splitAt=fl;var sl=i(function(t){var e=Z.chunksOf(t);return function(r){return o.isNonEmpty(r)?e(r):[]}},"chunksOf");o.chunksOf=sl;var ll=i(function(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return o.fromOption(t.apply(void 0,e))}},"fromOptionK");o.fromOptionK=ll;function hl(t,e,r){r===void 0&&(r=i(function(){return!0},"g"));var n=i(function(a,c){return o.isNonEmpty(c)?$.pipe(Z.head(c),o.chain(function(h){return n($.pipe(a,o.append(h)),Z.tail(c))})):r.apply(void 0,a)?[e.apply(void 0,a)]:[]},"go");return n([],t)}i(hl,"comprehension");o.comprehension=hl;var pl=i(function(t){return function(e){return o.isEmpty(e)?o.copy(t):o.isEmpty(t)?o.copy(e):e.concat(t)}},"concatW");o.concatW=pl;o.concat=o.concatW;function pr(t){var e=Z.union(t);return function(r,n){if(n===void 0){var a=pr(t);return function(c){return a(c,r)}}return o.isNonEmpty(r)&&o.isNonEmpty(n)?e(n)(r):o.isNonEmpty(r)?o.copy(r):o.copy(n)}}i(pr,"union");o.union=pr;function dr(t){var e=o.elem(t);return function(r,n){if(n===void 0){var a=dr(t);return function(c){return a(c,r)}}return r.filter(function(c){return e(c,n)})}}i(dr,"intersection");o.intersection=dr;function vr(t){var e=o.elem(t);return function(r,n){if(n===void 0){var a=vr(t);return function(c){return a(c,r)}}return r.filter(function(c){return!e(c,n)})}}i(vr,"difference");o.difference=vr;var J=i(function(t,e){return $.pipe(t,o.map(e))},"_map"),de=i(function(t,e){return $.pipe(t,o.mapWithIndex(e))},"_mapWithIndex"),xt=i(function(t,e){return $.pipe(t,o.ap(e))},"_ap"),Yt=i(function(t,e){return $.pipe(t,o.chain(e))},"_chain"),ve=i(function(t,e){return $.pipe(t,o.filter(e))},"_filter"),me=i(function(t,e){return $.pipe(t,o.filterMap(e))},"_filterMap"),ge=i(function(t,e){return $.pipe(t,o.partition(e))},"_partition"),ye=i(function(t,e){return $.pipe(t,o.partitionMap(e))},"_partitionMap"),Mn=i(function(t,e){return $.pipe(t,o.partitionWithIndex(e))},"_partitionWithIndex"),Wn=i(function(t,e){return $.pipe(t,o.partitionMapWithIndex(e))},"_partitionMapWithIndex"),mr=i(function(t,e){return $.pipe(t,o.alt(e))},"_alt"),Wt=i(function(t,e,r){return $.pipe(t,o.reduce(e,r))},"_reduce"),Ut=i(function(t){var e=o.foldMap(t);return function(r,n){return $.pipe(r,e(n))}},"_foldMap"),Nt=i(function(t,e,r){return $.pipe(t,o.reduceRight(e,r))},"_reduceRight"),gr=i(function(t,e,r){return $.pipe(t,o.reduceWithIndex(e,r))},"_reduceWithIndex"),yr=i(function(t){var e=o.foldMapWithIndex(t);return function(r,n){return $.pipe(r,e(n))}},"_foldMapWithIndex"),Ir=i(function(t,e,r){return $.pipe(t,o.reduceRightWithIndex(e,r))},"_reduceRightWithIndex"),Rn=i(function(t,e){return $.pipe(t,o.filterMapWithIndex(e))},"_filterMapWithIndex"),wn=i(function(t,e){return $.pipe(t,o.filterWithIndex(e))},"_filterWithIndex"),An=i(function(t,e){return $.pipe(t,o.extend(e))},"_extend"),Ie=i(function(t){var e=o.traverse(t);return function(r,n){return $.pipe(r,e(n))}},"_traverse"),En=i(function(t){var e=o.traverseWithIndex(t);return function(r,n){return $.pipe(r,e(n))}},"_traverseWithIndex"),dl=G._chainRecDepthFirst,vl=G._chainRecBreadthFirst;o.of=Z.of;var ml=i(function(){return[]},"zero");o.zero=ml;var gl=i(function(t){return function(e){return e.map(function(r){return t(r)})}},"map");o.map=gl;var yl=i(function(t){return o.chain(function(e){return $.pipe(t,o.map(e))})},"ap");o.ap=yl;var Il=i(function(t){return function(e){return $.pipe(e,o.chainWithIndex(function(r,n){return t(n)}))}},"chain");o.chain=Il;o.flatten=o.chain($.identity);var xl=i(function(t){return function(e){return e.map(function(r,n){return t(n,r)})}},"mapWithIndex");o.mapWithIndex=xl;var bl=i(function(t){return function(e){for(var r=[],n=0;n<e.length;n++){var a=t(n,e[n]);nt.isSome(a)&&r.push(a.value)}return r}},"filterMapWithIndex");o.filterMapWithIndex=bl;var Ml=i(function(t){return o.filterMapWithIndex(function(e,r){return t(r)})},"filterMap");o.filterMap=Ml;o.compact=o.filterMap($.identity);var Wl=i(function(t){for(var e=[],r=[],n=0,a=t;n<a.length;n++){var c=a[n];c._tag==="Left"?e.push(c.left):r.push(c.right)}return lr.separated(e,r)},"separate");o.separate=Wl;var Rl=i(function(t){return function(e){return e.filter(t)}},"filter");o.filter=Rl;var wl=i(function(t){return o.partitionWithIndex(function(e,r){return t(r)})},"partition");o.partition=wl;var Al=i(function(t){return function(e){for(var r=[],n=[],a=0;a<e.length;a++){var c=e[a];t(a,c)?n.push(c):r.push(c)}return lr.separated(r,n)}},"partitionWithIndex");o.partitionWithIndex=Al;var El=i(function(t){return o.partitionMapWithIndex(function(e,r){return t(r)})},"partitionMap");o.partitionMap=El;var _l=i(function(t){return function(e){for(var r=[],n=[],a=0;a<e.length;a++){var c=t(a,e[a]);c._tag==="Left"?r.push(c.left):n.push(c.right)}return lr.separated(r,n)}},"partitionMapWithIndex");o.partitionMapWithIndex=_l;var Sl=i(function(t){return function(e){return e.concat(t())}},"altW");o.altW=Sl;o.alt=o.altW;var ql=i(function(t){return function(e){return e.filter(function(r,n){return t(n,r)})}},"filterWithIndex");o.filterWithIndex=ql;var Ol=i(function(t){return function(e){return e.map(function(r,n){return t(e.slice(n))})}},"extend");o.extend=Ol;o.duplicate=o.extend($.identity);o.foldMap=G.foldMap;o.foldMapWithIndex=G.foldMapWithIndex;o.reduce=G.reduce;o.reduceWithIndex=G.reduceWithIndex;o.reduceRight=G.reduceRight;o.reduceRightWithIndex=G.reduceRightWithIndex;var Ul=i(function(t){var e=o.traverseWithIndex(t);return function(r){return e(function(n,a){return r(a)})}},"traverse");o.traverse=Ul;var Nl=i(function(t){return function(e){return Wt(e,t.of(o.zero()),function(r,n){return t.ap(t.map(r,function(a){return function(c){return $.pipe(a,o.append(c))}}),n)})}},"sequence");o.sequence=Nl;var Fl=i(function(t){return function(e){return o.reduceWithIndex(t.of(o.zero()),function(r,n,a){return t.ap(t.map(n,function(c){return function(h){return $.pipe(c,o.append(h))}}),e(r,a))})}},"traverseWithIndex");o.traverseWithIndex=Fl;var Bl=i(function(t){var e=xr(t);return function(r){return function(n){return e(n,r)}}},"wither");o.wither=Bl;var Ll=i(function(t){var e=br(t);return function(r){return function(n){return e(n,r)}}},"wilt");o.wilt=Ll;var Pl=i(function(t,e){for(var r=[],n=t;;){var a=e(n);if(nt.isSome(a)){var c=a.value,h=c[0],y=c[1];r.push(h),n=y}else break}return r},"unfold");o.unfold=Pl;o.URI="Array";o.getShow=G.getShow;var Tl=i(function(){return{concat:function(t,e){return t.concat(e)}}},"getSemigroup");o.getSemigroup=Tl;var Dl=i(function(){return{concat:o.getSemigroup().concat,empty:[]}},"getMonoid");o.getMonoid=Dl;o.getEq=G.getEq;o.getOrd=G.getOrd;var zl=i(function(t){var e=pr(t);return{concat:function(r,n){return e(n)(r)}}},"getUnionSemigroup");o.getUnionSemigroup=zl;var jl=i(function(t){return{concat:o.getUnionSemigroup(t).concat,empty:[]}},"getUnionMonoid");o.getUnionMonoid=jl;var Cl=i(function(t){var e=dr(t);return{concat:function(r,n){return e(n)(r)}}},"getIntersectionSemigroup");o.getIntersectionSemigroup=Cl;var $l=i(function(t){var e=vr(t);return{concat:function(r,n){return e(n)(r)}}},"getDifferenceMagma");o.getDifferenceMagma=$l;o.Functor={URI:o.URI,map:J};o.flap=In.flap(o.Functor);o.Pointed={URI:o.URI,of:o.of};o.FunctorWithIndex={URI:o.URI,map:J,mapWithIndex:de};o.Apply={URI:o.URI,map:J,ap:xt};o.apFirst=sr.apFirst(o.Apply);o.apSecond=sr.apSecond(o.Apply);o.Applicative={URI:o.URI,map:J,ap:xt,of:o.of};o.Chain={URI:o.URI,map:J,ap:xt,chain:Yt};o.chainFirst=yn.chainFirst(o.Chain);o.Monad={URI:o.URI,map:J,ap:xt,of:o.of,chain:Yt};o.Unfoldable={URI:o.URI,unfold:o.unfold};o.Alt={URI:o.URI,map:J,alt:mr};o.Zero={URI:o.URI,zero:o.zero};o.guard=bs.guard(o.Zero,o.Pointed);o.Alternative={URI:o.URI,map:J,ap:xt,of:o.of,alt:mr,zero:o.zero};o.Extend={URI:o.URI,map:J,extend:An};o.Compactable={URI:o.URI,compact:o.compact,separate:o.separate};o.Filterable={URI:o.URI,map:J,compact:o.compact,separate:o.separate,filter:ve,filterMap:me,partition:ge,partitionMap:ye};o.FilterableWithIndex={URI:o.URI,map:J,mapWithIndex:de,compact:o.compact,separate:o.separate,filter:ve,filterMap:me,partition:ge,partitionMap:ye,partitionMapWithIndex:Wn,partitionWithIndex:Mn,filterMapWithIndex:Rn,filterWithIndex:wn};o.Foldable={URI:o.URI,reduce:Wt,foldMap:Ut,reduceRight:Nt};o.FoldableWithIndex={URI:o.URI,reduce:Wt,foldMap:Ut,reduceRight:Nt,reduceWithIndex:gr,foldMapWithIndex:yr,reduceRightWithIndex:Ir};o.Traversable={URI:o.URI,map:J,reduce:Wt,foldMap:Ut,reduceRight:Nt,traverse:Ie,sequence:o.sequence};o.TraversableWithIndex={URI:o.URI,map:J,mapWithIndex:de,reduce:Wt,foldMap:Ut,reduceRight:Nt,reduceWithIndex:gr,foldMapWithIndex:yr,reduceRightWithIndex:Ir,traverse:Ie,sequence:o.sequence,traverseWithIndex:En};var xr=hr.witherDefault(o.Traversable,o.Compactable),br=hr.wiltDefault(o.Traversable,o.Compactable);o.Witherable={URI:o.URI,map:J,compact:o.compact,separate:o.separate,filter:ve,filterMap:me,partition:ge,partitionMap:ye,reduce:Wt,foldMap:Ut,reduceRight:Nt,traverse:Ie,sequence:o.sequence,wither:xr,wilt:br};o.chainRecDepthFirst=G.chainRecDepthFirst;o.ChainRecDepthFirst={URI:o.URI,map:J,ap:xt,chain:Yt,chainRec:dl};o.chainRecBreadthFirst=G.chainRecBreadthFirst;o.ChainRecBreadthFirst={URI:o.URI,map:J,ap:xt,chain:Yt,chainRec:vl};o.filterE=hr.filterE(o.Witherable);o.FromEither={URI:o.URI,fromEither:o.fromEither};o.fromEitherK=xs.fromEitherK(o.FromEither);o.unsafeInsertAt=Z.unsafeInsertAt;var Zl=i(function(t,e,r){return o.isNonEmpty(r)?Z.unsafeUpdateAt(t,e,r):[]},"unsafeUpdateAt");o.unsafeUpdateAt=Zl;var kl=i(function(t,e){var r=e.slice();return r.splice(t,1),r},"unsafeDeleteAt");o.unsafeDeleteAt=kl;o.every=G.every;var Kl=i(function(t){return function(e){return e.some(t)}},"some");o.some=Kl;o.exists=o.some;o.Do=o.of(nt.emptyRecord);o.bindTo=In.bindTo(o.Functor);o.bind=yn.bind(o.Chain);o.apS=sr.apS(o.Apply);o.range=Z.range;o.empty=[];o.cons=Z.cons;o.snoc=Z.snoc;o.prependToAll=o.prependAll;o.array={URI:o.URI,compact:o.compact,separate:o.separate,map:J,ap:xt,of:o.of,chain:Yt,filter:ve,filterMap:me,partition:ge,partitionMap:ye,mapWithIndex:de,partitionMapWithIndex:Wn,partitionWithIndex:Mn,filterMapWithIndex:Rn,filterWithIndex:wn,alt:mr,zero:o.zero,unfold:o.unfold,reduce:Wt,foldMap:Ut,reduceRight:Nt,traverse:Ie,sequence:o.sequence,reduceWithIndex:gr,foldMapWithIndex:yr,reduceRightWithIndex:Ir,traverseWithIndex:En,extend:An,wither:xr,wilt:br}});var Bn=Q((Rr,Fn)=>{(function(t){"use strict";var e=2e3,r={s:1,n:0,d:1};function n(m,v){if(isNaN(m=parseInt(m,10)))throw S.InvalidParameter;return m*v}i(n,"assign");function a(m,v){if(v===0)throw S.DivisionByZero;var l=Object.create(S.prototype);l.s=m<0?-1:1,m=m<0?-m:m;var p=F(m,v);return l.n=m/p,l.d=v/p,l}i(a,"newFraction");function c(m){for(var v={},l=m,p=2,d=4;d<=l;){for(;l%p===0;)l/=p,v[p]=(v[p]||0)+1;d+=1+2*p++}return l!==m?l>1&&(v[l]=(v[l]||0)+1):v[m]=(v[m]||0)+1,v}i(c,"factorize");var h=i(function(m,v){var l=0,p=1,d=1,g=0,I=0,C=0,B=1,it=1,E=0,A=1,w=1,R=1,pt=1e7,ot;if(m!=null)if(v!==void 0){if(l=m,p=v,d=l*p,l%1!==0||p%1!==0)throw S.NonIntegerParameter}else switch(typeof m){case"object":{if("d"in m&&"n"in m)l=m.n,p=m.d,"s"in m&&(l*=m.s);else if(0 in m)l=m[0],1 in m&&(p=m[1]);else throw S.InvalidParameter;d=l*p;break}case"number":{if(m<0&&(d=m,m=-m),m%1===0)l=m;else if(m>0){for(m>=1&&(it=Math.pow(10,Math.floor(1+Math.log(m)/Math.LN10)),m/=it);A<=pt&&R<=pt;)if(ot=(E+w)/(A+R),m===ot){A+R<=pt?(l=E+w,p=A+R):R>A?(l=w,p=R):(l=E,p=A);break}else m>ot?(E+=w,A+=R):(w+=E,R+=A),A>pt?(l=w,p=R):(l=E,p=A);l*=it}else(isNaN(m)||isNaN(v))&&(p=l=NaN);break}case"string":{if(A=m.match(/\d+|./g),A===null)throw S.InvalidParameter;if(A[E]==="-"?(d=-1,E++):A[E]==="+"&&E++,A.length===E+1?I=n(A[E++],d):A[E+1]==="."||A[E]==="."?(A[E]!=="."&&(g=n(A[E++],d)),E++,(E+1===A.length||A[E+1]==="("&&A[E+3]===")"||A[E+1]==="'"&&A[E+3]==="'")&&(I=n(A[E],d),B=Math.pow(10,A[E].length),E++),(A[E]==="("&&A[E+2]===")"||A[E]==="'"&&A[E+2]==="'")&&(C=n(A[E+1],d),it=Math.pow(10,A[E+1].length)-1,E+=3)):A[E+1]==="/"||A[E+1]===":"?(I=n(A[E],d),B=n(A[E+2],1),E+=3):A[E+3]==="/"&&A[E+1]===" "&&(g=n(A[E],d),I=n(A[E+2],d),B=n(A[E+4],1),E+=5),A.length<=E){p=B*it,d=l=C+p*g+it*I;break}}default:throw S.InvalidParameter}if(p===0)throw S.DivisionByZero;r.s=d<0?-1:1,r.n=Math.abs(l),r.d=Math.abs(p)},"parse");function y(m,v,l){for(var p=1;v>0;m=m*m%l,v>>=1)v&1&&(p=p*m%l);return p}i(y,"modpow");function M(m,v){for(;v%2===0;v/=2);for(;v%5===0;v/=5);if(v===1)return 0;for(var l=10%v,p=1;l!==1;p++)if(l=l*10%v,p>e)return 0;return p}i(M,"cycleLen");function q(m,v,l){for(var p=1,d=y(10,l,v),g=0;g<300;g++){if(p===d)return g;p=p*10%v,d=d*10%v}return 0}i(q,"cycleStart");function F(m,v){if(!m)return v;if(!v)return m;for(;;){if(m%=v,!m)return v;if(v%=m,!v)return m}}i(F,"gcd");function S(m,v){if(h(m,v),this instanceof S)m=F(r.d,r.n),this.s=r.s,this.n=r.n/m,this.d=r.d/m;else return a(r.s*r.n,r.d)}i(S,"Fraction"),S.DivisionByZero=new Error("Division by Zero"),S.InvalidParameter=new Error("Invalid argument"),S.NonIntegerParameter=new Error("Parameters must be integer"),S.prototype={s:1,n:0,d:1,abs:function(){return a(this.n,this.d)},neg:function(){return a(-this.s*this.n,this.d)},add:function(m,v){return h(m,v),a(this.s*this.n*r.d+r.s*this.d*r.n,this.d*r.d)},sub:function(m,v){return h(m,v),a(this.s*this.n*r.d-r.s*this.d*r.n,this.d*r.d)},mul:function(m,v){return h(m,v),a(this.s*r.s*this.n*r.n,this.d*r.d)},div:function(m,v){return h(m,v),a(this.s*r.s*this.n*r.d,this.d*r.n)},clone:function(){return a(this.s*this.n,this.d)},mod:function(m,v){if(isNaN(this.n)||isNaN(this.d))return new S(NaN);if(m===void 0)return a(this.s*this.n%this.d,1);if(h(m,v),r.n===0&&this.d===0)throw S.DivisionByZero;return a(this.s*(r.d*this.n)%(r.n*this.d),r.d*this.d)},gcd:function(m,v){return h(m,v),a(F(r.n,this.n)*F(r.d,this.d),r.d*this.d)},lcm:function(m,v){return h(m,v),r.n===0&&this.n===0?a(0,1):a(r.n*this.n,F(r.n,this.n)*F(r.d,this.d))},ceil:function(m){return m=Math.pow(10,m||0),isNaN(this.n)||isNaN(this.d)?new S(NaN):a(Math.ceil(m*this.s*this.n/this.d),m)},floor:function(m){return m=Math.pow(10,m||0),isNaN(this.n)||isNaN(this.d)?new S(NaN):a(Math.floor(m*this.s*this.n/this.d),m)},round:function(m){return m=Math.pow(10,m||0),isNaN(this.n)||isNaN(this.d)?new S(NaN):a(Math.round(m*this.s*this.n/this.d),m)},inverse:function(){return a(this.s*this.d,this.n)},pow:function(m,v){if(h(m,v),r.d===1)return r.s<0?a(Math.pow(this.s*this.d,r.n),Math.pow(this.n,r.n)):a(Math.pow(this.s*this.n,r.n),Math.pow(this.d,r.n));if(this.s<0)return null;var l=c(this.n),p=c(this.d),d=1,g=1;for(var I in l)if(I!=="1"){if(I==="0"){d=0;break}if(l[I]*=r.n,l[I]%r.d===0)l[I]/=r.d;else return null;d*=Math.pow(I,l[I])}for(var I in p)if(I!=="1"){if(p[I]*=r.n,p[I]%r.d===0)p[I]/=r.d;else return null;g*=Math.pow(I,p[I])}return r.s<0?a(g,d):a(d,g)},equals:function(m,v){return h(m,v),this.s*this.n*r.d===r.s*r.n*this.d},compare:function(m,v){h(m,v);var l=this.s*this.n*r.d-r.s*r.n*this.d;return(0<l)-(l<0)},simplify:function(m){if(isNaN(this.n)||isNaN(this.d))return this;m=m||.001;for(var v=this.abs(),l=v.toContinued(),p=1;p<l.length;p++){for(var d=a(l[p-1],1),g=p-2;g>=0;g--)d=d.inverse().add(l[g]);if(d.sub(v).abs().valueOf()<m)return d.mul(this.s)}return this},divisible:function(m,v){return h(m,v),!(!(r.n*this.d)||this.n*r.d%(r.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(m){var v,l="",p=this.n,d=this.d;return this.s<0&&(l+="-"),d===1?l+=p:(m&&(v=Math.floor(p/d))>0&&(l+=v,l+=" ",p%=d),l+=p,l+="/",l+=d),l},toLatex:function(m){var v,l="",p=this.n,d=this.d;return this.s<0&&(l+="-"),d===1?l+=p:(m&&(v=Math.floor(p/d))>0&&(l+=v,p%=d),l+="\\frac{",l+=p,l+="}{",l+=d,l+="}"),l},toContinued:function(){var m,v=this.n,l=this.d,p=[];if(isNaN(v)||isNaN(l))return p;do p.push(Math.floor(v/l)),m=v%l,v=l,l=m;while(v!==1);return p},toString:function(m){var v=this.n,l=this.d;if(isNaN(v)||isNaN(l))return"NaN";m=m||15;var p=M(v,l),d=q(v,l,p),g=this.s<0?"-":"";if(g+=v/l|0,v%=l,v*=10,v&&(g+="."),p){for(var I=d;I--;)g+=v/l|0,v%=l,v*=10;g+="(";for(var I=p;I--;)g+=v/l|0,v%=l,v*=10;g+=")"}else for(var I=m;v&&I--;)g+=v/l|0,v%=l,v*=10;return g}},typeof define=="function"&&define.amd?define([],function(){return S}):typeof Rr=="object"?(Object.defineProperty(S,"__esModule",{value:!0}),S.default=S,S.Fraction=S,Fn.exports=S):t.Fraction=S})(Rr)});var Sn=Bt(Re()),qn=Bt(_n()),be=Bt(ke()),On=Bt(ie()),Vl=Object.create,Wr=Object.defineProperty,Hl=Object.getOwnPropertyDescriptor,Gl=Object.getOwnPropertyNames,Xl=Object.getPrototypeOf,Ql=Object.prototype.hasOwnProperty,Yl=i(t=>Wr(t,"__esModule",{value:!0}),"dt"),Jl=i((t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),"bt"),th=i((t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of Gl(e))!Ql.call(t,a)&&(r||a!=="default")&&Wr(t,a,{get:()=>e[a],enumerable:!(n=Hl(e,a))||n.enumerable});return t},"gt"),eh=i((t,e)=>th(Yl(Wr(t!=null?Vl(Xl(t)):{},"default",!e&&t&&t.__esModule?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t),"pt"),rh=Jl((t,e)=>{(function(r){"use strict";var n=2e3,a={s:1,n:0,d:1};function c(l,p){if(isNaN(l=parseInt(l,10)))throw v.InvalidParameter;return l*p}i(c,"i");function h(l,p){if(p===0)throw v.DivisionByZero;var d=Object.create(v.prototype);d.s=l<0?-1:1,l=l<0?-l:l;var g=m(l,p);return d.n=l/g,d.d=p/g,d}i(h,"s");function y(l){for(var p={},d=l,g=2,I=4;I<=d;){for(;d%g===0;)d/=g,p[g]=(p[g]||0)+1;I+=1+2*g++}return d!==l?d>1&&(p[d]=(p[d]||0)+1):p[l]=(p[l]||0)+1,p}i(y,"u");var M=i(function(l,p){var d=0,g=1,I=1,C=0,B=0,it=0,E=1,A=1,w=0,R=1,pt=1,ot=1,te=1e7,We;if(l!=null)if(p!==void 0){if(d=l,g=p,I=d*g,d%1!==0||g%1!==0)throw v.NonIntegerParameter}else switch(typeof l){case"object":{if("d"in l&&"n"in l)d=l.n,g=l.d,"s"in l&&(d*=l.s);else if(0 in l)d=l[0],1 in l&&(g=l[1]);else throw v.InvalidParameter;I=d*g;break}case"number":{if(l<0&&(I=l,l=-l),l%1===0)d=l;else if(l>0){for(l>=1&&(A=Math.pow(10,Math.floor(1+Math.log(l)/Math.LN10)),l/=A);R<=te&&ot<=te;)if(We=(w+pt)/(R+ot),l===We){R+ot<=te?(d=w+pt,g=R+ot):ot>R?(d=pt,g=ot):(d=w,g=R);break}else l>We?(w+=pt,R+=ot):(pt+=w,ot+=R),R>te?(d=pt,g=ot):(d=w,g=R);d*=A}else(isNaN(l)||isNaN(p))&&(g=d=NaN);break}case"string":{if(R=l.match(/\d+|./g),R===null)throw v.InvalidParameter;if(R[w]==="-"?(I=-1,w++):R[w]==="+"&&w++,R.length===w+1?B=c(R[w++],I):R[w+1]==="."||R[w]==="."?(R[w]!=="."&&(C=c(R[w++],I)),w++,(w+1===R.length||R[w+1]==="("&&R[w+3]===")"||R[w+1]==="'"&&R[w+3]==="'")&&(B=c(R[w],I),E=Math.pow(10,R[w].length),w++),(R[w]==="("&&R[w+2]===")"||R[w]==="'"&&R[w+2]==="'")&&(it=c(R[w+1],I),A=Math.pow(10,R[w+1].length)-1,w+=3)):R[w+1]==="/"||R[w+1]===":"?(B=c(R[w],I),E=c(R[w+2],1),w+=3):R[w+3]==="/"&&R[w+1]===" "&&(C=c(R[w],I),B=c(R[w+2],I),E=c(R[w+4],1),w+=5),R.length<=w){g=E*A,I=d=it+g*C+A*B;break}}default:throw v.InvalidParameter}if(g===0)throw v.DivisionByZero;a.s=I<0?-1:1,a.n=Math.abs(d),a.d=Math.abs(g)},"l");function q(l,p,d){for(var g=1;p>0;l=l*l%d,p>>=1)p&1&&(g=g*l%d);return g}i(q,"c");function F(l,p){for(;p%2===0;p/=2);for(;p%5===0;p/=5);if(p===1)return 0;for(var d=10%p,g=1;d!==1;g++)if(d=d*10%p,g>n)return 0;return g}i(F,"S");function S(l,p,d){for(var g=1,I=q(10,d,p),C=0;C<300;C++){if(g===I)return C;g=g*10%p,I=I*10%p}return 0}i(S,"M");function m(l,p){if(!l)return p;if(!p)return l;for(;;){if(l%=p,!l)return p;if(p%=l,!p)return l}}i(m,"A");function v(l,p){if(M(l,p),this instanceof v)l=m(a.d,a.n),this.s=a.s,this.n=a.n/l,this.d=a.d/l;else return h(a.s*a.n,a.d)}i(v,"g"),v.DivisionByZero=new Error("Division by Zero"),v.InvalidParameter=new Error("Invalid argument"),v.NonIntegerParameter=new Error("Parameters must be integer"),v.prototype={s:1,n:0,d:1,abs:function(){return h(this.n,this.d)},neg:function(){return h(-this.s*this.n,this.d)},add:function(l,p){return M(l,p),h(this.s*this.n*a.d+a.s*this.d*a.n,this.d*a.d)},sub:function(l,p){return M(l,p),h(this.s*this.n*a.d-a.s*this.d*a.n,this.d*a.d)},mul:function(l,p){return M(l,p),h(this.s*a.s*this.n*a.n,this.d*a.d)},div:function(l,p){return M(l,p),h(this.s*a.s*this.n*a.d,this.d*a.n)},clone:function(){return h(this.s*this.n,this.d)},mod:function(l,p){if(isNaN(this.n)||isNaN(this.d))return new v(NaN);if(l===void 0)return h(this.s*this.n%this.d,1);if(M(l,p),a.n===0&&this.d===0)throw v.DivisionByZero;return h(this.s*(a.d*this.n)%(a.n*this.d),a.d*this.d)},gcd:function(l,p){return M(l,p),h(m(a.n,this.n)*m(a.d,this.d),a.d*this.d)},lcm:function(l,p){return M(l,p),a.n===0&&this.n===0?h(0,1):h(a.n*this.n,m(a.n,this.n)*m(a.d,this.d))},ceil:function(l){return l=Math.pow(10,l||0),isNaN(this.n)||isNaN(this.d)?new v(NaN):h(Math.ceil(l*this.s*this.n/this.d),l)},floor:function(l){return l=Math.pow(10,l||0),isNaN(this.n)||isNaN(this.d)?new v(NaN):h(Math.floor(l*this.s*this.n/this.d),l)},round:function(l){return l=Math.pow(10,l||0),isNaN(this.n)||isNaN(this.d)?new v(NaN):h(Math.round(l*this.s*this.n/this.d),l)},inverse:function(){return h(this.s*this.d,this.n)},pow:function(l,p){if(M(l,p),a.d===1)return a.s<0?h(Math.pow(this.s*this.d,a.n),Math.pow(this.n,a.n)):h(Math.pow(this.s*this.n,a.n),Math.pow(this.d,a.n));if(this.s<0)return null;var d=y(this.n),g=y(this.d),I=1,C=1;for(var B in d)if(B!=="1"){if(B==="0"){I=0;break}if(d[B]*=a.n,d[B]%a.d===0)d[B]/=a.d;else return null;I*=Math.pow(B,d[B])}for(var B in g)if(B!=="1"){if(g[B]*=a.n,g[B]%a.d===0)g[B]/=a.d;else return null;C*=Math.pow(B,g[B])}return a.s<0?h(C,I):h(I,C)},equals:function(l,p){return M(l,p),this.s*this.n*a.d===a.s*a.n*this.d},compare:function(l,p){M(l,p);var d=this.s*this.n*a.d-a.s*a.n*this.d;return(0<d)-(d<0)},simplify:function(l){if(isNaN(this.n)||isNaN(this.d))return this;l=l||.001;for(var p=this.abs(),d=p.toContinued(),g=1;g<d.length;g++){for(var I=h(d[g-1],1),C=g-2;C>=0;C--)I=I.inverse().add(d[C]);if(I.sub(p).abs().valueOf()<l)return I.mul(this.s)}return this},divisible:function(l,p){return M(l,p),!(!(a.n*this.d)||this.n*a.d%(a.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(l){var p,d="",g=this.n,I=this.d;return this.s<0&&(d+="-"),I===1?d+=g:(l&&(p=Math.floor(g/I))>0&&(d+=p,d+=" ",g%=I),d+=g,d+="/",d+=I),d},toLatex:function(l){var p,d="",g=this.n,I=this.d;return this.s<0&&(d+="-"),I===1?d+=g:(l&&(p=Math.floor(g/I))>0&&(d+=p,g%=I),d+="\\frac{",d+=g,d+="}{",d+=I,d+="}"),d},toContinued:function(){var l,p=this.n,d=this.d,g=[];if(isNaN(p)||isNaN(d))return g;do g.push(Math.floor(p/d)),l=p%d,p=d,d=l;while(p!==1);return g},toString:function(l){var p=this.n,d=this.d;if(isNaN(p)||isNaN(d))return"NaN";l=l||15;var g=F(p,d),I=S(p,d,g),C=this.s<0?"-":"";if(C+=p/d|0,p%=d,p*=10,p&&(C+="."),g){for(var B=I;B--;)C+=p/d|0,p%=d,p*=10;C+="(";for(var B=g;B--;)C+=p/d|0,p%=d,p*=10;C+=")"}else for(var B=l;p&&B--;)C+=p/d|0,p%=d,p*=10;return C}},typeof define=="function"&&define.amd?define([],function(){return v}):typeof t=="object"?(Object.defineProperty(v,"__esModule",{value:!0}),v.default=v,v.Fraction=v,e.exports=v):r.Fraction=v})(t)}),nh=eh(rh());function xe(t){let e=ih(t);return new nh.default(e).valueOf()*Math.PI}i(xe,"P");function ih(t){return t.replace(/(\d+)/g,"$1").replace(//g,"1")}i(ih,"wt");var ah=Object.prototype.toString.call({}),uh="!recursion-limit!",oh=10;function Rt(t,e=oh){return ch(t)||fh(t,e)||sh(t,e)}i(Rt,"I");function ch(t){if(t===null)return"null";if(t===void 0)return"undefined";if(typeof t=="string")return`"${t}"`;if(typeof t=="number")return String(t)}i(ch,"Mt");function fh(t,e){if(e===0)return uh;if(t instanceof Map)return lh(t,e);if(t instanceof Set)return hh(t,e);if((r=>r[Symbol.iterator]!==void 0)(t))return ph(t,e)}i(fh,"St");function sh(t,e){let r=String(t);return r!==ah?r:dh(t,e)}i(sh,"At");function lh(t,e){let r=[];for(let[n,a]of t.entries()){if(r.length>1e3){r.push("[...]");break}let c=Rt(n,e-1),h=Rt(a,e-1);r.push(`${c}: ${h}`)}return`Map{${r.join(", ")}}`}i(lh,"Tt");function hh(t,e){let r=[];for(let n of t){if(r.length>1e3){r.push("[...]");break}r.push(Rt(n,e-1))}return`Set{${r.join(", ")}}`}i(hh,"Et");function ph(t,e){let r=[];for(let n of t){if(r.length>1e3){r.push("[...]");break}r.push(Rt(n,e-1))}return`${Array.isArray(t)?"":t.constructor.name}[${r.join(", ")}]`}i(ph,"Nt");function dh(t,e){let r=[];for(let a in t){if(!Object.prototype.hasOwnProperty.call(t,a))continue;if(r.length>1e3){r.push("[...]");break}let c=t[a],h=Rt(a,e-1),y=Rt(c,e-1);r.push(`${h}: ${y}`)}let n=t.constructor.name;return`${n==={}.constructor.name?"":`(Type: ${n})`}{${r.join(", ")}}`}i(dh,"kt");var Mr=0,et=i(class extends Error{constructor(t,e){super(t);this.detailsObj=e,this.name="Error",this.message=t,this.stack=new Error().stack,this.stack!==void 0&&(this.stack=this.stack.replace(/^Error\n\s+at new DetailedError (\S+)\s?\n\s+at /,`
    `)),Mr++;try{this.details=Mr===1?Rt(this.detailsObj):"(failed to describe detailsObj due to possibly re-entrancy)"}catch(r){console.error(r),this.details="(failed to describe detailsObj, see the console for details)"}finally{Mr--}}},"T"),vh=[{character:"\xBD",ref:"\xBD",expanded:"1/2",value:.5},{character:"\xBC",ref:"\xBC",expanded:"1/4",value:.25},{character:"\xBE",ref:"\xBE",expanded:"3/4",value:.75},{character:"\u2153",ref:"\u2153",expanded:"1/3",value:.3333333333333333},{character:"\u2154",ref:"\u2154",expanded:"2/3",value:.6666666666666666},{character:"\u2155",ref:"\u2155",expanded:"1/5",value:.2},{character:"\u2156",ref:"\u2156",expanded:"2/5",value:.4},{character:"\u2157",ref:"\u2157",expanded:"3/5",value:.6},{character:"\u2158",ref:"\u2158",expanded:"4/5",value:.8},{character:"\u2159",ref:"\u2159",expanded:"1/6",value:.16666666666666666},{character:"\u215A",ref:"\u215A",expanded:"5/6",value:.8333333333333334},{character:"\u2150",ref:"\u2150",expanded:"1/7",value:.14285714285714285},{character:"\u215B",ref:"\u215B",expanded:"1/8",value:.125},{character:"\u215C",ref:"\u215C",expanded:"3/8",value:.375},{character:"\u215D",ref:"\u215D",expanded:"5/8",value:.625},{character:"\u215E",ref:"\u215E",expanded:"7/8",value:.875},{character:"\u2151",ref:"\u2151",expanded:"1/9",value:.1111111111111111},{character:"\u2152",ref:"\u2152",expanded:"1/10",value:.1}],ct=i(class{static parseFloat(t){if(t.length===0)throw new Error(`Not a number: '${t}'`);if(t[0]==="-")return-ct.parseFloat(t.substr(1));if(t[0]==="\u221A")return Math.sqrt(ct.parseFloat(t.substr(1)));let e=ct.matchUnicodeFraction(n=>n.character===t);if(e!==void 0)return e.value;let r=parseFloat(t);if(isNaN(r))throw new Error(`Not a number: '${t}'`);return r}static simplifyByRounding(t,e){if(t<0)return-ct.simplifyByRounding(-t,e);let r=t%1;if(r<=e||1-r<=e)return Math.round(t);let n=ct.matchUnicodeFraction(c=>Math.abs(c.value-t)<=e);if(n!==void 0)return n.value;let a=ct.matchUnicodeFraction(c=>Math.abs(Math.sqrt(c.value)-t)<=e);return a!==void 0?Math.sqrt(a.value):t}static matchUnicodeFraction(t){for(let e of vh)if(t(e))return e}constructor(t,e,r,n){this.allowAbbreviation=t,this.maxAbbreviationError=e,this.fixedDigits=r,this.itemSeparator=n}formatFloat(t){return this.allowAbbreviation?this.abbreviateFloat(t,this.maxAbbreviationError,this.fixedDigits):this.fixedDigits!==void 0?t.toFixed(this.fixedDigits):String(t)}abbreviateFloat(t,e=0,r=void 0){if(Math.abs(t)<e)return"0";if(t<0)return`-${this.abbreviateFloat(-t,e,r)}`;let n=ct.matchUnicodeFraction(c=>Math.abs(c.value-t)<=e);if(n!==void 0)return n.character;let a=ct.matchUnicodeFraction(c=>Math.abs(Math.sqrt(c.value)-t)<=e);return a!==void 0?`\u221A${a.character}`:t%1!==0&&r!==void 0?t.toFixed(r):t.toString()}},"N"),Ft=ct;Ft.CONSISTENT=new ct(!1,0,2,", "),Ft.EXACT=new ct(!0,0,void 0,", "),Ft.MINIFIED=new ct(!0,0,void 0,","),Ft.SIMPLIFIED=new ct(!0,5e-4,3,", ");var ht=i(class{static need(t,e,r){if(t!==!0){let n=r===void 0?"(not provided)":`[${Array.prototype.slice.call(r).join(", ")}]`,a=`Precondition failed

Message: ${e===void 0?"(not provided)":e}

Args: ${n}`;throw new Error(a)}}static notNull(t){ht.need(t!=null,"notNull")}static snappedCosSin(t){let e=Math.PI/4,r=Math.round(t/e);if(r*e===t){let n=Math.sqrt(.5);return[[1,0],[n,n],[0,1],[-n,n],[-1,0],[-n,-n],[0,-1],[n,-n]][r&7]}return[Math.cos(t),Math.sin(t)]}},"k"),O=i(class{static from(t){if(t instanceof O)return t;if(typeof t=="number")return new O(t,0);throw new et("Unrecognized value type.",{v:t})}static polar(t,e){let[r,n]=ht.snappedCosSin(e);return new O(t*r,t*n)}static realPartOf(t){if(t instanceof O)return t.real;if(typeof t=="number")return t;throw new et("Unrecognized value type.",{v:t})}static imagPartOf(t){if(t instanceof O)return t.imag;if(typeof t=="number")return 0;throw new et("Unrecognized value type.",{v:t})}static parse(t){let e=t.match(/^\s*([+-]?\d+(?:\.\d*)?(?:e[+-]?\d+)?)\s*(?:([+-])\s*i)?\s*$/);if(e){let[,r,n,a]=e;r===void 0&&(r="0"),n===void 0&&(n="+"),a===void 0&&(a="0");let[c,h]=[r,a].map(q=>parseFloat(q)),[y,M]=[n,n].map(q=>q==="-"?-1:1);return new O(c*y,h*M)}throw new et("Invalid complex number string.",{s:t})}constructor(t,e){this.real=t,this.imag=e}static rootsOfQuadratic(t,e,r){if(t=O.from(t),e=O.from(e),r=O.from(r),t.isEqualTo(0)){if(!e.isEqualTo(0))return[r.times(-1).dividedBy(e)];if(!r.isEqualTo(0))return[];throw Error("Degenerate")}let n=e.times(e).minus(t.times(r).times(4)).sqrts(),a=e.times(-1),c=t.times(2);return n.map(h=>a.minus(h).dividedBy(c))}isEqualTo(t){return t instanceof O?this.real===t.real&&this.imag===t.imag:typeof t=="number"?this.real===t&&this.imag===0:!1}isApproximatelyEqualTo(t,e){if(t instanceof O||typeof t=="number"){let r=this.minus(O.from(t));return Math.abs(r.real)<=e&&Math.abs(r.imag)<=e&&r.abs()<=e}return!1}norm2(){return this.real*this.real+this.imag*this.imag}abs(){return Math.sqrt(this.norm2())}unit(){let t=this.norm2();return t<1e-5?O.polar(1,this.phase()):this.dividedBy(Math.sqrt(t))}plus(t){let e=O.from(t);return new O(this.real+e.real,this.imag+e.imag)}minus(t){let e=O.from(t);return new O(this.real-e.real,this.imag-e.imag)}times(t){let e=O.from(t);return new O(this.real*e.real-this.imag*e.imag,this.real*e.imag+this.imag*e.real)}dividedBy(t){let e=O.from(t),r=e.norm2();if(r===0)throw new Error("Division by Zero");let n=this.times(e.conjugate());return new O(n.real/r,n.imag/r)}sqrts(){let[t,e]=[this.real,this.imag],r=Math.sqrt(Math.sqrt(t*t+e*e));if(r===0)return[O.ZERO];if(e===0&&t<0)return[new O(0,r),new O(0,-r)];let n=this.phase()/2,a=O.polar(r,n);return[a,a.times(-1)]}conjugate(){return new O(this.real,-this.imag)}toString(t){return t=t||Ft.EXACT,t.allowAbbreviation?this.toStringAllowSingleValue(t):this.toStringBothValues(t)}neg(){return new O(-this.real,-this.imag)}raisedTo(t){return t===.5&&this.imag===0&&this.real>=0?new O(Math.sqrt(this.real),0):O.ZERO.isEqualTo(t)?O.ONE:this.isEqualTo(O.ZERO)?O.ZERO:this.ln().times(O.from(t)).exp()}exp(){return O.polar(Math.exp(this.real),this.imag)}cos(){let t=this.times(O.I);return t.exp().plus(t.neg().exp()).times(.5)}sin(){let t=this.times(O.I);return t.exp().minus(t.neg().exp()).dividedBy(new O(0,2))}tan(){return this.sin().dividedBy(this.cos())}ln(){return new O(Math.log(this.abs()),this.phase())}phase(){return Math.atan2(this.imag,this.real)}toStringAllowSingleValue(t){return Math.abs(this.imag)<=t.maxAbbreviationError?t.formatFloat(this.real):Math.abs(this.real)<=t.maxAbbreviationError?Math.abs(this.imag-1)<=t.maxAbbreviationError?"i":Math.abs(this.imag+1)<=t.maxAbbreviationError?"-i":`${t.formatFloat(this.imag)}i`:this.toStringBothValues(t)}toStringBothValues(t){let e=this.imag>=0?"+":"-",r=t.allowAbbreviation&&Math.abs(Math.abs(this.imag)-1)<=t.maxAbbreviationError?"":t.formatFloat(Math.abs(this.imag));return`${(t.allowAbbreviation||t.fixedDigits===void 0||this.real<0?"":"+")+t.formatFloat(this.real)+e+r}i`}},"b"),V=O;V.ZERO=new O(0,0),V.ONE=new O(1,0),V.I=new O(0,1);var mh="H",gh="X",yh="Y",Ih="Z",xh="P",bh="T",Mh="X^\xBD",Wh="Rx",Rh="Ry",wh="Rz",Ah="Swap",Eh="\u2022",_h="Bloch",Sh="|0>",qh="|1>",Oh="Measure",k=i(class{static PHASE(t){let e=xe(t),r=V.from(Math.E);return k.square(1,0,0,r.raisedTo(V.I.times(e)))}static get RNOT(){let t=V.I,e=t.neg();return k.square(t.plus(1),e.plus(1),e.plus(1),t.plus(1)).times(.5)}static RX(t){let e=xe(t),r=V.I.neg(),n=Math.cos(e/2),a=Math.sin(e/2);return k.square(n,r.times(a),r.times(a),n)}static RY(t){let e=xe(t),r=Math.cos(e/2),n=Math.sin(e/2);return k.square(r,-n,n,r)}static RZ(t){let e=xe(t),r=V.from(Math.E),n=V.I;return k.square(r.raisedTo(n.neg().times(e/2)),0,0,r.raisedTo(n.times(e/2)))}static fromRows(t){let e=t.length,r=t.map(y=>y.length);if(!(0,qn.isNonEmpty)(r))throw new et("Zero height",{rows:t});let n=(0,On.uniq)(Sn.Eq)(r);if(n.length!==1)throw new et("Inconsistent row widths.",{rows:t});let a=n[0],c=new Float64Array(a*e*2),h=0;for(let y of t)for(let M of y)c[h]=V.realPartOf(M),c[h+1]=V.imagPartOf(M),h+=2;return new k(a,e,c)}static generate(t,e,r){let n=new Float64Array(t*e*2);for(let a=0;a<e;a++)for(let c=0;c<t;c++){let h=(a*t+c)*2,y=r(a,c);n[h]=V.realPartOf(y),n[h+1]=V.imagPartOf(y)}return new k(t,e,n)}static solo(t){return new k(1,1,new Float64Array([V.realPartOf(t),V.imagPartOf(t)]))}static square(...t){ht.need(Array.isArray(t),"Array.isArray(coefs)",t);let e=Math.round(Math.sqrt(t.length));return ht.need(e*e===t.length,"Matrix.square: non-square number of arguments"),k.generate(e,e,(r,n)=>t[r*e+n])}static col(...t){return ht.need(Array.isArray(t),"Array.isArray(coefs)",t),k.generate(1,t.length,e=>t[e])}static row(...t){return ht.need(Array.isArray(t),"Array.isArray(coefs)",t),k.generate(t.length,1,(e,r)=>t[r])}static identity(t){if(!Number.isInteger(t)||t<=0)throw new et("Bad size",{size:t});let e=new Float64Array(t*t*2);for(let r=0;r<t;r++)e[r*(t+1)*2]=1;return new k(t,t,e)}static zero(t,e){return new k(t,e,new Float64Array(t*e*2))}constructor(t,e,r){if(t*e*2!==r.length)throw new et("width*height*2 !== buffer.length",{width:t,height:e,len:r.length});this.width=t,this.height=e,this.buffer=r}columnAt(t){ht.need(t>=0&&t<=this.width,"colIndex >= 0 && colIndex <= this.width");let e=[];for(let r=0;r<this.height;r++)e.push(this.cell(t,r));return e}adjoint(){let t=this.height,e=this.width,r=new Float64Array(t*e*2);for(let n=0;n<e;n++)for(let a=0;a<t;a++){let c=(a*this.width+n)*2,h=(n*t+a)*2;r[h]=this.buffer[c],r[h+1]=-this.buffer[c+1]}return new k(t,e,r)}times(t){return t instanceof k?this.timesMatrix(t):this.timesScalar(t)}timesMatrix(t){if(this.width!==t.height)throw new et("Incompatible sizes.",{this:this,other:t});let e=t.width,r=this.height,n=this.width,a=new Float64Array(e*r*2);for(let c=0;c<r;c++)for(let h=0;h<e;h++){let y=(c*e+h)*2;for(let M=0;M<n;M++){let q=(c*n+M)*2,F=(M*e+h)*2,S=this.buffer[q],m=this.buffer[q+1],v=t.buffer[F],l=t.buffer[F+1],p=S*v-m*l,d=S*l+v*m;a[y]+=p,a[y+1]+=d}}return new k(e,r,a)}timesScalar(t){let e=new Float64Array(this.buffer.length),r=V.realPartOf(t),n=V.imagPartOf(t);for(let a=0;a<e.length;a+=2){let c=this.buffer[a],h=this.buffer[a+1];e[a]=c*r-h*n,e[a+1]=c*n+h*r}return new k(this.width,this.height,e)}isEqualTo(t){if(this===t)return!0;if(!(t instanceof k))return!1;let e=t;return this.width===e.width&&this.height===e.height&&(0,be.range)(0,this.buffer.length-1).every(r=>this.buffer[r]===e.buffer[r])}isApproximatelyEqualTo(t,e){return t instanceof k&&this.width===t.width&&this.height===t.height&&Math.sqrt(this.minus(t).norm2())<=e}minus(t){let{width:e,height:r,buffer:n}=this,a=t.buffer;ht.need(t.width===e&&t.height===r,"Matrix.minus: compatible sizes");let c=new Float64Array(this.buffer.length);for(let h=0;h<c.length;h++)c[h]=n[h]-a[h];return new k(e,r,c)}norm2(){let t=0;for(let e of this.buffer)t+=e*e;return t}toString(t=Ft.EXACT){return`{{${this.rows().map(e=>e.map(r=>r.toString(t)).join(t.itemSeparator)).join(`}${t.itemSeparator}{`)}}}`}rows(){return(0,be.range)(0,this.height-1).map(t=>(0,be.range)(0,this.width-1).map(e=>this.cell(e,t)))}cell(t,e){if(t<0||e<0||t>=this.width||e>=this.height)throw new et("Cell out of range",{col:t,row:e,width:this.width,height:this.height});let r=(this.width*e+t)*2;return new V(this.buffer[r],this.buffer[r+1])}set(t,e,r){if(t<0||e<0||t>=this.width||e>=this.height)throw new et("Cell out of range",{col:t,row:e,width:this.width,height:this.height});let n=(this.width*e+t)*2;this.buffer[n]=r.real,this.buffer[n+1]=r.imag}isApproximatelyHermitian(t){if(this.width!==this.height)return!1;for(let e=0;e<this.width;e++)for(let r=0;r<this.height;r++){let n=(this.width*r+e)*2,a=(this.width*e+r)*2;if(Math.abs(this.buffer[n]-this.buffer[a])>t||Math.abs(this.buffer[n+1]+this.buffer[a+1])>t)return!1}return!0}plus(t){let{width:e,height:r,buffer:n}=this,a=t.buffer;ht.need(t.width===e&&t.height===r,"Matrix.plus: compatible sizes");let c=new Float64Array(this.buffer.length);for(let h=0;h<c.length;h++)c[h]=n[h]+a[h];return new k(e,r,c)}tensorProduct(t){let e=this.width,r=this.height,n=t.width,a=t.height,c=e*n,h=r*a,y=new Float64Array(c*h*2);for(let M=0;M<r;M++)for(let q=0;q<a;q++)for(let F=0;F<e;F++)for(let S=0;S<n;S++){let m=(M*e+F)*2,v=(q*n+S)*2,l=((M*a+q)*c+(F*n+S))*2,p=this.buffer[m],d=this.buffer[m+1],g=t.buffer[v],I=t.buffer[v+1],C=p*g-d*I,B=p*I+d*g;y[l]=C,y[l+1]=B}return new k(c,h,y)}timesQubitOperation(t,e,r,n){ht.need((r&1<<e)===0,"Matrix.timesQubitOperation: self-controlled"),ht.need(t.width===2&&t.height===2,"Matrix.timesQubitOperation: not 2x2");let{width:a,height:c,buffer:h}=this,[y,M,q,F,S,m,v,l]=t.buffer;ht.need(c>=2<<e,"Matrix.timesQubitOperation: qubit index out of range");let p=new Float64Array(h),d=0;for(let g=0;g<c;g++){let I=(r&g^n)!==0,C=(g&1<<e)!==0;for(let B=0;B<a;B++){if(!I&&!C){let it=d+(1<<e)*2*a,E=p[d],A=p[d+1],w=p[it],R=p[it+1];p[d]=E*y-A*M+w*q-R*F,p[d+1]=E*M+A*y+w*F+R*q,p[it]=E*S-A*m+w*v-R*l,p[it+1]=E*m+A*S+w*l+R*v}d+=2}}return new k(a,c,p)}trace(){let t=0,e=0,r=this.width*2+2;for(let n=0;n<this.buffer.length;n+=r)t+=this.buffer[n],e+=this.buffer[n+1];return new V(t,e)}qubitDensityMatrixToBlochVector(){if(this.width!==2||this.height!==2)throw new et("Need a 2x2 density matrix.",this);if(!this.isApproximatelyHermitian(.01))throw new et("Density matrix should be Hermitian.",this);if(!this.trace().isApproximatelyEqualTo(1,.01))throw new et("Density matrix should have unit trace.",this);let[t,e,r,n,a,c,h,y]=this.buffer,M=a+r,q=c-n,F=t-h;return[M,q,F]}clone(){return new k(this.width,this.height,this.buffer.slice())}},"y"),P=k;P.H=k.square(1,1,1,-1).times(Math.sqrt(.5)),P.PAULI_X=k.square(0,1,1,0),P.PAULI_Y=k.square(0,new V(0,-1),V.I,0),P.PAULI_Z=k.square(1,0,0,-1),P.T=k.square(1,0,0,V.from(Math.E).raisedTo(V.I.times(Math.PI/4)));var Un=i(class{get bra(){return this.matrix.adjoint()}get ket(){return this.matrix}constructor(t){typeof t=="string"?this.matrix=this.bitstringToMatrix(t):this.matrix=t,this.size=this.matrix.height,this.nqubit=Math.log2(this.size)}amplifier(t){return this.matrix.cell(0,t)}setAmplifier(t,e){this.matrix.set(0,t,e)}blochVector(t){return this.qubitDensityMatrix(t).qubitDensityMatrixToBlochVector()}isApproximatelyEqualTo(t,e){return t instanceof Un&&this.matrix.isApproximatelyEqualTo(t.matrix,e)}timesQubitOperation(t,e,r){this.matrix=this.matrix.timesQubitOperation(t,e,r,r)}toString(){return this.matrix.toString()}bitstringToMatrix(t){let e=!1,r="",n=[],a=new et("Invalid StateVector bit string",t);for(let c of t.split(""))switch(c){case"0":{if(e)throw a;n.push(P.col(1,0));break}case"1":{if(e)throw a;n.push(P.col(0,1));break}case"+":{if(e)throw a;n.push(P.col(1,1).times(Math.sqrt(.5)));break}case"-":{e?r+="-":n.push(P.col(1,-1).times(Math.sqrt(.5)));break}case"i":{e?r+="i":n.push(P.col(1,new V(0,1)).times(Math.sqrt(.5)));break}case"(":{if(e)throw a;e=!0,r="";break}case")":{if(!e||r!=="-i")throw a;n.push(P.col(1,new V(0,-1)).times(Math.sqrt(.5))),e=!1;break}default:throw a}if(n.length===0)throw a;return n.reduce((c,h)=>c.tensorProduct(h))}qubitDensityMatrix(t){if(t<0||t>=this.nqubit)throw new et("Qubit index out of range",t);let e=[...Array(Math.log2(this.matrix.height)).keys()].filter(a=>a!==t),r=i((a,c)=>c.sort().reverse().reduce((h,y)=>{let M=h>>y+1;M=M<<y;let q=(1<<y)-1&h;return M|q},a),"i"),n=P.zero(2,2);for(let a=0;a<this.matrix.height;a++)for(let c=0;c<this.matrix.height;c++){if(!e.every(F=>(a>>F&1)===(c>>F&1)))continue;let h=this.matrix.cell(0,c).times(this.matrix.cell(0,a).conjugate());if(h.isEqualTo(0))continue;let y=r(c,e)===0?P.col(1,0):P.col(0,1),M=r(a,e)===0?P.row(1,0):P.row(0,1),q=y.times(M);n=n.plus(q.times(h))}return n}},"D");function Uh(t,e){return Math.round(t*Math.pow(10,e))/Math.pow(10,e)}i(Uh,"ut");var Nn=i(class{constructor(t){typeof t=="string"?this.state=new Un(t):this.state=t,this.measuredBits={},this.flags={}}runStep(t){this.blochVectors={};for(let e of t)switch(e.type){case Sh:this.write(0,...e.targets);break;case qh:this.write(1,...e.targets);break;case _h:for(let r of e.targets)this.blochVectors[r]=this.state.blochVector(r);break;case mh:if(e.if&&!this.flags[e.if])break;e.controls&&e.controls.length>0?this.ch(e.controls,...e.targets):this.h(...e.targets);break;case gh:if(e.if&&!this.flags[e.if])break;e.controls&&e.controls.length>0?this.cnot(e.controls,...e.targets):this.x(...e.targets);break;case yh:if(e.if&&!this.flags[e.if])break;e.controls&&e.controls.length>0?this.cy(e.controls,...e.targets):this.y(...e.targets);break;case Ih:if(e.if&&!this.flags[e.if])break;e.controls&&e.controls.length>0?this.cz(e.controls,...e.targets):this.z(...e.targets);break;case xh:{if(!e.angle)break;e.controls&&e.controls.length>0?this.cphase(e.controls,e.angle,e.targets[0]):this.cphase(e.targets.slice(1),e.angle,e.targets[0]);break}case bh:{if(e.if&&!this.flags[e.if])break;e.controls&&e.controls.length>0?this.ct(e.controls,...e.targets):this.t(...e.targets);break}case Eh:{this.cz(e.targets.slice(1),e.targets[0]);break}case Ah:{e.controls&&e.controls.length===1?this.cswap(e.controls[0],e.targets[0],e.targets[1]):this.swap(e.targets[0],e.targets[1]);break}case Mh:if(e.if&&!this.flags[e.if])break;e.controls&&e.controls.length>0?this.crnot(e.controls,...e.targets):this.rnot(...e.targets);break;case Wh:if(e.if&&!this.flags[e.if]||!e.angle)break;e.controls&&e.controls.length>0?this.crx(e.controls,e.angle,...e.targets):this.rx(e.angle,...e.targets);break;case Rh:if(e.if&&!this.flags[e.if]||!e.angle)break;e.controls&&e.controls.length>0?this.cry(e.controls,e.angle,...e.targets):this.ry(e.angle,...e.targets);break;case wh:if(e.if&&!this.flags[e.if]||!e.angle)break;e.controls&&e.controls.length>0?this.crz(e.controls,e.angle,...e.targets):this.rz(e.angle,...e.targets);break;case Oh:for(let r of e.targets)this.measure(r),e.flag&&(this.flags[e.flag]=this.measuredBits[r]===1);break;default:throw new Error("Unknown instruction")}return this}write(t,...e){for(let r of e){let n=Uh(this.pZero(r),5);(t===0&&n===0||t===1&&n===1)&&this.x(r)}return this}h(...t){return this.u(P.H,...t),this}ch(t,...e){return this.cu(t,P.H,...e),this}x(...t){return this.u(P.PAULI_X,...t),this}cnot(t,...e){return this.cu(t,P.PAULI_X,...e),this}y(...t){return this.u(P.PAULI_Y,...t),this}cy(t,...e){return this.cu(t,P.PAULI_Y,...e),this}z(...t){return this.u(P.PAULI_Z,...t),this}cz(t,...e){return this.cu(t,P.PAULI_Z,...e),this}phase(t,...e){return this.u(P.PHASE(t),...e),this}cphase(t,e,...r){return this.cu(t,P.PHASE(e),...r),this}t(...t){return this.u(P.T,...t),this}ct(t,...e){return this.cu(t,P.T,...e),this}swap(t,e){return this.cnot(t,e).cnot(e,t).cnot(t,e),this}cswap(t,e,r){return this.cnot([t,e],r).cnot([t,r],e).cnot([t,e],r),this}rnot(...t){return this.u(P.RNOT,...t),this}crnot(t,...e){return this.cu(t,P.RNOT,...e),this}rx(t,...e){return this.u(P.RX(t),...e),this}crx(t,e,...r){return this.cu(t,P.RX(e),...r),this}ry(t,...e){return this.u(P.RY(t),...e),this}cry(t,e,...r){return this.cu(t,P.RY(e),...r),this}rz(t,...e){return this.u(P.RZ(t),...e),this}crz(t,e,...r){return this.cu(t,P.RZ(e),...r),this}measure(...t){for(let e of t){let r=this.pZero(e);if(Math.random()<=r){for(let n=0;n<1<<this.state.nqubit;n++)(n&1<<e)!==0&&this.state.setAmplifier(n,V.ZERO),this.state.setAmplifier(n,this.state.amplifier(n).dividedBy(Math.sqrt(r)));this.measuredBits[e]=0}else{for(let n=0;n<1<<this.state.nqubit;n++)(n&1<<e)===0&&this.state.setAmplifier(n,V.ZERO),this.state.setAmplifier(n,this.state.amplifier(n).dividedBy(Math.sqrt(1-r)));this.measuredBits[e]=1}}return this}amplitudes(){return this.state.matrix.columnAt(0)}u(t,...e){for(let r of e)this.state.timesQubitOperation(t,r,0)}cu(t,e,...r){let n=(typeof t=="number"?[t]:t).reduce((a,c)=>a|1<<c,0);for(let a of r)this.state.timesQubitOperation(e,a,n)}pZero(t){let e=0;for(let r=0;r<1<<this.state.nqubit;r++)(r&1<<t)===0&&(e+=Math.pow(this.state.amplifier(r).abs(),2));return e}},"Ct");var Nh=Bt(Bn());var Fh=Object.prototype.toString.call({}),Bh="!recursion-limit!",Lh=10;function wt(t,e=Lh){return Ph(t)||Th(t,e)||Dh(t,e)}i(wt,"c");function Ph(t){if(t===null)return"null";if(t===void 0)return"undefined";if(typeof t=="string")return`"${t}"`;if(typeof t=="number")return String(t)}i(Ph,"O");function Th(t,e){if(e===0)return Bh;if(t instanceof Map)return zh(t,e);if(t instanceof Set)return jh(t,e);if((r=>r[Symbol.iterator]!==void 0)(t))return Ch(t,e)}i(Th,"G");function Dh(t,e){let r=String(t);return r!==Fh?r:$h(t,e)}i(Dh,"R");function zh(t,e){let r=[];for(let[n,a]of t.entries()){if(r.length>1e3){r.push("[...]");break}let c=wt(n,e-1),h=wt(a,e-1);r.push(`${c}: ${h}`)}return`Map{${r.join(", ")}}`}i(zh,"N");function jh(t,e){let r=[];for(let n of t){if(r.length>1e3){r.push("[...]");break}r.push(wt(n,e-1))}return`Set{${r.join(", ")}}`}i(jh,"q");function Ch(t,e){let r=[];for(let n of t){if(r.length>1e3){r.push("[...]");break}r.push(wt(n,e-1))}return`${Array.isArray(t)?"":t.constructor.name}[${r.join(", ")}]`}i(Ch,"D");function $h(t,e){let r=[];for(let a in t){if(!Object.prototype.hasOwnProperty.call(t,a))continue;if(r.length>1e3){r.push("[...]");break}let c=t[a],h=wt(a,e-1),y=wt(c,e-1);r.push(`${h}: ${y}`)}let n=t.constructor.name;return`${n==={}.constructor.name?"":`(Type: ${n})`}{${r.join(", ")}}`}i($h,"v");var wr=0,Me=i(class extends Error{constructor(t,e){super(t);this.detailsObj=e,this.name="Error",this.message=t,this.stack=new Error().stack,this.stack!==void 0&&(this.stack=this.stack.replace(/^Error\n\s+at new DetailedError (\S+)\s?\n\s+at /,`
    `)),wr++;try{this.details=wr===1?wt(this.detailsObj):"(failed to describe detailsObj due to possibly re-entrancy)"}catch(r){console.error(r),this.details="(failed to describe detailsObj, see the console for details)"}finally{wr--}}},"d"),Zh=[{character:"\xBD",ref:"\xBD",expanded:"1/2",value:.5},{character:"\xBC",ref:"\xBC",expanded:"1/4",value:.25},{character:"\xBE",ref:"\xBE",expanded:"3/4",value:.75},{character:"\u2153",ref:"\u2153",expanded:"1/3",value:.3333333333333333},{character:"\u2154",ref:"\u2154",expanded:"2/3",value:.6666666666666666},{character:"\u2155",ref:"\u2155",expanded:"1/5",value:.2},{character:"\u2156",ref:"\u2156",expanded:"2/5",value:.4},{character:"\u2157",ref:"\u2157",expanded:"3/5",value:.6},{character:"\u2158",ref:"\u2158",expanded:"4/5",value:.8},{character:"\u2159",ref:"\u2159",expanded:"1/6",value:.16666666666666666},{character:"\u215A",ref:"\u215A",expanded:"5/6",value:.8333333333333334},{character:"\u2150",ref:"\u2150",expanded:"1/7",value:.14285714285714285},{character:"\u215B",ref:"\u215B",expanded:"1/8",value:.125},{character:"\u215C",ref:"\u215C",expanded:"3/8",value:.375},{character:"\u215D",ref:"\u215D",expanded:"5/8",value:.625},{character:"\u215E",ref:"\u215E",expanded:"7/8",value:.875},{character:"\u2151",ref:"\u2151",expanded:"1/9",value:.1111111111111111},{character:"\u2152",ref:"\u2152",expanded:"1/10",value:.1}],ft=i(class{static parseFloat(t){if(t.length===0)throw new Error(`Not a number: '${t}'`);if(t[0]==="-")return-ft.parseFloat(t.substr(1));if(t[0]==="\u221A")return Math.sqrt(ft.parseFloat(t.substr(1)));let e=ft.matchUnicodeFraction(n=>n.character===t);if(e!==void 0)return e.value;let r=parseFloat(t);if(isNaN(r))throw new Error(`Not a number: '${t}'`);return r}static simplifyByRounding(t,e){if(t<0)return-ft.simplifyByRounding(-t,e);let r=t%1;if(r<=e||1-r<=e)return Math.round(t);let n=ft.matchUnicodeFraction(c=>Math.abs(c.value-t)<=e);if(n!==void 0)return n.value;let a=ft.matchUnicodeFraction(c=>Math.abs(Math.sqrt(c.value)-t)<=e);return a!==void 0?Math.sqrt(a.value):t}static matchUnicodeFraction(t){for(let e of Zh)if(t(e))return e}constructor(t,e,r,n){this.allowAbbreviation=t,this.maxAbbreviationError=e,this.fixedDigits=r,this.itemSeparator=n}formatFloat(t){return this.allowAbbreviation?this.abbreviateFloat(t,this.maxAbbreviationError,this.fixedDigits):this.fixedDigits!==void 0?t.toFixed(this.fixedDigits):String(t)}abbreviateFloat(t,e=0,r=void 0){if(Math.abs(t)<e)return"0";if(t<0)return`-${this.abbreviateFloat(-t,e,r)}`;let n=ft.matchUnicodeFraction(c=>Math.abs(c.value-t)<=e);if(n!==void 0)return n.character;let a=ft.matchUnicodeFraction(c=>Math.abs(Math.sqrt(c.value)-t)<=e);return a!==void 0?`\u221A${a.character}`:t%1!==0&&r!==void 0?t.toFixed(r):t.toString()}},"u"),Jt=ft;Jt.CONSISTENT=new ft(!1,0,2,", "),Jt.EXACT=new ft(!0,0,void 0,", "),Jt.MINIFIED=new ft(!0,0,void 0,","),Jt.SIMPLIFIED=new ft(!0,5e-4,3,", ");var At=i(class{static need(t,e,r){if(t!==!0){let n=r===void 0?"(not provided)":`[${Array.prototype.slice.call(r).join(", ")}]`,a=`Precondition failed

Message: ${e===void 0?"(not provided)":e}

Args: ${n}`;throw new Error(a)}}static notNull(t){At.need(t!=null,"notNull")}static snappedCosSin(t){let e=Math.PI/4,r=Math.round(t/e);if(r*e===t){let n=Math.sqrt(.5);return[[1,0],[n,n],[0,1],[-n,n],[-1,0],[-n,-n],[0,-1],[n,-n]][r&7]}return[Math.cos(t),Math.sin(t)]}},"y"),U=i(class{static from(t){if(t instanceof U)return t;if(typeof t=="number")return new U(t,0);throw new Me("Unrecognized value type.",{v:t})}static polar(t,e){let[r,n]=At.snappedCosSin(e);return new U(t*r,t*n)}static realPartOf(t){if(t instanceof U)return t.real;if(typeof t=="number")return t;throw new Me("Unrecognized value type.",{v:t})}static imagPartOf(t){if(t instanceof U)return t.imag;if(typeof t=="number")return 0;throw new Me("Unrecognized value type.",{v:t})}static parse(t){let e=t.match(/^\s*([+-]?\d+(?:\.\d*)?(?:e[+-]?\d+)?)\s*(?:([+-])\s*i)?\s*$/);if(e){let[,r,n,a]=e;r===void 0&&(r="0"),n===void 0&&(n="+"),a===void 0&&(a="0");let[c,h]=[r,a].map(q=>parseFloat(q)),[y,M]=[n,n].map(q=>q==="-"?-1:1);return new U(c*y,h*M)}throw new Me("Invalid complex number string.",{s:t})}constructor(t,e){this.real=t,this.imag=e}static rootsOfQuadratic(t,e,r){if(t=U.from(t),e=U.from(e),r=U.from(r),t.isEqualTo(0)){if(!e.isEqualTo(0))return[r.times(-1).dividedBy(e)];if(!r.isEqualTo(0))return[];throw Error("Degenerate")}let n=e.times(e).minus(t.times(r).times(4)).sqrts(),a=e.times(-1),c=t.times(2);return n.map(h=>a.minus(h).dividedBy(c))}isEqualTo(t){return t instanceof U?this.real===t.real&&this.imag===t.imag:typeof t=="number"?this.real===t&&this.imag===0:!1}isApproximatelyEqualTo(t,e){if(t instanceof U||typeof t=="number"){let r=this.minus(U.from(t));return Math.abs(r.real)<=e&&Math.abs(r.imag)<=e&&r.abs()<=e}return!1}norm2(){return this.real*this.real+this.imag*this.imag}abs(){return Math.sqrt(this.norm2())}unit(){let t=this.norm2();return t<1e-5?U.polar(1,this.phase()):this.dividedBy(Math.sqrt(t))}plus(t){let e=U.from(t);return new U(this.real+e.real,this.imag+e.imag)}minus(t){let e=U.from(t);return new U(this.real-e.real,this.imag-e.imag)}times(t){let e=U.from(t);return new U(this.real*e.real-this.imag*e.imag,this.real*e.imag+this.imag*e.real)}dividedBy(t){let e=U.from(t),r=e.norm2();if(r===0)throw new Error("Division by Zero");let n=this.times(e.conjugate());return new U(n.real/r,n.imag/r)}sqrts(){let[t,e]=[this.real,this.imag],r=Math.sqrt(Math.sqrt(t*t+e*e));if(r===0)return[U.ZERO];if(e===0&&t<0)return[new U(0,r),new U(0,-r)];let n=this.phase()/2,a=U.polar(r,n);return[a,a.times(-1)]}conjugate(){return new U(this.real,-this.imag)}toString(t){return t=t||Jt.EXACT,t.allowAbbreviation?this.toStringAllowSingleValue(t):this.toStringBothValues(t)}neg(){return new U(-this.real,-this.imag)}raisedTo(t){return t===.5&&this.imag===0&&this.real>=0?new U(Math.sqrt(this.real),0):U.ZERO.isEqualTo(t)?U.ONE:this.isEqualTo(U.ZERO)?U.ZERO:this.ln().times(U.from(t)).exp()}exp(){return U.polar(Math.exp(this.real),this.imag)}cos(){let t=this.times(U.I);return t.exp().plus(t.neg().exp()).times(.5)}sin(){let t=this.times(U.I);return t.exp().minus(t.neg().exp()).dividedBy(new U(0,2))}tan(){return this.sin().dividedBy(this.cos())}ln(){return new U(Math.log(this.abs()),this.phase())}phase(){return Math.atan2(this.imag,this.real)}toStringAllowSingleValue(t){return Math.abs(this.imag)<=t.maxAbbreviationError?t.formatFloat(this.real):Math.abs(this.real)<=t.maxAbbreviationError?Math.abs(this.imag-1)<=t.maxAbbreviationError?"i":Math.abs(this.imag+1)<=t.maxAbbreviationError?"-i":`${t.formatFloat(this.imag)}i`:this.toStringBothValues(t)}toStringBothValues(t){let e=this.imag>=0?"+":"-",r=t.allowAbbreviation&&Math.abs(Math.abs(this.imag)-1)<=t.maxAbbreviationError?"":t.formatFloat(Math.abs(this.imag));return`${(t.allowAbbreviation||t.fixedDigits===void 0||this.real<0?"":"+")+t.formatFloat(this.real)+e+r}i`}},"o"),Ar=U;Ar.ZERO=new U(0,0),Ar.ONE=new U(1,0),Ar.I=new U(0,1);var Et={};function kh(t){let e=t.data.circuitJson,r=t.data.qubitCount,n=t.data.stepIndex,a=t.data.steps,c=t.data.targets,h=t.data.invalidateCaches,y=new Nn("0".repeat(r));At.notNull(r),At.notNull(n),At.notNull(a),At.notNull(c),(Et[e]===void 0||h)&&(Et={},Et[e]={});for(let[M,q]of a.entries()){let F={};Et[e][M]===void 0&&(Et[e][M]={});let S=Et[e][M];if(S===void 0||S.targets===void 0||S.targets.length<c.length){y.runStep(q);let m=y.state.matrix.clone(),v=Object.assign({},y.blochVectors),l=Object.assign({},y.measuredBits),p=Object.assign({},y.flags);if(Et[e][M]={type:"step",step:M,amplitudes:m,targets:c,blochVectors:v,measuredBits:l,flags:p},M===n){let d=Ln(c,m);F={type:"step",step:M,amplitudes:d,blochVectors:v,measuredBits:l,flags:p}}else F={type:"step",step:M,amplitudes:[],blochVectors:v,measuredBits:l,flags:p}}else F={type:"step",step:M,amplitudes:[],blochVectors:S.blochVectors,measuredBits:S.measuredBits,flags:S.flags},M===n&&(F.amplitudes=Ln(c,S.amplitudes));self.postMessage(F)}self.postMessage({type:"finish"})}i(kh,"runSimulator");var Ln=i((t,e)=>t.reduce((r,n)=>{if(n>=e.height)r[n]=[0,0];else{let a=e.cell(0,n);r[n]=[a.real,a.imag]}return r},{}),"pickTargetAmplitudes");self.addEventListener("message",kh);})();
/**
 * @license Fraction.js v4.2.0 05/03/2022
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
//# sourceMappingURL=serviceworker.js.map
