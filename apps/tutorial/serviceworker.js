(()=>{var Tn=Object.create;var ee=Object.defineProperty;var Ln=Object.getOwnPropertyDescriptor;var Pn=Object.getOwnPropertyNames;var Dn=Object.getPrototypeOf,zn=Object.prototype.hasOwnProperty;var jn=e=>ee(e,"__esModule",{value:!0}),a=(e,t)=>ee(e,"name",{value:t,configurable:!0});var X=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var kn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let u of Pn(t))!zn.call(e,u)&&(r||u!=="default")&&ee(e,u,{get:()=>t[u],enumerable:!(n=Ln(t,u))||n.enumerable});return e},Ft=(e,t)=>kn(jn(ee(e!=null?Tn(Dn(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var we=X(z=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});z.Field=z.MonoidProduct=z.MonoidSum=z.SemigroupProduct=z.SemigroupSum=z.MagmaSub=z.Show=z.Bounded=z.Ord=z.Eq=z.isNumber=void 0;var $n=a(function(e){return typeof e=="number"},"isNumber");z.isNumber=$n;z.Eq={equals:function(e,t){return e===t}};z.Ord={equals:z.Eq.equals,compare:function(e,t){return e<t?-1:e>t?1:0}};z.Bounded={equals:z.Eq.equals,compare:z.Ord.compare,top:1/0,bottom:-1/0};z.Show={show:function(e){return JSON.stringify(e)}};z.MagmaSub={concat:function(e,t){return e-t}};z.SemigroupSum={concat:function(e,t){return e+t}};z.SemigroupProduct={concat:function(e,t){return e*t}};z.MonoidSum={concat:z.SemigroupSum.concat,empty:0};z.MonoidProduct={concat:z.SemigroupProduct.concat,empty:1};z.Field={add:z.SemigroupSum.concat,zero:0,mul:z.SemigroupProduct.concat,one:1,sub:z.MagmaSub.concat,degree:function(e){return 1},div:function(e,t){return e/t},mod:function(e,t){return e%t}}});var st=X(w=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0});w.getEndomorphismMonoid=w.not=w.SK=w.hole=w.pipe=w.untupled=w.tupled=w.absurd=w.decrement=w.increment=w.tuple=w.flow=w.flip=w.constVoid=w.constUndefined=w.constNull=w.constFalse=w.constTrue=w.constant=w.unsafeCoerce=w.identity=w.apply=w.getRing=w.getSemiring=w.getMonoid=w.getSemigroup=w.getBooleanAlgebra=void 0;var Zn=a(function(e){return function(){return{meet:function(t,r){return function(n){return e.meet(t(n),r(n))}},join:function(t,r){return function(n){return e.join(t(n),r(n))}},zero:function(){return e.zero},one:function(){return e.one},implies:function(t,r){return function(n){return e.implies(t(n),r(n))}},not:function(t){return function(r){return e.not(t(r))}}}}},"getBooleanAlgebra");w.getBooleanAlgebra=Zn;var Kn=a(function(e){return function(){return{concat:function(t,r){return function(n){return e.concat(t(n),r(n))}}}}},"getSemigroup");w.getSemigroup=Kn;var Hn=a(function(e){var t=w.getSemigroup(e);return function(){return{concat:t().concat,empty:function(){return e.empty}}}},"getMonoid");w.getMonoid=Hn;var Vn=a(function(e){return{add:function(t,r){return function(n){return e.add(t(n),r(n))}},zero:function(){return e.zero},mul:function(t,r){return function(n){return e.mul(t(n),r(n))}},one:function(){return e.one}}},"getSemiring");w.getSemiring=Vn;var Gn=a(function(e){var t=w.getSemiring(e);return{add:t.add,mul:t.mul,one:t.one,zero:t.zero,sub:function(r,n){return function(u){return e.sub(r(u),n(u))}}}},"getRing");w.getRing=Gn;var Qn=a(function(e){return function(t){return t(e)}},"apply");w.apply=Qn;function We(e){return e}a(We,"identity");w.identity=We;w.unsafeCoerce=We;function Bt(e){return function(){return e}}a(Bt,"constant");w.constant=Bt;w.constTrue=Bt(!0);w.constFalse=Bt(!1);w.constNull=Bt(null);w.constUndefined=Bt(void 0);w.constVoid=w.constUndefined;function Xn(e){return function(t,r){return e(r,t)}}a(Xn,"flip");w.flip=Xn;function Ar(e,t,r,n,u,c,p,y,M){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return r(t(e.apply(this,arguments)))};case 4:return function(){return n(r(t(e.apply(this,arguments))))};case 5:return function(){return u(n(r(t(e.apply(this,arguments)))))};case 6:return function(){return c(u(n(r(t(e.apply(this,arguments))))))};case 7:return function(){return p(c(u(n(r(t(e.apply(this,arguments)))))))};case 8:return function(){return y(p(c(u(n(r(t(e.apply(this,arguments))))))))};case 9:return function(){return M(y(p(c(u(n(r(t(e.apply(this,arguments)))))))))}}}a(Ar,"flow");w.flow=Ar;function Yn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e}a(Yn,"tuple");w.tuple=Yn;function Jn(e){return e+1}a(Jn,"increment");w.increment=Jn;function ta(e){return e-1}a(ta,"decrement");w.decrement=ta;function Er(e){throw new Error("Called `absurd` function which should be uncallable")}a(Er,"absurd");w.absurd=Er;function ea(e){return function(t){return e.apply(void 0,t)}}a(ea,"tupled");w.tupled=ea;function ra(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e(t)}}a(ra,"untupled");w.untupled=ra;function na(e,t,r,n,u,c,p,y,M){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return r(t(e));case 4:return n(r(t(e)));case 5:return u(n(r(t(e))));case 6:return c(u(n(r(t(e)))));case 7:return p(c(u(n(r(t(e))))));case 8:return y(p(c(u(n(r(t(e)))))));case 9:return M(y(p(c(u(n(r(t(e))))))));default:for(var O=arguments[0],F=1;F<arguments.length;F++)O=arguments[F](O);return O}}a(na,"pipe");w.pipe=na;w.hole=Er;var aa=a(function(e,t){return t},"SK");w.SK=aa;function ia(e){return function(t){return!e(t)}}a(ia,"not");w.not=ia;var ua=a(function(){return{concat:function(e,t){return Ar(e,t)},empty:We}},"getEndomorphismMonoid");w.getEndomorphismMonoid=ua});var Tt=X(tt=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0});tt.sequenceS=tt.sequenceT=tt.getApplySemigroup=tt.apS=tt.apSecond=tt.apFirst=tt.ap=void 0;var oa=st();function ca(e,t){return function(r){return function(n){return e.ap(e.map(n,function(u){return function(c){return t.ap(u,c)}}),r)}}}a(ca,"ap");tt.ap=ca;function fa(e){return function(t){return function(r){return e.ap(e.map(r,function(n){return function(){return n}}),t)}}}a(fa,"apFirst");tt.apFirst=fa;function sa(e){return function(t){return function(r){return e.ap(e.map(r,function(){return function(n){return n}}),t)}}}a(sa,"apSecond");tt.apSecond=sa;function ha(e){return function(t,r){return function(n){return e.ap(e.map(n,function(u){return function(c){var p;return Object.assign({},u,(p={},p[t]=c,p))}}),r)}}}a(ha,"apS");tt.apS=ha;function pa(e){return function(t){return{concat:function(r,n){return e.ap(e.map(r,function(u){return function(c){return t.concat(u,c)}}),n)}}}}a(pa,"getApplySemigroup");tt.getApplySemigroup=pa;function Ce(e,t,r){return function(n){for(var u=Array(r.length+1),c=0;c<r.length;c++)u[c]=r[c];return u[r.length]=n,t===0?e.apply(null,u):Ce(e,t-1,u)}}a(Ce,"curried");var Re={1:function(e){return[e]},2:function(e){return function(t){return[e,t]}},3:function(e){return function(t){return function(r){return[e,t,r]}}},4:function(e){return function(t){return function(r){return function(n){return[e,t,r,n]}}}},5:function(e){return function(t){return function(r){return function(n){return function(u){return[e,t,r,n,u]}}}}}};function la(e){return Re.hasOwnProperty(e)||(Re[e]=Ce(oa.tuple,e-1,[])),Re[e]}a(la,"getTupleConstructor");function da(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=t.length,u=la(n),c=e.map(t[0],u),p=1;p<n;p++)c=e.ap(c,t[p]);return c}}a(da,"sequenceT");tt.sequenceT=da;function va(e){var t=e.length;switch(t){case 1:return function(r){var n;return n={},n[e[0]]=r,n};case 2:return function(r){return function(n){var u;return u={},u[e[0]]=r,u[e[1]]=n,u}};case 3:return function(r){return function(n){return function(u){var c;return c={},c[e[0]]=r,c[e[1]]=n,c[e[2]]=u,c}}};case 4:return function(r){return function(n){return function(u){return function(c){var p;return p={},p[e[0]]=r,p[e[1]]=n,p[e[2]]=u,p[e[3]]=c,p}}}};case 5:return function(r){return function(n){return function(u){return function(c){return function(p){var y;return y={},y[e[0]]=r,y[e[1]]=n,y[e[2]]=u,y[e[3]]=c,y[e[4]]=p,y}}}}};default:return Ce(function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];for(var u={},c=0;c<t;c++)u[e[c]]=r[c];return u},t-1,[])}}a(va,"getRecordConstructor");function ma(e){return function(t){for(var r=Object.keys(t),n=r.length,u=va(r),c=e.map(t[r[0]],u),p=1;p<n;p++)c=e.ap(c,t[r[p]]);return c}}a(ma,"sequenceS");tt.sequenceS=ma});var Lt=X(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.bind=Et.chainFirst=void 0;function ga(e){return function(t){return function(r){return e.chain(r,function(n){return e.map(t(n),function(){return n})})}}}a(ga,"chainFirst");Et.chainFirst=ga;function ya(e){return function(t,r){return function(n){return e.chain(n,function(u){return e.map(r(u),function(c){var p;return Object.assign({},u,(p={},p[t]=c,p))})})}}}a(ya,"bind");Et.bind=ya});var gt=X(T=>{"use strict";var Ia=T&&T.__spreadArray||function(e,t){for(var r=0,n=t.length,u=e.length;r<n;r++,u++)e[u]=t[r];return e};Object.defineProperty(T,"__esModule",{value:!0});T.fromReadonlyNonEmptyArray=T.has=T.emptyRecord=T.emptyReadonlyArray=T.tail=T.head=T.isNonEmpty=T.singleton=T.right=T.left=T.isRight=T.isLeft=T.some=T.none=T.isSome=T.isNone=void 0;var ba=a(function(e){return e._tag==="None"},"isNone");T.isNone=ba;var xa=a(function(e){return e._tag==="Some"},"isSome");T.isSome=xa;T.none={_tag:"None"};var Ma=a(function(e){return{_tag:"Some",value:e}},"some");T.some=Ma;var wa=a(function(e){return e._tag==="Left"},"isLeft");T.isLeft=wa;var Wa=a(function(e){return e._tag==="Right"},"isRight");T.isRight=Wa;var Ra=a(function(e){return{_tag:"Left",left:e}},"left");T.left=Ra;var Ca=a(function(e){return{_tag:"Right",right:e}},"right");T.right=Ca;var Aa=a(function(e){return[e]},"singleton");T.singleton=Aa;var Ea=a(function(e){return e.length>0},"isNonEmpty");T.isNonEmpty=Ea;var _a=a(function(e){return e[0]},"head");T.head=_a;var Sa=a(function(e){return e.slice(1)},"tail");T.tail=Sa;T.emptyReadonlyArray=[];T.emptyRecord={};T.has=Object.prototype.hasOwnProperty;var qa=a(function(e){return Ia([e[0]],e.slice(1))},"fromReadonlyNonEmptyArray");T.fromReadonlyNonEmptyArray=qa});var Ae=X(Q=>{"use strict";var Oa=Q&&Q.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ua=Q&&Q.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Na=Q&&Q.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Oa(t,e,r);return Ua(t,e),t};Object.defineProperty(Q,"__esModule",{value:!0});Q.filterOrElse=Q.chainEitherK=Q.fromEitherK=Q.chainOptionK=Q.fromOptionK=Q.fromPredicate=Q.fromOption=void 0;var _r=st(),xt=Na(gt());function Sr(e){return function(t){return function(r){return e.fromEither(xt.isNone(r)?xt.left(t()):xt.right(r.value))}}}a(Sr,"fromOption");Q.fromOption=Sr;function Fa(e){return function(t,r){return function(n){return e.fromEither(t(n)?xt.right(n):xt.left(r(n)))}}}a(Fa,"fromPredicate");Q.fromPredicate=Fa;function qr(e){var t=Sr(e);return function(r){var n=t(r);return function(u){return _r.flow(u,n)}}}a(qr,"fromOptionK");Q.fromOptionK=qr;function Ba(e,t){var r=qr(e);return function(n){var u=r(n);return function(c){return function(p){return t.chain(p,u(c))}}}}a(Ba,"chainOptionK");Q.chainOptionK=Ba;function Or(e){return function(t){return _r.flow(t,e.fromEither)}}a(Or,"fromEitherK");Q.fromEitherK=Or;function Ta(e,t){var r=Or(e);return function(n){return function(u){return t.chain(u,r(n))}}}a(Ta,"chainEitherK");Q.chainEitherK=Ta;function La(e,t){return function(r,n){return function(u){return t.chain(u,function(c){return e.fromEither(r(c)?xt.right(c):xt.left(n(c)))})}}}a(La,"filterOrElse");Q.filterOrElse=La});var _t=X(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});mt.getFunctorComposition=mt.bindTo=mt.flap=mt.map=void 0;var Pa=st();function Ur(e,t){return function(r){return function(n){return e.map(n,function(u){return t.map(u,r)})}}}a(Ur,"map");mt.map=Ur;function Da(e){return function(t){return function(r){return e.map(r,function(n){return n(t)})}}}a(Da,"flap");mt.flap=Da;function za(e){return function(t){return function(r){return e.map(r,function(n){var u;return u={},u[t]=n,u})}}}a(za,"bindTo");mt.bindTo=za;function ja(e,t){var r=Ur(e,t);return{map:function(n,u){return Pa.pipe(n,r(u))}}}a(ja,"getFunctorComposition");mt.getFunctorComposition=ja});var re=X(E=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});E.eqDate=E.eqNumber=E.eqString=E.eqBoolean=E.eq=E.strictEqual=E.getStructEq=E.getTupleEq=E.Contravariant=E.getMonoid=E.getSemigroup=E.eqStrict=E.URI=E.contramap=E.tuple=E.struct=E.fromEquals=void 0;var ka=st(),$a=a(function(e){return{equals:function(t,r){return t===r||e(t,r)}}},"fromEquals");E.fromEquals=$a;var Za=a(function(e){return E.fromEquals(function(t,r){for(var n in e)if(!e[n].equals(t[n],r[n]))return!1;return!0})},"struct");E.struct=Za;var Ka=a(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return E.fromEquals(function(r,n){return e.every(function(u,c){return u.equals(r[c],n[c])})})},"tuple");E.tuple=Ka;var Ha=a(function(e,t){return ka.pipe(e,E.contramap(t))},"contramap_"),Va=a(function(e){return function(t){return E.fromEquals(function(r,n){return t.equals(e(r),e(n))})}},"contramap");E.contramap=Va;E.URI="Eq";E.eqStrict={equals:function(e,t){return e===t}};var Ga={equals:function(){return!0}},Qa=a(function(){return{concat:function(e,t){return E.fromEquals(function(r,n){return e.equals(r,n)&&t.equals(r,n)})}}},"getSemigroup");E.getSemigroup=Qa;var Xa=a(function(){return{concat:E.getSemigroup().concat,empty:Ga}},"getMonoid");E.getMonoid=Xa;E.Contravariant={URI:E.URI,contramap:Ha};E.getTupleEq=E.tuple;E.getStructEq=E.struct;E.strictEqual=E.eqStrict.equals;E.eq=E.Contravariant;E.eqBoolean=E.eqStrict;E.eqString=E.eqStrict;E.eqNumber=E.eqStrict;E.eqDate={equals:function(e,t){return e.valueOf()===t.valueOf()}}});var Pt=X(b=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.ordDate=b.ordNumber=b.ordString=b.ordBoolean=b.ord=b.getDualOrd=b.getTupleOrd=b.between=b.clamp=b.max=b.min=b.geq=b.leq=b.gt=b.lt=b.equals=b.trivial=b.Contravariant=b.getMonoid=b.getSemigroup=b.URI=b.contramap=b.reverse=b.tuple=b.fromCompare=b.equalsDefault=void 0;var Ya=re(),ne=st(),Ja=a(function(e){return function(t,r){return t===r||e(t,r)===0}},"equalsDefault");b.equalsDefault=Ja;var ti=a(function(e){return{equals:b.equalsDefault(e),compare:function(t,r){return t===r?0:e(t,r)}}},"fromCompare");b.fromCompare=ti;var ei=a(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return b.fromCompare(function(r,n){for(var u=0;u<e.length-1;u++){var c=e[u].compare(r[u],n[u]);if(c!==0)return c}return e[u].compare(r[u],n[u])})},"tuple");b.tuple=ei;var ri=a(function(e){return b.fromCompare(function(t,r){return e.compare(r,t)})},"reverse");b.reverse=ri;var ni=a(function(e,t){return ne.pipe(e,b.contramap(t))},"contramap_"),ai=a(function(e){return function(t){return b.fromCompare(function(r,n){return t.compare(e(r),e(n))})}},"contramap");b.contramap=ai;b.URI="Ord";var ii=a(function(){return{concat:function(e,t){return b.fromCompare(function(r,n){var u=e.compare(r,n);return u!==0?u:t.compare(r,n)})}}},"getSemigroup");b.getSemigroup=ii;var ui=a(function(){return{concat:b.getSemigroup().concat,empty:b.fromCompare(function(){return 0})}},"getMonoid");b.getMonoid=ui;b.Contravariant={URI:b.URI,contramap:ni};b.trivial={equals:ne.constTrue,compare:ne.constant(0)};var oi=a(function(e){return function(t){return function(r){return r===t||e.compare(r,t)===0}}},"equals");b.equals=oi;var ci=a(function(e){return function(t,r){return e.compare(t,r)===-1}},"lt");b.lt=ci;var fi=a(function(e){return function(t,r){return e.compare(t,r)===1}},"gt");b.gt=fi;var si=a(function(e){return function(t,r){return e.compare(t,r)!==1}},"leq");b.leq=si;var hi=a(function(e){return function(t,r){return e.compare(t,r)!==-1}},"geq");b.geq=hi;var pi=a(function(e){return function(t,r){return t===r||e.compare(t,r)<1?t:r}},"min");b.min=pi;var li=a(function(e){return function(t,r){return t===r||e.compare(t,r)>-1?t:r}},"max");b.max=li;var di=a(function(e){var t=b.min(e),r=b.max(e);return function(n,u){return function(c){return r(t(c,u),n)}}},"clamp");b.clamp=di;var vi=a(function(e){var t=b.lt(e),r=b.gt(e);return function(n,u){return function(c){return!(t(c,n)||r(c,u))}}},"between");b.between=vi;b.getTupleOrd=b.tuple;b.getDualOrd=b.reverse;b.ord=b.Contravariant;function mi(e,t){return e<t?-1:e>t?1:0}a(mi,"compare");var Ee={equals:Ya.eqStrict.equals,compare:mi};b.ordBoolean=Ee;b.ordString=Ee;b.ordNumber=Ee;b.ordDate=ne.pipe(b.ordNumber,b.contramap(function(e){return e.valueOf()}))});var Nr=X(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.concatAll=ht.endo=ht.filterSecond=ht.filterFirst=ht.reverse=void 0;var gi=a(function(e){return{concat:function(t,r){return e.concat(r,t)}}},"reverse");ht.reverse=gi;var yi=a(function(e){return function(t){return{concat:function(r,n){return e(r)?t.concat(r,n):n}}}},"filterFirst");ht.filterFirst=yi;var Ii=a(function(e){return function(t){return{concat:function(r,n){return e(n)?t.concat(r,n):r}}}},"filterSecond");ht.filterSecond=Ii;var bi=a(function(e){return function(t){return{concat:function(r,n){return t.concat(e(r),e(n))}}}},"endo");ht.endo=bi;var xi=a(function(e){return function(t){return function(r){return r.reduce(function(n,u){return e.concat(n,u)},t)}}},"concatAll");ht.concatAll=xi});var Lr=X(x=>{"use strict";var Mi=x&&x.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),wi=x&&x.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),_e=x&&x.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Mi(t,e,r);return wi(t,e),t};Object.defineProperty(x,"__esModule",{value:!0});x.semigroupProduct=x.semigroupSum=x.semigroupString=x.getFunctionSemigroup=x.semigroupAny=x.semigroupAll=x.fold=x.getIntercalateSemigroup=x.getMeetSemigroup=x.getJoinSemigroup=x.getDualSemigroup=x.getStructSemigroup=x.getTupleSemigroup=x.getFirstSemigroup=x.getLastSemigroup=x.getObjectSemigroup=x.semigroupVoid=x.concatAll=x.last=x.first=x.intercalate=x.tuple=x.struct=x.reverse=x.constant=x.max=x.min=void 0;var Fr=st(),Wi=_e(gt()),Br=_e(Nr()),Tr=_e(Pt()),Ri=a(function(e){return{concat:Tr.min(e)}},"min");x.min=Ri;var Ci=a(function(e){return{concat:Tr.max(e)}},"max");x.max=Ci;var Ai=a(function(e){return{concat:function(){return e}}},"constant");x.constant=Ai;x.reverse=Br.reverse;var Ei=a(function(e){return{concat:function(t,r){var n={};for(var u in e)Wi.has.call(e,u)&&(n[u]=e[u].concat(t[u],r[u]));return n}}},"struct");x.struct=Ei;var _i=a(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{concat:function(r,n){return e.map(function(u,c){return u.concat(r[c],n[c])})}}},"tuple");x.tuple=_i;var Si=a(function(e){return function(t){return{concat:function(r,n){return t.concat(r,t.concat(e,n))}}}},"intercalate");x.intercalate=Si;var qi=a(function(){return{concat:Fr.identity}},"first");x.first=qi;var Oi=a(function(){return{concat:function(e,t){return t}}},"last");x.last=Oi;x.concatAll=Br.concatAll;x.semigroupVoid=x.constant(void 0);var Ui=a(function(){return{concat:function(e,t){return Object.assign({},e,t)}}},"getObjectSemigroup");x.getObjectSemigroup=Ui;x.getLastSemigroup=x.last;x.getFirstSemigroup=x.first;x.getTupleSemigroup=x.tuple;x.getStructSemigroup=x.struct;x.getDualSemigroup=x.reverse;x.getJoinSemigroup=x.max;x.getMeetSemigroup=x.min;x.getIntercalateSemigroup=x.intercalate;function Ni(e){var t=x.concatAll(e);return function(r,n){return n===void 0?t(r):t(r)(n)}}a(Ni,"fold");x.fold=Ni;x.semigroupAll={concat:function(e,t){return e&&t}};x.semigroupAny={concat:function(e,t){return e||t}};x.getFunctionSemigroup=Fr.getSemigroup;x.semigroupString={concat:function(e,t){return e+t}};x.semigroupSum={concat:function(e,t){return e+t}};x.semigroupProduct={concat:function(e,t){return e*t}}});var ae=X(s=>{"use strict";var Fi=s&&s.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Bi=s&&s.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Pr=s&&s.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Fi(t,e,r);return Bi(t,e),t},Dt=s&&s.__spreadArray||function(e,t){for(var r=0,n=t.length,u=e.length;r<n;r++,u++)e[u]=t[r];return e};Object.defineProperty(s,"__esModule",{value:!0});s.reduceRight=s.foldMap=s.reduce=s.mapWithIndex=s.map=s.flatten=s.duplicate=s.extend=s.chain=s.ap=s.alt=s.altW=s.of=s.chunksOf=s.splitAt=s.chop=s.chainWithIndex=s.intersperse=s.prependAll=s.unzip=s.zip=s.zipWith=s.modifyAt=s.updateAt=s.sort=s.groupBy=s.group=s.reverse=s.concat=s.concatW=s.fromArray=s.unappend=s.unprepend=s.range=s.replicate=s.makeBy=s.fromReadonlyArray=s.rotate=s.union=s.sortBy=s.uniq=s.unsafeUpdateAt=s.unsafeInsertAt=s.append=s.appendW=s.prepend=s.prependW=s.isOutOfBound=s.isNonEmpty=s.empty=void 0;s.uncons=s.filterWithIndex=s.filter=s.groupSort=s.updateLast=s.modifyLast=s.updateHead=s.modifyHead=s.matchRight=s.matchLeft=s.concatAll=s.max=s.min=s.init=s.last=s.tail=s.head=s.apS=s.bind=s.bindTo=s.Do=s.Comonad=s.Alt=s.TraversableWithIndex=s.Traversable=s.FoldableWithIndex=s.Foldable=s.Monad=s.chainFirst=s.Chain=s.Applicative=s.apSecond=s.apFirst=s.Apply=s.FunctorWithIndex=s.Pointed=s.flap=s.Functor=s.getUnionSemigroup=s.getEq=s.getSemigroup=s.getShow=s.URI=s.extract=s.traverseWithIndex=s.sequence=s.traverse=s.reduceRightWithIndex=s.foldMapWithIndex=s.reduceWithIndex=void 0;s.readonlyNonEmptyArray=s.fold=s.prependToAll=s.insertAt=s.snoc=s.cons=s.unsnoc=void 0;var Se=Tt(),Dr=Lt(),Ti=re(),K=st(),zr=_t(),et=Pr(gt()),Li=Pt(),jr=Pr(Lr());s.empty=et.emptyReadonlyArray;s.isNonEmpty=et.isNonEmpty;var Pi=a(function(e,t){return e<0||e>=t.length},"isOutOfBound");s.isOutOfBound=Pi;var Di=a(function(e){return function(t){return Dt([e],t)}},"prependW");s.prependW=Di;s.prepend=s.prependW;var zi=a(function(e){return function(t){return Dt(Dt([],t),[e])}},"appendW");s.appendW=zi;s.append=s.appendW;var ji=a(function(e,t,r){if(s.isNonEmpty(r)){var n=et.fromReadonlyNonEmptyArray(r);return n.splice(e,0,t),n}return[t]},"unsafeInsertAt");s.unsafeInsertAt=ji;var ki=a(function(e,t,r){if(r[e]===t)return r;var n=et.fromReadonlyNonEmptyArray(r);return n[e]=t,n},"unsafeUpdateAt");s.unsafeUpdateAt=ki;var $i=a(function(e){return function(t){if(t.length===1)return t;for(var r=[s.head(t)],n=s.tail(t),u=a(function(M){r.every(function(O){return!e.equals(O,M)})&&r.push(M)},"_loop_1"),c=0,p=n;c<p.length;c++){var y=p[c];u(y)}return r}},"uniq");s.uniq=$i;var Zi=a(function(e){if(s.isNonEmpty(e)){var t=Li.getMonoid();return s.sort(e.reduce(t.concat,t.empty))}return K.identity},"sortBy");s.sortBy=Zi;var Ki=a(function(e){var t=s.uniq(e);return function(r){return function(n){return t(K.pipe(n,zt(r)))}}},"union");s.union=Ki;var Hi=a(function(e){return function(t){var r=t.length,n=Math.round(e)%r;if(s.isOutOfBound(Math.abs(n),t)||n===0)return t;if(n<0){var u=s.splitAt(-n)(t),c=u[0],p=u[1];return K.pipe(p,zt(c))}else return s.rotate(n-r)(t)}},"rotate");s.rotate=Hi;var Vi=a(function(e){return s.isNonEmpty(e)?et.some(e):et.none},"fromReadonlyArray");s.fromReadonlyArray=Vi;var Gi=a(function(e){return function(t){for(var r=Math.max(0,Math.floor(t)),n=[e(0)],u=1;u<r;u++)n.push(e(u));return n}},"makeBy");s.makeBy=Gi;var Qi=a(function(e){return s.makeBy(function(){return e})},"replicate");s.replicate=Qi;var Xi=a(function(e,t){return e<=t?s.makeBy(function(r){return e+r})(t-e+1):[e]},"range");s.range=Xi;var Yi=a(function(e){return[s.head(e),s.tail(e)]},"unprepend");s.unprepend=Yi;var Ji=a(function(e){return[s.init(e),s.last(e)]},"unappend");s.unappend=Ji;var tu=a(function(e){return s.fromReadonlyArray(e.slice())},"fromArray");s.fromArray=tu;function kr(e){return function(t){return t.concat(e)}}a(kr,"concatW");s.concatW=kr;function zt(e,t){return t?e.concat(t):function(r){return r.concat(e)}}a(zt,"concat");s.concat=zt;var eu=a(function(e){return e.length===1?e:Dt([s.last(e)],e.slice(0,-1).reverse())},"reverse");s.reverse=eu;function $r(e){return function(t){var r=t.length;if(r===0)return s.empty;for(var n=[],u=t[0],c=[u],p=1;p<r;p++){var y=t[p];e.equals(y,u)?c.push(y):(n.push(c),u=y,c=[u])}return n.push(c),n}}a($r,"group");s.group=$r;var ru=a(function(e){return function(t){for(var r={},n=0,u=t;n<u.length;n++){var c=u[n],p=e(c);r.hasOwnProperty(p)?r[p].push(c):r[p]=[c]}return r}},"groupBy");s.groupBy=ru;var nu=a(function(e){return function(t){return t.length===1?t:t.slice().sort(e.compare)}},"sort");s.sort=nu;var au=a(function(e,t){return s.modifyAt(e,function(){return t})},"updateAt");s.updateAt=au;var iu=a(function(e,t){return function(r){return s.isOutOfBound(e,r)?et.none:et.some(s.unsafeUpdateAt(e,t(r[e]),r))}},"modifyAt");s.modifyAt=iu;var uu=a(function(e,t,r){for(var n=[r(e[0],t[0])],u=Math.min(e.length,t.length),c=1;c<u;c++)n[c]=r(e[c],t[c]);return n},"zipWith");s.zipWith=uu;function Zr(e,t){return t===void 0?function(r){return Zr(r,e)}:s.zipWith(e,t,function(r,n){return[r,n]})}a(Zr,"zip");s.zip=Zr;var ou=a(function(e){for(var t=[e[0][0]],r=[e[0][1]],n=1;n<e.length;n++)t[n]=e[n][0],r[n]=e[n][1];return[t,r]},"unzip");s.unzip=ou;var cu=a(function(e){return function(t){for(var r=[e,t[0]],n=1;n<t.length;n++)r.push(e,t[n]);return r}},"prependAll");s.prependAll=cu;var fu=a(function(e){return function(t){var r=s.tail(t);return s.isNonEmpty(r)?K.pipe(r,s.prependAll(e),s.prepend(s.head(t))):t}},"intersperse");s.intersperse=fu;var su=a(function(e){return function(t){for(var r=et.fromReadonlyNonEmptyArray(e(0,s.head(t))),n=1;n<t.length;n++)r.push.apply(r,e(n,t[n]));return r}},"chainWithIndex");s.chainWithIndex=su;var hu=a(function(e){return function(t){for(var r=e(t),n=r[0],u=r[1],c=[n],p=u;s.isNonEmpty(p);){var y=e(p),M=y[0],O=y[1];c.push(M),p=O}return c}},"chop");s.chop=hu;var pu=a(function(e){return function(t){var r=Math.max(1,e);return r>=t.length?[t,s.empty]:[K.pipe(t.slice(1,r),s.prepend(s.head(t))),t.slice(r)]}},"splitAt");s.splitAt=pu;var lu=a(function(e){return s.chop(s.splitAt(e))},"chunksOf");s.chunksOf=lu;var dt=a(function(e,t){return K.pipe(e,s.map(t))},"_map"),qe=a(function(e,t){return K.pipe(e,s.mapWithIndex(t))},"_mapWithIndex"),jt=a(function(e,t){return K.pipe(e,s.ap(t))},"_ap"),Oe=a(function(e,t){return K.pipe(e,s.chain(t))},"_chain"),Kr=a(function(e,t){return K.pipe(e,s.extend(t))},"_extend"),kt=a(function(e,t,r){return K.pipe(e,s.reduce(t,r))},"_reduce"),$t=a(function(e){var t=s.foldMap(e);return function(r,n){return K.pipe(r,t(n))}},"_foldMap"),Zt=a(function(e,t,r){return K.pipe(e,s.reduceRight(t,r))},"_reduceRight"),Ue=a(function(e){var t=s.traverse(e);return function(r,n){return K.pipe(r,t(n))}},"_traverse"),Hr=a(function(e,t){return K.pipe(e,s.alt(t))},"_alt"),Ne=a(function(e,t,r){return K.pipe(e,s.reduceWithIndex(t,r))},"_reduceWithIndex"),Fe=a(function(e){var t=s.foldMapWithIndex(e);return function(r,n){return K.pipe(r,t(n))}},"_foldMapWithIndex"),Be=a(function(e,t,r){return K.pipe(e,s.reduceRightWithIndex(t,r))},"_reduceRightWithIndex"),Vr=a(function(e){var t=s.traverseWithIndex(e);return function(r,n){return K.pipe(r,t(n))}},"_traverseWithIndex");s.of=et.singleton;var du=a(function(e){return function(t){return K.pipe(t,kr(e()))}},"altW");s.altW=du;s.alt=s.altW;var vu=a(function(e){return s.chain(function(t){return K.pipe(e,s.map(t))})},"ap");s.ap=vu;var mu=a(function(e){return s.chainWithIndex(function(t,r){return e(r)})},"chain");s.chain=mu;var gu=a(function(e){return function(t){for(var r=s.tail(t),n=[e(t)];s.isNonEmpty(r);)n.push(e(r)),r=s.tail(r);return n}},"extend");s.extend=gu;s.duplicate=s.extend(K.identity);s.flatten=s.chain(K.identity);var yu=a(function(e){return s.mapWithIndex(function(t,r){return e(r)})},"map");s.map=yu;var Iu=a(function(e){return function(t){for(var r=[e(0,s.head(t))],n=1;n<t.length;n++)r.push(e(n,t[n]));return r}},"mapWithIndex");s.mapWithIndex=Iu;var bu=a(function(e,t){return s.reduceWithIndex(e,function(r,n,u){return t(n,u)})},"reduce");s.reduce=bu;var xu=a(function(e){return function(t){return function(r){return r.slice(1).reduce(function(n,u){return e.concat(n,t(u))},t(r[0]))}}},"foldMap");s.foldMap=xu;var Mu=a(function(e,t){return s.reduceRightWithIndex(e,function(r,n,u){return t(n,u)})},"reduceRight");s.reduceRight=Mu;var wu=a(function(e,t){return function(r){return r.reduce(function(n,u,c){return t(c,n,u)},e)}},"reduceWithIndex");s.reduceWithIndex=wu;var Wu=a(function(e){return function(t){return function(r){return r.slice(1).reduce(function(n,u,c){return e.concat(n,t(c+1,u))},t(0,r[0]))}}},"foldMapWithIndex");s.foldMapWithIndex=Wu;var Ru=a(function(e,t){return function(r){return r.reduceRight(function(n,u,c){return t(c,u,n)},e)}},"reduceRightWithIndex");s.reduceRightWithIndex=Ru;var Cu=a(function(e){var t=s.traverseWithIndex(e);return function(r){return t(function(n,u){return r(u)})}},"traverse");s.traverse=Cu;var Au=a(function(e){return s.traverseWithIndex(e)(K.SK)},"sequence");s.sequence=Au;var Eu=a(function(e){return function(t){return function(r){for(var n=e.map(t(0,s.head(r)),s.of),u=1;u<r.length;u++)n=e.ap(e.map(n,function(c){return function(p){return K.pipe(c,s.append(p))}}),t(u,r[u]));return n}}},"traverseWithIndex");s.traverseWithIndex=Eu;s.extract=et.head;s.URI="ReadonlyNonEmptyArray";var _u=a(function(e){return{show:function(t){return"["+t.map(e.show).join(", ")+"]"}}},"getShow");s.getShow=_u;var Su=a(function(){return{concat:zt}},"getSemigroup");s.getSemigroup=Su;var qu=a(function(e){return Ti.fromEquals(function(t,r){return t.length===r.length&&t.every(function(n,u){return e.equals(n,r[u])})})},"getEq");s.getEq=qu;var Ou=a(function(e){var t=s.union(e);return{concat:function(r,n){return t(n)(r)}}},"getUnionSemigroup");s.getUnionSemigroup=Ou;s.Functor={URI:s.URI,map:dt};s.flap=zr.flap(s.Functor);s.Pointed={URI:s.URI,of:s.of};s.FunctorWithIndex={URI:s.URI,map:dt,mapWithIndex:qe};s.Apply={URI:s.URI,map:dt,ap:jt};s.apFirst=Se.apFirst(s.Apply);s.apSecond=Se.apSecond(s.Apply);s.Applicative={URI:s.URI,map:dt,ap:jt,of:s.of};s.Chain={URI:s.URI,map:dt,ap:jt,chain:Oe};s.chainFirst=Dr.chainFirst(s.Chain);s.Monad={URI:s.URI,map:dt,ap:jt,of:s.of,chain:Oe};s.Foldable={URI:s.URI,reduce:kt,foldMap:$t,reduceRight:Zt};s.FoldableWithIndex={URI:s.URI,reduce:kt,foldMap:$t,reduceRight:Zt,reduceWithIndex:Ne,foldMapWithIndex:Fe,reduceRightWithIndex:Be};s.Traversable={URI:s.URI,map:dt,reduce:kt,foldMap:$t,reduceRight:Zt,traverse:Ue,sequence:s.sequence};s.TraversableWithIndex={URI:s.URI,map:dt,mapWithIndex:qe,reduce:kt,foldMap:$t,reduceRight:Zt,traverse:Ue,sequence:s.sequence,reduceWithIndex:Ne,foldMapWithIndex:Fe,reduceRightWithIndex:Be,traverseWithIndex:Vr};s.Alt={URI:s.URI,map:dt,alt:Hr};s.Comonad={URI:s.URI,map:dt,extend:Kr,extract:s.extract};s.Do=s.of(et.emptyRecord);s.bindTo=zr.bindTo(s.Functor);s.bind=Dr.bind(s.Chain);s.apS=Se.apS(s.Apply);s.head=s.extract;s.tail=et.tail;var Uu=a(function(e){return e[e.length-1]},"last");s.last=Uu;var Nu=a(function(e){return e.slice(0,-1)},"init");s.init=Nu;var Fu=a(function(e){var t=jr.min(e);return function(r){return r.reduce(t.concat)}},"min");s.min=Fu;var Bu=a(function(e){var t=jr.max(e);return function(r){return r.reduce(t.concat)}},"max");s.max=Bu;var Tu=a(function(e){return function(t){return t.reduce(e.concat)}},"concatAll");s.concatAll=Tu;var Lu=a(function(e){return function(t){return e(s.head(t),s.tail(t))}},"matchLeft");s.matchLeft=Lu;var Pu=a(function(e){return function(t){return e(s.init(t),s.last(t))}},"matchRight");s.matchRight=Pu;var Du=a(function(e){return function(t){return Dt([e(s.head(t))],s.tail(t))}},"modifyHead");s.modifyHead=Du;var zu=a(function(e){return s.modifyHead(function(){return e})},"updateHead");s.updateHead=zu;var ju=a(function(e){return function(t){return K.pipe(s.init(t),s.append(e(s.last(t))))}},"modifyLast");s.modifyLast=ju;var ku=a(function(e){return s.modifyLast(function(){return e})},"updateLast");s.updateLast=ku;function $u(e){var t=s.sort(e),r=$r(e);return function(n){return s.isNonEmpty(n)?r(t(n)):s.empty}}a($u,"groupSort");s.groupSort=$u;function Zu(e){return s.filterWithIndex(function(t,r){return e(r)})}a(Zu,"filter");s.filter=Zu;var Ku=a(function(e){return function(t){return s.fromReadonlyArray(t.filter(function(r,n){return e(n,r)}))}},"filterWithIndex");s.filterWithIndex=Ku;s.uncons=s.unprepend;s.unsnoc=s.unappend;function Hu(e,t){return t===void 0?s.prepend(e):K.pipe(t,s.prepend(e))}a(Hu,"cons");s.cons=Hu;var Vu=a(function(e,t){return K.pipe(e,zt([t]))},"snoc");s.snoc=Vu;var Gu=a(function(e,t){return function(r){return e<0||e>r.length?et.none:et.some(s.unsafeInsertAt(e,t,r))}},"insertAt");s.insertAt=Gu;s.prependToAll=s.prependAll;s.fold=s.concatAll;s.readonlyNonEmptyArray={URI:s.URI,of:s.of,map:dt,mapWithIndex:qe,ap:jt,chain:Oe,extend:Kr,extract:s.extract,reduce:kt,foldMap:$t,reduceRight:Zt,traverse:Ue,sequence:s.sequence,reduceWithIndex:Ne,foldMapWithIndex:Fe,reduceRightWithIndex:Be,traverseWithIndex:Vr,alt:Hr}});var $e=X(f=>{"use strict";var Qu=f&&f.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Xu=f&&f.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Gr=f&&f.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Qu(t,e,r);return Xu(t,e),t},Kt=f&&f.__spreadArray||function(e,t){for(var r=0,n=t.length,u=e.length;r<n;r++,u++)e[u]=t[r];return e};Object.defineProperty(f,"__esModule",{value:!0});f.mapWithIndex=f.map=f.flatten=f.duplicate=f.extend=f.chain=f.ap=f.alt=f.altW=f.chunksOf=f.splitAt=f.chop=f.chainWithIndex=f.foldMap=f.foldMapWithIndex=f.intersperse=f.prependAll=f.unzip=f.zip=f.zipWith=f.of=f.copy=f.modifyAt=f.updateAt=f.insertAt=f.sort=f.groupBy=f.group=f.reverse=f.concat=f.concatW=f.unappend=f.unprepend=f.range=f.replicate=f.makeBy=f.fromArray=f.fromReadonlyNonEmptyArray=f.rotate=f.union=f.sortBy=f.uniq=f.unsafeUpdateAt=f.unsafeInsertAt=f.append=f.appendW=f.prepend=f.prependW=f.isOutOfBound=f.isNonEmpty=void 0;f.filterWithIndex=f.filter=f.groupSort=f.updateLast=f.modifyLast=f.updateHead=f.modifyHead=f.matchRight=f.matchLeft=f.concatAll=f.max=f.min=f.init=f.last=f.tail=f.head=f.apS=f.bind=f.bindTo=f.Do=f.Comonad=f.Alt=f.TraversableWithIndex=f.Traversable=f.FoldableWithIndex=f.Foldable=f.Monad=f.chainFirst=f.Chain=f.Applicative=f.apSecond=f.apFirst=f.Apply=f.FunctorWithIndex=f.Pointed=f.flap=f.Functor=f.getUnionSemigroup=f.getEq=f.getSemigroup=f.getShow=f.URI=f.extract=f.traverseWithIndex=f.sequence=f.traverse=f.reduceRightWithIndex=f.reduceRight=f.reduceWithIndex=f.reduce=void 0;f.nonEmptyArray=f.fold=f.prependToAll=f.snoc=f.cons=f.unsnoc=f.uncons=void 0;var Te=Tt(),Qr=Lt(),V=st(),Xr=_t(),yt=Gr(gt()),Yu=Pt(),it=Gr(ae()),Ju=a(function(e){return e.length>0},"isNonEmpty");f.isNonEmpty=Ju;var to=a(function(e,t){return e<0||e>=t.length},"isOutOfBound");f.isOutOfBound=to;var eo=a(function(e){return function(t){return Kt([e],t)}},"prependW");f.prependW=eo;f.prepend=f.prependW;var ro=a(function(e){return function(t){return Kt(Kt([],t),[e])}},"appendW");f.appendW=ro;f.append=f.appendW;var no=a(function(e,t,r){if(f.isNonEmpty(r)){var n=f.fromReadonlyNonEmptyArray(r);return n.splice(e,0,t),n}return[t]},"unsafeInsertAt");f.unsafeInsertAt=no;var ao=a(function(e,t,r){var n=f.fromReadonlyNonEmptyArray(r);return n[e]=t,n},"unsafeUpdateAt");f.unsafeUpdateAt=ao;var io=a(function(e){return function(t){if(t.length===1)return f.copy(t);for(var r=[f.head(t)],n=f.tail(t),u=a(function(M){r.every(function(O){return!e.equals(O,M)})&&r.push(M)},"_loop_1"),c=0,p=n;c<p.length;c++){var y=p[c];u(y)}return r}},"uniq");f.uniq=io;var uo=a(function(e){if(f.isNonEmpty(e)){var t=Yu.getMonoid();return f.sort(e.reduce(t.concat,t.empty))}return f.copy},"sortBy");f.sortBy=uo;var oo=a(function(e){var t=f.uniq(e);return function(r){return function(n){return t(V.pipe(n,ie(r)))}}},"union");f.union=oo;var co=a(function(e){return function(t){var r=t.length,n=Math.round(e)%r;if(f.isOutOfBound(Math.abs(n),t)||n===0)return f.copy(t);if(n<0){var u=f.splitAt(-n)(t),c=u[0],p=u[1];return V.pipe(p,ie(c))}else return f.rotate(n-r)(t)}},"rotate");f.rotate=co;f.fromReadonlyNonEmptyArray=yt.fromReadonlyNonEmptyArray;var fo=a(function(e){return f.isNonEmpty(e)?yt.some(e):yt.none},"fromArray");f.fromArray=fo;var so=a(function(e){return function(t){for(var r=Math.max(0,Math.floor(t)),n=[e(0)],u=1;u<r;u++)n.push(e(u));return n}},"makeBy");f.makeBy=so;var ho=a(function(e){return f.makeBy(function(){return e})},"replicate");f.replicate=ho;var po=a(function(e,t){return e<=t?f.makeBy(function(r){return e+r})(t-e+1):[e]},"range");f.range=po;var lo=a(function(e){return[f.head(e),f.tail(e)]},"unprepend");f.unprepend=lo;var vo=a(function(e){return[f.init(e),f.last(e)]},"unappend");f.unappend=vo;function Yr(e){return function(t){return t.concat(e)}}a(Yr,"concatW");f.concatW=Yr;function ie(e,t){return t?e.concat(t):function(r){return r.concat(e)}}a(ie,"concat");f.concat=ie;var mo=a(function(e){return Kt([f.last(e)],e.slice(0,-1).reverse())},"reverse");f.reverse=mo;function Jr(e){return function(t){var r=t.length;if(r===0)return[];for(var n=[],u=t[0],c=[u],p=1;p<r;p++){var y=t[p];e.equals(y,u)?c.push(y):(n.push(c),u=y,c=[u])}return n.push(c),n}}a(Jr,"group");f.group=Jr;var go=a(function(e){return function(t){for(var r={},n=0,u=t;n<u.length;n++){var c=u[n],p=e(c);r.hasOwnProperty(p)?r[p].push(c):r[p]=[c]}return r}},"groupBy");f.groupBy=go;var yo=a(function(e){return function(t){return t.slice().sort(e.compare)}},"sort");f.sort=yo;var Io=a(function(e,t){return function(r){return e<0||e>r.length?yt.none:yt.some(f.unsafeInsertAt(e,t,r))}},"insertAt");f.insertAt=Io;var bo=a(function(e,t){return f.modifyAt(e,function(){return t})},"updateAt");f.updateAt=bo;var xo=a(function(e,t){return function(r){return f.isOutOfBound(e,r)?yt.none:yt.some(f.unsafeUpdateAt(e,t(r[e]),r))}},"modifyAt");f.modifyAt=xo;f.copy=f.fromReadonlyNonEmptyArray;var Mo=a(function(e){return[e]},"of");f.of=Mo;var wo=a(function(e,t,r){for(var n=[r(e[0],t[0])],u=Math.min(e.length,t.length),c=1;c<u;c++)n[c]=r(e[c],t[c]);return n},"zipWith");f.zipWith=wo;function tn(e,t){return t===void 0?function(r){return tn(r,e)}:f.zipWith(e,t,function(r,n){return[r,n]})}a(tn,"zip");f.zip=tn;var Wo=a(function(e){for(var t=[e[0][0]],r=[e[0][1]],n=1;n<e.length;n++)t[n]=e[n][0],r[n]=e[n][1];return[t,r]},"unzip");f.unzip=Wo;var Ro=a(function(e){return function(t){for(var r=[e,t[0]],n=1;n<t.length;n++)r.push(e,t[n]);return r}},"prependAll");f.prependAll=Ro;var Co=a(function(e){return function(t){var r=f.tail(t);return f.isNonEmpty(r)?V.pipe(r,f.prependAll(e),f.prepend(f.head(t))):f.copy(t)}},"intersperse");f.intersperse=Co;f.foldMapWithIndex=it.foldMapWithIndex;f.foldMap=it.foldMap;var Ao=a(function(e){return function(t){for(var r=f.fromReadonlyNonEmptyArray(e(0,f.head(t))),n=1;n<t.length;n++)r.push.apply(r,e(n,t[n]));return r}},"chainWithIndex");f.chainWithIndex=Ao;var Eo=a(function(e){return function(t){for(var r=e(t),n=r[0],u=r[1],c=[n],p=u;f.isNonEmpty(p);){var y=e(p),M=y[0],O=y[1];c.push(M),p=O}return c}},"chop");f.chop=Eo;var _o=a(function(e){return function(t){var r=Math.max(1,e);return r>=t.length?[f.copy(t),[]]:[V.pipe(t.slice(1,r),f.prepend(f.head(t))),t.slice(r)]}},"splitAt");f.splitAt=_o;var So=a(function(e){return f.chop(f.splitAt(e))},"chunksOf");f.chunksOf=So;var vt=a(function(e,t){return V.pipe(e,f.map(t))},"_map"),Le=a(function(e,t){return V.pipe(e,f.mapWithIndex(t))},"_mapWithIndex"),Ht=a(function(e,t){return V.pipe(e,f.ap(t))},"_ap"),Pe=a(function(e,t){return V.pipe(e,f.chain(t))},"_chain"),en=a(function(e,t){return V.pipe(e,f.extend(t))},"_extend"),Vt=a(function(e,t,r){return V.pipe(e,f.reduce(t,r))},"_reduce"),Gt=a(function(e){var t=f.foldMap(e);return function(r,n){return V.pipe(r,t(n))}},"_foldMap"),Qt=a(function(e,t,r){return V.pipe(e,f.reduceRight(t,r))},"_reduceRight"),De=a(function(e){var t=f.traverse(e);return function(r,n){return V.pipe(r,t(n))}},"_traverse"),rn=a(function(e,t){return V.pipe(e,f.alt(t))},"_alt"),ze=a(function(e,t,r){return V.pipe(e,f.reduceWithIndex(t,r))},"_reduceWithIndex"),je=a(function(e){var t=f.foldMapWithIndex(e);return function(r,n){return V.pipe(r,t(n))}},"_foldMapWithIndex"),ke=a(function(e,t,r){return V.pipe(e,f.reduceRightWithIndex(t,r))},"_reduceRightWithIndex"),nn=a(function(e){var t=f.traverseWithIndex(e);return function(r,n){return V.pipe(r,t(n))}},"_traverseWithIndex"),qo=a(function(e){return function(t){return V.pipe(t,Yr(e()))}},"altW");f.altW=qo;f.alt=f.altW;var Oo=a(function(e){return f.chain(function(t){return V.pipe(e,f.map(t))})},"ap");f.ap=Oo;var Uo=a(function(e){return f.chainWithIndex(function(t,r){return e(r)})},"chain");f.chain=Uo;var No=a(function(e){return function(t){for(var r=f.tail(t),n=[e(t)];f.isNonEmpty(r);)n.push(e(r)),r=f.tail(r);return n}},"extend");f.extend=No;f.duplicate=f.extend(V.identity);f.flatten=f.chain(V.identity);var Fo=a(function(e){return f.mapWithIndex(function(t,r){return e(r)})},"map");f.map=Fo;var Bo=a(function(e){return function(t){for(var r=[e(0,f.head(t))],n=1;n<t.length;n++)r.push(e(n,t[n]));return r}},"mapWithIndex");f.mapWithIndex=Bo;f.reduce=it.reduce;f.reduceWithIndex=it.reduceWithIndex;f.reduceRight=it.reduceRight;f.reduceRightWithIndex=it.reduceRightWithIndex;var To=a(function(e){var t=f.traverseWithIndex(e);return function(r){return t(function(n,u){return r(u)})}},"traverse");f.traverse=To;var Lo=a(function(e){return f.traverseWithIndex(e)(function(t,r){return r})},"sequence");f.sequence=Lo;var Po=a(function(e){return function(t){return function(r){for(var n=e.map(t(0,f.head(r)),f.of),u=1;u<r.length;u++)n=e.ap(e.map(n,function(c){return function(p){return V.pipe(c,f.append(p))}}),t(u,r[u]));return n}}},"traverseWithIndex");f.traverseWithIndex=Po;f.extract=it.head;f.URI="NonEmptyArray";f.getShow=it.getShow;var Do=a(function(){return{concat:ie}},"getSemigroup");f.getSemigroup=Do;f.getEq=it.getEq;var zo=a(function(e){var t=f.union(e);return{concat:function(r,n){return t(n)(r)}}},"getUnionSemigroup");f.getUnionSemigroup=zo;f.Functor={URI:f.URI,map:vt};f.flap=Xr.flap(f.Functor);f.Pointed={URI:f.URI,of:f.of};f.FunctorWithIndex={URI:f.URI,map:vt,mapWithIndex:Le};f.Apply={URI:f.URI,map:vt,ap:Ht};f.apFirst=Te.apFirst(f.Apply);f.apSecond=Te.apSecond(f.Apply);f.Applicative={URI:f.URI,map:vt,ap:Ht,of:f.of};f.Chain={URI:f.URI,map:vt,ap:Ht,chain:Pe};f.chainFirst=Qr.chainFirst(f.Chain);f.Monad={URI:f.URI,map:vt,ap:Ht,of:f.of,chain:Pe};f.Foldable={URI:f.URI,reduce:Vt,foldMap:Gt,reduceRight:Qt};f.FoldableWithIndex={URI:f.URI,reduce:Vt,foldMap:Gt,reduceRight:Qt,reduceWithIndex:ze,foldMapWithIndex:je,reduceRightWithIndex:ke};f.Traversable={URI:f.URI,map:vt,reduce:Vt,foldMap:Gt,reduceRight:Qt,traverse:De,sequence:f.sequence};f.TraversableWithIndex={URI:f.URI,map:vt,mapWithIndex:Le,reduce:Vt,foldMap:Gt,reduceRight:Qt,traverse:De,sequence:f.sequence,reduceWithIndex:ze,foldMapWithIndex:je,reduceRightWithIndex:ke,traverseWithIndex:nn};f.Alt={URI:f.URI,map:vt,alt:rn};f.Comonad={URI:f.URI,map:vt,extend:en,extract:f.extract};f.Do=f.of(yt.emptyRecord);f.bindTo=Xr.bindTo(f.Functor);f.bind=Qr.bind(f.Chain);f.apS=Te.apS(f.Apply);f.head=it.head;var jo=a(function(e){return e.slice(1)},"tail");f.tail=jo;f.last=it.last;var ko=a(function(e){return e.slice(0,-1)},"init");f.init=ko;f.min=it.min;f.max=it.max;var $o=a(function(e){return function(t){return t.reduce(e.concat)}},"concatAll");f.concatAll=$o;var Zo=a(function(e){return function(t){return e(f.head(t),f.tail(t))}},"matchLeft");f.matchLeft=Zo;var Ko=a(function(e){return function(t){return e(f.init(t),f.last(t))}},"matchRight");f.matchRight=Ko;var Ho=a(function(e){return function(t){return Kt([e(f.head(t))],f.tail(t))}},"modifyHead");f.modifyHead=Ho;var Vo=a(function(e){return f.modifyHead(function(){return e})},"updateHead");f.updateHead=Vo;var Go=a(function(e){return function(t){return V.pipe(f.init(t),f.append(e(f.last(t))))}},"modifyLast");f.modifyLast=Go;var Qo=a(function(e){return f.modifyLast(function(){return e})},"updateLast");f.updateLast=Qo;function Xo(e){var t=f.sort(e),r=Jr(e);return function(n){return f.isNonEmpty(n)?r(t(n)):[]}}a(Xo,"groupSort");f.groupSort=Xo;function Yo(e){return f.filterWithIndex(function(t,r){return e(r)})}a(Yo,"filter");f.filter=Yo;var Jo=a(function(e){return function(t){return f.fromArray(t.filter(function(r,n){return e(n,r)}))}},"filterWithIndex");f.filterWithIndex=Jo;f.uncons=f.unprepend;f.unsnoc=f.unappend;function tc(e,t){return t===void 0?f.prepend(e):V.pipe(t,f.prepend(e))}a(tc,"cons");f.cons=tc;var ec=a(function(e,t){return V.pipe(e,f.append(t))},"snoc");f.snoc=ec;f.prependToAll=f.prependAll;f.fold=it.concatAll;f.nonEmptyArray={URI:f.URI,of:f.of,map:vt,mapWithIndex:Le,ap:Ht,chain:Pe,extend:en,extract:f.extract,reduce:Vt,foldMap:Gt,reduceRight:Qt,traverse:De,sequence:f.sequence,reduceWithIndex:ze,foldMapWithIndex:je,reduceRightWithIndex:ke,traverseWithIndex:nn,alt:rn}});var Ke=X(N=>{"use strict";Object.defineProperty(N,"__esModule",{value:!0});N.right=N.left=N.flap=N.Functor=N.Bifunctor=N.URI=N.bimap=N.mapLeft=N.map=N.separated=void 0;var Ze=st(),rc=_t(),nc=a(function(e,t){return{left:e,right:t}},"separated");N.separated=nc;var ac=a(function(e,t){return Ze.pipe(e,N.map(t))},"_map"),ic=a(function(e,t){return Ze.pipe(e,N.mapLeft(t))},"_mapLeft"),uc=a(function(e,t,r){return Ze.pipe(e,N.bimap(t,r))},"_bimap"),oc=a(function(e){return function(t){return N.separated(N.left(t),e(N.right(t)))}},"map");N.map=oc;var cc=a(function(e){return function(t){return N.separated(e(N.left(t)),N.right(t))}},"mapLeft");N.mapLeft=cc;var fc=a(function(e,t){return function(r){return N.separated(e(N.left(r)),t(N.right(r)))}},"bimap");N.bimap=fc;N.URI="Separated";N.Bifunctor={URI:N.URI,mapLeft:ic,bimap:uc};N.Functor={URI:N.URI,map:ac};N.flap=rc.flap(N.Functor);var sc=a(function(e){return e.left},"left");N.left=sc;var hc=a(function(e){return e.right},"right");N.right=hc});var He=X(ut=>{"use strict";var pc=ut&&ut.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),lc=ut&&ut.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),dc=ut&&ut.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&pc(t,e,r);return lc(t,e),t};Object.defineProperty(ut,"__esModule",{value:!0});ut.filterE=ut.witherDefault=ut.wiltDefault=void 0;var an=dc(gt());function vc(e,t){return function(r){var n=e.traverse(r);return function(u,c){return r.map(n(u,c),t.separate)}}}a(vc,"wiltDefault");ut.wiltDefault=vc;function mc(e,t){return function(r){var n=e.traverse(r);return function(u,c){return r.map(n(u,c),t.compact)}}}a(mc,"witherDefault");ut.witherDefault=mc;function gc(e){return function(t){var r=e.wither(t);return function(n){return function(u){return r(u,function(c){return t.map(n(c),function(p){return p?an.some(c):an.none})})}}}}a(gc,"filterE");ut.filterE=gc});var Ve=X(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.guard=void 0;function yc(e,t){return function(r){return r?t.of(void 0):e.zero()}}a(yc,"guard");ue.guard=yc});var gn=X(i=>{"use strict";var Ic=i&&i.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),bc=i&&i.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ge=i&&i.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Ic(t,e,r);return bc(t,e),t},xc=i&&i.__spreadArray||function(e,t){for(var r=0,n=t.length,u=e.length;r<n;r++,u++)e[u]=t[r];return e};Object.defineProperty(i,"__esModule",{value:!0});i.sort=i.lefts=i.rights=i.reverse=i.modifyAt=i.deleteAt=i.updateAt=i.insertAt=i.findLastIndex=i.findLastMap=i.findLast=i.findFirstMap=i.findFirst=i.findIndex=i.dropLeftWhile=i.dropRight=i.dropLeft=i.spanLeft=i.takeLeftWhile=i.takeRight=i.takeLeft=i.init=i.tail=i.last=i.head=i.lookup=i.isOutOfBound=i.size=i.scanRight=i.scanLeft=i.chainWithIndex=i.foldRight=i.matchRight=i.matchRightW=i.foldLeft=i.matchLeft=i.matchLeftW=i.match=i.matchW=i.fromEither=i.fromOption=i.fromPredicate=i.replicate=i.makeBy=i.appendW=i.append=i.prependW=i.prepend=i.isNonEmpty=i.isEmpty=void 0;i.sequence=i.traverse=i.reduceRightWithIndex=i.reduceRight=i.reduceWithIndex=i.foldMap=i.reduce=i.foldMapWithIndex=i.duplicate=i.extend=i.filterWithIndex=i.partitionMapWithIndex=i.partitionMap=i.partitionWithIndex=i.partition=i.compact=i.filterMap=i.filterMapWithIndex=i.filter=i.separate=i.mapWithIndex=i.map=i.flatten=i.chain=i.ap=i.alt=i.altW=i.zero=i.of=i._chainRecBreadthFirst=i._chainRecDepthFirst=i.difference=i.intersection=i.union=i.concat=i.concatW=i.comprehension=i.fromOptionK=i.chunksOf=i.splitAt=i.chop=i.sortBy=i.uniq=i.elem=i.rotate=i.intersperse=i.prependAll=i.unzip=i.zip=i.zipWith=void 0;i.toArray=i.unsafeDeleteAt=i.unsafeUpdateAt=i.unsafeInsertAt=i.fromEitherK=i.FromEither=i.filterE=i.Witherable=i.ChainRecBreadthFirst=i.chainRecBreadthFirst=i.ChainRecDepthFirst=i.chainRecDepthFirst=i.TraversableWithIndex=i.Traversable=i.FoldableWithIndex=i.Foldable=i.FilterableWithIndex=i.Filterable=i.Compactable=i.Extend=i.Alternative=i.guard=i.Zero=i.Alt=i.Unfoldable=i.chainFirst=i.Monad=i.Chain=i.Applicative=i.apSecond=i.apFirst=i.Apply=i.FunctorWithIndex=i.Pointed=i.flap=i.Functor=i.getDifferenceMagma=i.getIntersectionSemigroup=i.getUnionMonoid=i.getUnionSemigroup=i.getOrd=i.getEq=i.getMonoid=i.getSemigroup=i.getShow=i.URI=i.unfold=i.wilt=i.wither=i.traverseWithIndex=void 0;i.readonlyArray=i.prependToAll=i.snoc=i.cons=i.range=i.apS=i.bind=i.bindTo=i.Do=i.exists=i.some=i.every=i.empty=i.fromArray=void 0;var Qe=Tt(),un=Lt(),Mc=re(),wc=Ae(),D=st(),on=_t(),L=Ge(gt()),Wc=Ge(we()),Rc=Pt(),P=Ge(ae()),Xe=Ke(),Ye=He(),Cc=Ve(),Ac=a(function(e){return e.length===0},"isEmpty");i.isEmpty=Ac;i.isNonEmpty=P.isNonEmpty;i.prepend=P.prepend;i.prependW=P.prependW;i.append=P.append;i.appendW=P.appendW;var Ec=a(function(e,t){return e<=0?i.empty:P.makeBy(t)(e)},"makeBy");i.makeBy=Ec;var _c=a(function(e,t){return i.makeBy(e,function(){return t})},"replicate");i.replicate=_c;function Sc(e){return function(t){return e(t)?[t]:i.empty}}a(Sc,"fromPredicate");i.fromPredicate=Sc;var qc=a(function(e){return L.isNone(e)?i.empty:[e.value]},"fromOption");i.fromOption=qc;var Oc=a(function(e){return L.isLeft(e)?i.empty:[e.right]},"fromEither");i.fromEither=Oc;var Uc=a(function(e,t){return function(r){return i.isNonEmpty(r)?t(r):e()}},"matchW");i.matchW=Uc;i.match=i.matchW;var Nc=a(function(e,t){return function(r){return i.isNonEmpty(r)?t(P.head(r),P.tail(r)):e()}},"matchLeftW");i.matchLeftW=Nc;i.matchLeft=i.matchLeftW;i.foldLeft=i.matchLeft;var Fc=a(function(e,t){return function(r){return i.isNonEmpty(r)?t(P.init(r),P.last(r)):e()}},"matchRightW");i.matchRightW=Fc;i.matchRight=i.matchRightW;i.foldRight=i.matchRight;var Bc=a(function(e){return function(t){if(i.isEmpty(t))return i.empty;for(var r=[],n=0;n<t.length;n++)r.push.apply(r,e(n,t[n]));return r}},"chainWithIndex");i.chainWithIndex=Bc;var Tc=a(function(e,t){return function(r){var n=r.length,u=new Array(n+1);u[0]=e;for(var c=0;c<n;c++)u[c+1]=t(u[c],r[c]);return u}},"scanLeft");i.scanLeft=Tc;var Lc=a(function(e,t){return function(r){var n=r.length,u=new Array(n+1);u[n]=e;for(var c=n-1;c>=0;c--)u[c]=t(r[c],u[c+1]);return u}},"scanRight");i.scanRight=Lc;var Pc=a(function(e){return e.length},"size");i.size=Pc;i.isOutOfBound=P.isOutOfBound;function cn(e,t){return t===void 0?function(r){return cn(e,r)}:i.isOutOfBound(e,t)?L.none:L.some(t[e])}a(cn,"lookup");i.lookup=cn;var Dc=a(function(e){return i.isNonEmpty(e)?L.some(P.head(e)):L.none},"head");i.head=Dc;var zc=a(function(e){return i.isNonEmpty(e)?L.some(P.last(e)):L.none},"last");i.last=zc;var jc=a(function(e){return i.isNonEmpty(e)?L.some(P.tail(e)):L.none},"tail");i.tail=jc;var kc=a(function(e){return i.isNonEmpty(e)?L.some(P.init(e)):L.none},"init");i.init=kc;var $c=a(function(e){return function(t){return i.isOutOfBound(e,t)?t:e===0?i.empty:t.slice(0,e)}},"takeLeft");i.takeLeft=$c;var Zc=a(function(e){return function(t){return i.isOutOfBound(e,t)?t:e===0?i.empty:t.slice(-e)}},"takeRight");i.takeRight=Zc;function Kc(e){return function(t){for(var r=[],n=0,u=t;n<u.length;n++){var c=u[n];if(!e(c))break;r.push(c)}var p=r.length;return p===t.length?t:p===0?i.empty:r}}a(Kc,"takeLeftWhile");i.takeLeftWhile=Kc;var fn=a(function(e,t){for(var r=e.length,n=0;n<r&&t(e[n]);n++);return n},"spanLeftIndex");function Hc(e){return function(t){var r=i.splitAt(fn(t,e))(t),n=r[0],u=r[1];return{init:n,rest:u}}}a(Hc,"spanLeft");i.spanLeft=Hc;var Vc=a(function(e){return function(t){return e<=0||i.isEmpty(t)?t:e>=t.length?i.empty:t.slice(e,t.length)}},"dropLeft");i.dropLeft=Vc;var Gc=a(function(e){return function(t){return e<=0||i.isEmpty(t)?t:e>=t.length?i.empty:t.slice(0,t.length-e)}},"dropRight");i.dropRight=Gc;function Qc(e){return function(t){var r=fn(t,e);return r===0?t:r===t.length?i.empty:t.slice(r)}}a(Qc,"dropLeftWhile");i.dropLeftWhile=Qc;var Xc=a(function(e){return function(t){for(var r=0;r<t.length;r++)if(e(t[r]))return L.some(r);return L.none}},"findIndex");i.findIndex=Xc;function Yc(e){return function(t){for(var r=0;r<t.length;r++)if(e(t[r]))return L.some(t[r]);return L.none}}a(Yc,"findFirst");i.findFirst=Yc;var Jc=a(function(e){return function(t){for(var r=0;r<t.length;r++){var n=e(t[r]);if(L.isSome(n))return n}return L.none}},"findFirstMap");i.findFirstMap=Jc;function tf(e){return function(t){for(var r=t.length-1;r>=0;r--)if(e(t[r]))return L.some(t[r]);return L.none}}a(tf,"findLast");i.findLast=tf;var ef=a(function(e){return function(t){for(var r=t.length-1;r>=0;r--){var n=e(t[r]);if(L.isSome(n))return n}return L.none}},"findLastMap");i.findLastMap=ef;var rf=a(function(e){return function(t){for(var r=t.length-1;r>=0;r--)if(e(t[r]))return L.some(r);return L.none}},"findLastIndex");i.findLastIndex=rf;var nf=a(function(e,t){return function(r){return e<0||e>r.length?L.none:L.some(P.unsafeInsertAt(e,t,r))}},"insertAt");i.insertAt=nf;var af=a(function(e,t){return i.modifyAt(e,function(){return t})},"updateAt");i.updateAt=af;var uf=a(function(e){return function(t){return i.isOutOfBound(e,t)?L.none:L.some(i.unsafeDeleteAt(e,t))}},"deleteAt");i.deleteAt=uf;var of=a(function(e,t){return function(r){return i.isOutOfBound(e,r)?L.none:L.some(i.unsafeUpdateAt(e,t(r[e]),r))}},"modifyAt");i.modifyAt=of;var cf=a(function(e){return e.length<=1?e:e.slice().reverse()},"reverse");i.reverse=cf;var ff=a(function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];n._tag==="Right"&&t.push(n.right)}return t},"rights");i.rights=ff;var sf=a(function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];n._tag==="Left"&&t.push(n.left)}return t},"lefts");i.lefts=sf;var hf=a(function(e){return function(t){return t.length<=1?t:t.slice().sort(e.compare)}},"sort");i.sort=hf;var pf=a(function(e,t,r){for(var n=[],u=Math.min(e.length,t.length),c=0;c<u;c++)n[c]=r(e[c],t[c]);return n},"zipWith");i.zipWith=pf;function sn(e,t){return t===void 0?function(r){return sn(r,e)}:i.zipWith(e,t,function(r,n){return[r,n]})}a(sn,"zip");i.zip=sn;var lf=a(function(e){for(var t=[],r=[],n=0;n<e.length;n++)t[n]=e[n][0],r[n]=e[n][1];return[t,r]},"unzip");i.unzip=lf;var df=a(function(e){var t=P.prependAll(e);return function(r){return i.isNonEmpty(r)?t(r):r}},"prependAll");i.prependAll=df;var vf=a(function(e){var t=P.intersperse(e);return function(r){return i.isNonEmpty(r)?t(r):r}},"intersperse");i.intersperse=vf;var mf=a(function(e){var t=P.rotate(e);return function(r){return i.isNonEmpty(r)?t(r):r}},"rotate");i.rotate=mf;function oe(e){return function(t,r){if(r===void 0){var n=oe(e);return function(p){return n(t,p)}}for(var u=a(function(p){return e.equals(p,t)},"predicate"),c=0;c<r.length;c++)if(u(r[c]))return!0;return!1}}a(oe,"elem");i.elem=oe;var gf=a(function(e){var t=P.uniq(e);return function(r){return i.isNonEmpty(r)?t(r):r}},"uniq");i.uniq=gf;var yf=a(function(e){var t=P.sortBy(e);return function(r){return i.isNonEmpty(r)?t(r):r}},"sortBy");i.sortBy=yf;var If=a(function(e){var t=P.chop(e);return function(r){return i.isNonEmpty(r)?t(r):i.empty}},"chop");i.chop=If;var bf=a(function(e){return function(t){return e>=1&&i.isNonEmpty(t)?P.splitAt(e)(t):i.isEmpty(t)?[t,i.empty]:[i.empty,t]}},"splitAt");i.splitAt=bf;var xf=a(function(e){var t=P.chunksOf(e);return function(r){return i.isNonEmpty(r)?t(r):i.empty}},"chunksOf");i.chunksOf=xf;var Mf=a(function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return i.fromOption(e.apply(void 0,t))}},"fromOptionK");i.fromOptionK=Mf;function wf(e,t,r){r===void 0&&(r=a(function(){return!0},"g"));var n=a(function(u,c){return i.isNonEmpty(c)?D.pipe(P.head(c),i.chain(function(p){return n(D.pipe(u,i.append(p)),P.tail(c))})):r.apply(void 0,u)?[t.apply(void 0,u)]:i.empty},"go");return n(i.empty,e)}a(wf,"comprehension");i.comprehension=wf;var Wf=a(function(e){return function(t){return i.isEmpty(t)?e:i.isEmpty(e)?t:t.concat(e)}},"concatW");i.concatW=Wf;i.concat=i.concatW;function Je(e){var t=P.union(e);return function(r,n){if(n===void 0){var u=Je(e);return function(c){return u(c,r)}}return i.isNonEmpty(r)&&i.isNonEmpty(n)?t(n)(r):i.isNonEmpty(r)?r:n}}a(Je,"union");i.union=Je;function tr(e){var t=oe(e);return function(r,n){if(n===void 0){var u=tr(e);return function(c){return u(c,r)}}return r.filter(function(c){return t(c,n)})}}a(tr,"intersection");i.intersection=tr;function er(e){var t=oe(e);return function(r,n){if(n===void 0){var u=er(e);return function(c){return u(c,r)}}return r.filter(function(c){return!t(c,n)})}}a(er,"difference");i.difference=er;var Y=a(function(e,t){return D.pipe(e,i.map(t))},"_map"),ce=a(function(e,t){return D.pipe(e,i.mapWithIndex(t))},"_mapWithIndex"),It=a(function(e,t){return D.pipe(e,i.ap(t))},"_ap"),Xt=a(function(e,t){return D.pipe(e,i.chain(t))},"_chain"),fe=a(function(e,t){return D.pipe(e,i.filter(t))},"_filter"),se=a(function(e,t){return D.pipe(e,i.filterMap(t))},"_filterMap"),he=a(function(e,t){return D.pipe(e,i.partition(t))},"_partition"),pe=a(function(e,t){return D.pipe(e,i.partitionMap(t))},"_partitionMap"),hn=a(function(e,t){return D.pipe(e,i.partitionWithIndex(t))},"_partitionWithIndex"),pn=a(function(e,t){return D.pipe(e,i.partitionMapWithIndex(t))},"_partitionMapWithIndex"),rr=a(function(e,t){return D.pipe(e,i.alt(t))},"_alt"),Mt=a(function(e,t,r){return D.pipe(e,i.reduce(t,r))},"_reduce"),St=a(function(e){var t=i.foldMap(e);return function(r,n){return D.pipe(r,t(n))}},"_foldMap"),qt=a(function(e,t,r){return D.pipe(e,i.reduceRight(t,r))},"_reduceRight"),nr=a(function(e,t,r){return D.pipe(e,i.reduceWithIndex(t,r))},"_reduceWithIndex"),ar=a(function(e){var t=i.foldMapWithIndex(e);return function(r,n){return D.pipe(r,t(n))}},"_foldMapWithIndex"),ir=a(function(e,t,r){return D.pipe(e,i.reduceRightWithIndex(t,r))},"_reduceRightWithIndex"),ln=a(function(e,t){return D.pipe(e,i.filterMapWithIndex(t))},"_filterMapWithIndex"),dn=a(function(e,t){return D.pipe(e,i.filterWithIndex(t))},"_filterWithIndex"),vn=a(function(e,t){return D.pipe(e,i.extend(t))},"_extend"),le=a(function(e){var t=i.traverse(e);return function(r,n){return D.pipe(r,t(n))}},"_traverse"),mn=a(function(e){var t=i.traverseWithIndex(e);return function(r,n){return D.pipe(r,t(n))}},"_traverseWithIndex"),Rf=a(function(e,t){return D.pipe(e,i.chainRecDepthFirst(t))},"_chainRecDepthFirst");i._chainRecDepthFirst=Rf;var Cf=a(function(e,t){return D.pipe(e,i.chainRecBreadthFirst(t))},"_chainRecBreadthFirst");i._chainRecBreadthFirst=Cf;i.of=P.of;var Af=a(function(){return i.empty},"zero");i.zero=Af;var Ef=a(function(e){return function(t){return t.concat(e())}},"altW");i.altW=Ef;i.alt=i.altW;var _f=a(function(e){return i.chain(function(t){return D.pipe(e,i.map(t))})},"ap");i.ap=_f;var Sf=a(function(e){return function(t){return D.pipe(t,i.chainWithIndex(function(r,n){return e(n)}))}},"chain");i.chain=Sf;i.flatten=i.chain(D.identity);var qf=a(function(e){return function(t){return t.map(function(r){return e(r)})}},"map");i.map=qf;var Of=a(function(e){return function(t){return t.map(function(r,n){return e(n,r)})}},"mapWithIndex");i.mapWithIndex=Of;var Uf=a(function(e){for(var t=[],r=[],n=0,u=e;n<u.length;n++){var c=u[n];c._tag==="Left"?t.push(c.left):r.push(c.right)}return Xe.separated(t,r)},"separate");i.separate=Uf;var Nf=a(function(e){return function(t){return t.filter(e)}},"filter");i.filter=Nf;var Ff=a(function(e){return function(t){for(var r=[],n=0;n<t.length;n++){var u=e(n,t[n]);L.isSome(u)&&r.push(u.value)}return r}},"filterMapWithIndex");i.filterMapWithIndex=Ff;var Bf=a(function(e){return i.filterMapWithIndex(function(t,r){return e(r)})},"filterMap");i.filterMap=Bf;i.compact=i.filterMap(D.identity);var Tf=a(function(e){return i.partitionWithIndex(function(t,r){return e(r)})},"partition");i.partition=Tf;var Lf=a(function(e){return function(t){for(var r=[],n=[],u=0;u<t.length;u++){var c=t[u];e(u,c)?n.push(c):r.push(c)}return Xe.separated(r,n)}},"partitionWithIndex");i.partitionWithIndex=Lf;var Pf=a(function(e){return i.partitionMapWithIndex(function(t,r){return e(r)})},"partitionMap");i.partitionMap=Pf;var Df=a(function(e){return function(t){for(var r=[],n=[],u=0;u<t.length;u++){var c=e(u,t[u]);c._tag==="Left"?r.push(c.left):n.push(c.right)}return Xe.separated(r,n)}},"partitionMapWithIndex");i.partitionMapWithIndex=Df;var zf=a(function(e){return function(t){return t.filter(function(r,n){return e(n,r)})}},"filterWithIndex");i.filterWithIndex=zf;var jf=a(function(e){return function(t){return t.map(function(r,n){return e(t.slice(n))})}},"extend");i.extend=jf;i.duplicate=i.extend(D.identity);var kf=a(function(e){return function(t){return function(r){return r.reduce(function(n,u,c){return e.concat(n,t(c,u))},e.empty)}}},"foldMapWithIndex");i.foldMapWithIndex=kf;var $f=a(function(e,t){return i.reduceWithIndex(e,function(r,n,u){return t(n,u)})},"reduce");i.reduce=$f;var Zf=a(function(e){var t=i.foldMapWithIndex(e);return function(r){return t(function(n,u){return r(u)})}},"foldMap");i.foldMap=Zf;var Kf=a(function(e,t){return function(r){for(var n=r.length,u=e,c=0;c<n;c++)u=t(c,u,r[c]);return u}},"reduceWithIndex");i.reduceWithIndex=Kf;var Hf=a(function(e,t){return i.reduceRightWithIndex(e,function(r,n,u){return t(n,u)})},"reduceRight");i.reduceRight=Hf;var Vf=a(function(e,t){return function(r){return r.reduceRight(function(n,u,c){return t(c,u,n)},e)}},"reduceRightWithIndex");i.reduceRightWithIndex=Vf;var Gf=a(function(e){var t=i.traverseWithIndex(e);return function(r){return t(function(n,u){return r(u)})}},"traverse");i.traverse=Gf;var Qf=a(function(e){return function(t){return Mt(t,e.of(i.zero()),function(r,n){return e.ap(e.map(r,function(u){return function(c){return D.pipe(u,i.append(c))}}),n)})}},"sequence");i.sequence=Qf;var Xf=a(function(e){return function(t){return i.reduceWithIndex(e.of(i.zero()),function(r,n,u){return e.ap(e.map(n,function(c){return function(p){return D.pipe(c,i.append(p))}}),t(r,u))})}},"traverseWithIndex");i.traverseWithIndex=Xf;var Yf=a(function(e){var t=ur(e);return function(r){return function(n){return t(n,r)}}},"wither");i.wither=Yf;var Jf=a(function(e){var t=or(e);return function(r){return function(n){return t(n,r)}}},"wilt");i.wilt=Jf;var ts=a(function(e,t){for(var r=[],n=e;;){var u=t(n);if(L.isSome(u)){var c=u.value,p=c[0],y=c[1];r.push(p),n=y}else break}return r},"unfold");i.unfold=ts;i.URI="ReadonlyArray";var es=a(function(e){return{show:function(t){return"["+t.map(e.show).join(", ")+"]"}}},"getShow");i.getShow=es;var rs=a(function(){return{concat:function(e,t){return i.isEmpty(e)?t:i.isEmpty(t)?e:e.concat(t)}}},"getSemigroup");i.getSemigroup=rs;var ns=a(function(){return{concat:i.getSemigroup().concat,empty:i.empty}},"getMonoid");i.getMonoid=ns;var as=a(function(e){return Mc.fromEquals(function(t,r){return t.length===r.length&&t.every(function(n,u){return e.equals(n,r[u])})})},"getEq");i.getEq=as;var is=a(function(e){return Rc.fromCompare(function(t,r){for(var n=t.length,u=r.length,c=Math.min(n,u),p=0;p<c;p++){var y=e.compare(t[p],r[p]);if(y!==0)return y}return Wc.Ord.compare(n,u)})},"getOrd");i.getOrd=is;var us=a(function(e){var t=Je(e);return{concat:function(r,n){return t(n)(r)}}},"getUnionSemigroup");i.getUnionSemigroup=us;var os=a(function(e){return{concat:i.getUnionSemigroup(e).concat,empty:i.empty}},"getUnionMonoid");i.getUnionMonoid=os;var cs=a(function(e){var t=tr(e);return{concat:function(r,n){return t(n)(r)}}},"getIntersectionSemigroup");i.getIntersectionSemigroup=cs;var fs=a(function(e){var t=er(e);return{concat:function(r,n){return t(n)(r)}}},"getDifferenceMagma");i.getDifferenceMagma=fs;i.Functor={URI:i.URI,map:Y};i.flap=on.flap(i.Functor);i.Pointed={URI:i.URI,of:i.of};i.FunctorWithIndex={URI:i.URI,map:Y,mapWithIndex:ce};i.Apply={URI:i.URI,map:Y,ap:It};i.apFirst=Qe.apFirst(i.Apply);i.apSecond=Qe.apSecond(i.Apply);i.Applicative={URI:i.URI,map:Y,ap:It,of:i.of};i.Chain={URI:i.URI,map:Y,ap:It,chain:Xt};i.Monad={URI:i.URI,map:Y,ap:It,of:i.of,chain:Xt};i.chainFirst=un.chainFirst(i.Chain);i.Unfoldable={URI:i.URI,unfold:i.unfold};i.Alt={URI:i.URI,map:Y,alt:rr};i.Zero={URI:i.URI,zero:i.zero};i.guard=Cc.guard(i.Zero,i.Pointed);i.Alternative={URI:i.URI,map:Y,ap:It,of:i.of,alt:rr,zero:i.zero};i.Extend={URI:i.URI,map:Y,extend:vn};i.Compactable={URI:i.URI,compact:i.compact,separate:i.separate};i.Filterable={URI:i.URI,map:Y,compact:i.compact,separate:i.separate,filter:fe,filterMap:se,partition:he,partitionMap:pe};i.FilterableWithIndex={URI:i.URI,map:Y,mapWithIndex:ce,compact:i.compact,separate:i.separate,filter:fe,filterMap:se,partition:he,partitionMap:pe,partitionMapWithIndex:pn,partitionWithIndex:hn,filterMapWithIndex:ln,filterWithIndex:dn};i.Foldable={URI:i.URI,reduce:Mt,foldMap:St,reduceRight:qt};i.FoldableWithIndex={URI:i.URI,reduce:Mt,foldMap:St,reduceRight:qt,reduceWithIndex:nr,foldMapWithIndex:ar,reduceRightWithIndex:ir};i.Traversable={URI:i.URI,map:Y,reduce:Mt,foldMap:St,reduceRight:qt,traverse:le,sequence:i.sequence};i.TraversableWithIndex={URI:i.URI,map:Y,mapWithIndex:ce,reduce:Mt,foldMap:St,reduceRight:qt,reduceWithIndex:nr,foldMapWithIndex:ar,reduceRightWithIndex:ir,traverse:le,sequence:i.sequence,traverseWithIndex:mn};var ss=a(function(e){return function(t){for(var r=xc([],e(t)),n=[];r.length>0;){var u=r.shift();L.isLeft(u)?r.unshift.apply(r,e(u.left)):n.push(u.right)}return n}},"chainRecDepthFirst");i.chainRecDepthFirst=ss;i.ChainRecDepthFirst={URI:i.URI,map:Y,ap:It,chain:Xt,chainRec:i._chainRecDepthFirst};var hs=a(function(e){return function(t){var r=e(t),n=[],u=[];function c(O){L.isLeft(O)?e(O.left).forEach(function(F){return n.push(F)}):u.push(O.right)}a(c,"go");for(var p=0,y=r;p<y.length;p++){var M=y[p];c(M)}for(;n.length>0;)c(n.shift());return u}},"chainRecBreadthFirst");i.chainRecBreadthFirst=hs;i.ChainRecBreadthFirst={URI:i.URI,map:Y,ap:It,chain:Xt,chainRec:i._chainRecBreadthFirst};var ur=Ye.witherDefault(i.Traversable,i.Compactable),or=Ye.wiltDefault(i.Traversable,i.Compactable);i.Witherable={URI:i.URI,map:Y,compact:i.compact,separate:i.separate,filter:fe,filterMap:se,partition:he,partitionMap:pe,reduce:Mt,foldMap:St,reduceRight:qt,traverse:le,sequence:i.sequence,wither:ur,wilt:or};i.filterE=Ye.filterE(i.Witherable);i.FromEither={URI:i.URI,fromEither:i.fromEither};i.fromEitherK=wc.fromEitherK(i.FromEither);i.unsafeInsertAt=P.unsafeInsertAt;var ps=a(function(e,t,r){return i.isNonEmpty(r)?P.unsafeUpdateAt(e,t,r):r},"unsafeUpdateAt");i.unsafeUpdateAt=ps;var ls=a(function(e,t){var r=t.slice();return r.splice(e,1),r},"unsafeDeleteAt");i.unsafeDeleteAt=ls;var ds=a(function(e){return e.slice()},"toArray");i.toArray=ds;var vs=a(function(e){return i.isEmpty(e)?i.empty:e.slice()},"fromArray");i.fromArray=vs;i.empty=P.empty;var ms=a(function(e){return function(t){return t.every(e)}},"every");i.every=ms;var gs=a(function(e){return function(t){return t.some(e)}},"some");i.some=gs;i.exists=i.some;i.Do=i.of(L.emptyRecord);i.bindTo=on.bindTo(i.Functor);i.bind=un.bind(i.Chain);i.apS=Qe.apS(i.Apply);i.range=P.range;i.cons=P.cons;i.snoc=P.snoc;i.prependToAll=i.prependAll;i.readonlyArray={URI:i.URI,compact:i.compact,separate:i.separate,map:Y,ap:It,of:i.of,chain:Xt,filter:fe,filterMap:se,partition:he,partitionMap:pe,mapWithIndex:ce,partitionMapWithIndex:pn,partitionWithIndex:hn,filterMapWithIndex:ln,filterWithIndex:dn,alt:rr,zero:i.zero,unfold:i.unfold,reduce:Mt,foldMap:St,reduceRight:qt,traverse:le,sequence:i.sequence,reduceWithIndex:nr,foldMapWithIndex:ar,reduceRightWithIndex:ir,traverseWithIndex:mn,extend:vn,wither:ur,wilt:or}});var En=X(o=>{"use strict";var ys=o&&o.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Is=o&&o.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),cr=o&&o.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&ys(t,e,r);return Is(t,e),t};Object.defineProperty(o,"__esModule",{value:!0});o.lefts=o.rights=o.reverse=o.modifyAt=o.deleteAt=o.updateAt=o.insertAt=o.copy=o.findLastIndex=o.findLastMap=o.findLast=o.findFirstMap=o.findFirst=o.findIndex=o.dropLeftWhile=o.dropRight=o.dropLeft=o.spanLeft=o.takeLeftWhile=o.takeRight=o.takeLeft=o.init=o.tail=o.last=o.head=o.lookup=o.isOutOfBound=o.size=o.scanRight=o.scanLeft=o.chainWithIndex=o.foldRight=o.matchRight=o.matchRightW=o.foldLeft=o.matchLeft=o.matchLeftW=o.match=o.matchW=o.fromEither=o.fromOption=o.fromPredicate=o.replicate=o.makeBy=o.appendW=o.append=o.prependW=o.prepend=o.isNonEmpty=o.isEmpty=void 0;o.traverseWithIndex=o.sequence=o.traverse=o.reduceRightWithIndex=o.reduceRight=o.reduceWithIndex=o.reduce=o.foldMapWithIndex=o.foldMap=o.duplicate=o.extend=o.filterWithIndex=o.alt=o.altW=o.partitionMapWithIndex=o.partitionMap=o.partitionWithIndex=o.partition=o.filter=o.separate=o.compact=o.filterMap=o.filterMapWithIndex=o.mapWithIndex=o.flatten=o.chain=o.ap=o.map=o.zero=o.of=o.difference=o.intersection=o.union=o.concat=o.concatW=o.comprehension=o.fromOptionK=o.chunksOf=o.splitAt=o.chop=o.sortBy=o.uniq=o.elem=o.rotate=o.intersperse=o.prependAll=o.unzip=o.zip=o.zipWith=o.sort=void 0;o.some=o.every=o.unsafeDeleteAt=o.unsafeUpdateAt=o.unsafeInsertAt=o.fromEitherK=o.FromEither=o.filterE=o.ChainRecBreadthFirst=o.chainRecBreadthFirst=o.ChainRecDepthFirst=o.chainRecDepthFirst=o.Witherable=o.TraversableWithIndex=o.Traversable=o.FoldableWithIndex=o.Foldable=o.FilterableWithIndex=o.Filterable=o.Compactable=o.Extend=o.Alternative=o.guard=o.Zero=o.Alt=o.Unfoldable=o.Monad=o.chainFirst=o.Chain=o.Applicative=o.apSecond=o.apFirst=o.Apply=o.FunctorWithIndex=o.Pointed=o.flap=o.Functor=o.getDifferenceMagma=o.getIntersectionSemigroup=o.getUnionMonoid=o.getUnionSemigroup=o.getOrd=o.getEq=o.getMonoid=o.getSemigroup=o.getShow=o.URI=o.unfold=o.wilt=o.wither=void 0;o.array=o.prependToAll=o.snoc=o.cons=o.empty=o.range=o.apS=o.bind=o.bindTo=o.Do=o.exists=void 0;var fr=Tt(),yn=Lt(),bs=Ae(),k=st(),In=_t(),rt=cr(gt()),$=cr($e()),G=cr(gn()),sr=Ke(),hr=He(),xs=Ve(),Ms=a(function(e){return e.length===0},"isEmpty");o.isEmpty=Ms;o.isNonEmpty=$.isNonEmpty;o.prepend=$.prepend;o.prependW=$.prependW;o.append=$.append;o.appendW=$.appendW;var ws=a(function(e,t){return e<=0?[]:$.makeBy(t)(e)},"makeBy");o.makeBy=ws;var Ws=a(function(e,t){return o.makeBy(e,function(){return t})},"replicate");o.replicate=Ws;function Rs(e){return function(t){return e(t)?[t]:[]}}a(Rs,"fromPredicate");o.fromPredicate=Rs;var Cs=a(function(e){return rt.isNone(e)?[]:[e.value]},"fromOption");o.fromOption=Cs;var As=a(function(e){return rt.isLeft(e)?[]:[e.right]},"fromEither");o.fromEither=As;var Es=a(function(e,t){return function(r){return o.isNonEmpty(r)?t(r):e()}},"matchW");o.matchW=Es;o.match=o.matchW;var _s=a(function(e,t){return function(r){return o.isNonEmpty(r)?t($.head(r),$.tail(r)):e()}},"matchLeftW");o.matchLeftW=_s;o.matchLeft=o.matchLeftW;o.foldLeft=o.matchLeft;var Ss=a(function(e,t){return function(r){return o.isNonEmpty(r)?t($.init(r),$.last(r)):e()}},"matchRightW");o.matchRightW=Ss;o.matchRight=o.matchRightW;o.foldRight=o.matchRight;var qs=a(function(e){return function(t){for(var r=[],n=0;n<t.length;n++)r.push.apply(r,e(n,t[n]));return r}},"chainWithIndex");o.chainWithIndex=qs;var Os=a(function(e,t){return function(r){var n=r.length,u=new Array(n+1);u[0]=e;for(var c=0;c<n;c++)u[c+1]=t(u[c],r[c]);return u}},"scanLeft");o.scanLeft=Os;var Us=a(function(e,t){return function(r){var n=r.length,u=new Array(n+1);u[n]=e;for(var c=n-1;c>=0;c--)u[c]=t(r[c],u[c+1]);return u}},"scanRight");o.scanRight=Us;var Ns=a(function(e){return e.length},"size");o.size=Ns;o.isOutOfBound=$.isOutOfBound;o.lookup=G.lookup;o.head=G.head;o.last=G.last;var Fs=a(function(e){return o.isNonEmpty(e)?rt.some($.tail(e)):rt.none},"tail");o.tail=Fs;var Bs=a(function(e){return o.isNonEmpty(e)?rt.some($.init(e)):rt.none},"init");o.init=Bs;var Ts=a(function(e){return function(t){return o.isOutOfBound(e,t)?o.copy(t):t.slice(0,e)}},"takeLeft");o.takeLeft=Ts;var Ls=a(function(e){return function(t){return o.isOutOfBound(e,t)?o.copy(t):e===0?[]:t.slice(-e)}},"takeRight");o.takeRight=Ls;function Ps(e){return function(t){for(var r=[],n=0,u=t;n<u.length;n++){var c=u[n];if(!e(c))break;r.push(c)}return r}}a(Ps,"takeLeftWhile");o.takeLeftWhile=Ps;var bn=a(function(e,t){for(var r=e.length,n=0;n<r&&t(e[n]);n++);return n},"spanLeftIndex");function Ds(e){return function(t){var r=o.splitAt(bn(t,e))(t),n=r[0],u=r[1];return{init:n,rest:u}}}a(Ds,"spanLeft");o.spanLeft=Ds;var zs=a(function(e){return function(t){return e<=0||o.isEmpty(t)?o.copy(t):e>=t.length?[]:t.slice(e,t.length)}},"dropLeft");o.dropLeft=zs;var js=a(function(e){return function(t){return e<=0||o.isEmpty(t)?o.copy(t):e>=t.length?[]:t.slice(0,t.length-e)}},"dropRight");o.dropRight=js;function ks(e){return function(t){return t.slice(bn(t,e))}}a(ks,"dropLeftWhile");o.dropLeftWhile=ks;o.findIndex=G.findIndex;function $s(e){return G.findFirst(e)}a($s,"findFirst");o.findFirst=$s;o.findFirstMap=G.findFirstMap;function Zs(e){return G.findLast(e)}a(Zs,"findLast");o.findLast=Zs;o.findLastMap=G.findLastMap;o.findLastIndex=G.findLastIndex;var Ks=a(function(e){return e.slice()},"copy");o.copy=Ks;var Hs=a(function(e,t){return function(r){return e<0||e>r.length?rt.none:rt.some(o.unsafeInsertAt(e,t,r))}},"insertAt");o.insertAt=Hs;var Vs=a(function(e,t){return o.modifyAt(e,function(){return t})},"updateAt");o.updateAt=Vs;var Gs=a(function(e){return function(t){return o.isOutOfBound(e,t)?rt.none:rt.some(o.unsafeDeleteAt(e,t))}},"deleteAt");o.deleteAt=Gs;var Qs=a(function(e,t){return function(r){return o.isOutOfBound(e,r)?rt.none:rt.some(o.unsafeUpdateAt(e,t(r[e]),r))}},"modifyAt");o.modifyAt=Qs;var Xs=a(function(e){return o.isEmpty(e)?[]:e.slice().reverse()},"reverse");o.reverse=Xs;var Ys=a(function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];n._tag==="Right"&&t.push(n.right)}return t},"rights");o.rights=Ys;var Js=a(function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];n._tag==="Left"&&t.push(n.left)}return t},"lefts");o.lefts=Js;var th=a(function(e){return function(t){return t.length<=1?o.copy(t):t.slice().sort(e.compare)}},"sort");o.sort=th;var eh=a(function(e,t,r){for(var n=[],u=Math.min(e.length,t.length),c=0;c<u;c++)n[c]=r(e[c],t[c]);return n},"zipWith");o.zipWith=eh;function xn(e,t){return t===void 0?function(r){return xn(r,e)}:o.zipWith(e,t,function(r,n){return[r,n]})}a(xn,"zip");o.zip=xn;var rh=a(function(e){for(var t=[],r=[],n=0;n<e.length;n++)t[n]=e[n][0],r[n]=e[n][1];return[t,r]},"unzip");o.unzip=rh;var nh=a(function(e){var t=$.prependAll(e);return function(r){return o.isNonEmpty(r)?t(r):[]}},"prependAll");o.prependAll=nh;var ah=a(function(e){var t=$.intersperse(e);return function(r){return o.isNonEmpty(r)?t(r):o.copy(r)}},"intersperse");o.intersperse=ah;var ih=a(function(e){var t=$.rotate(e);return function(r){return o.isNonEmpty(r)?t(r):o.copy(r)}},"rotate");o.rotate=ih;o.elem=G.elem;var uh=a(function(e){var t=$.uniq(e);return function(r){return o.isNonEmpty(r)?t(r):o.copy(r)}},"uniq");o.uniq=uh;var oh=a(function(e){var t=$.sortBy(e);return function(r){return o.isNonEmpty(r)?t(r):o.copy(r)}},"sortBy");o.sortBy=oh;var ch=a(function(e){var t=$.chop(e);return function(r){return o.isNonEmpty(r)?t(r):[]}},"chop");o.chop=ch;var fh=a(function(e){return function(t){return e>=1&&o.isNonEmpty(t)?$.splitAt(e)(t):o.isEmpty(t)?[o.copy(t),[]]:[[],o.copy(t)]}},"splitAt");o.splitAt=fh;var sh=a(function(e){var t=$.chunksOf(e);return function(r){return o.isNonEmpty(r)?t(r):[]}},"chunksOf");o.chunksOf=sh;var hh=a(function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return o.fromOption(e.apply(void 0,t))}},"fromOptionK");o.fromOptionK=hh;function ph(e,t,r){r===void 0&&(r=a(function(){return!0},"g"));var n=a(function(u,c){return o.isNonEmpty(c)?k.pipe($.head(c),o.chain(function(p){return n(k.pipe(u,o.append(p)),$.tail(c))})):r.apply(void 0,u)?[t.apply(void 0,u)]:[]},"go");return n([],e)}a(ph,"comprehension");o.comprehension=ph;var lh=a(function(e){return function(t){return o.isEmpty(t)?o.copy(e):o.isEmpty(e)?o.copy(t):t.concat(e)}},"concatW");o.concatW=lh;o.concat=o.concatW;function pr(e){var t=$.union(e);return function(r,n){if(n===void 0){var u=pr(e);return function(c){return u(c,r)}}return o.isNonEmpty(r)&&o.isNonEmpty(n)?t(n)(r):o.isNonEmpty(r)?o.copy(r):o.copy(n)}}a(pr,"union");o.union=pr;function lr(e){var t=o.elem(e);return function(r,n){if(n===void 0){var u=lr(e);return function(c){return u(c,r)}}return r.filter(function(c){return t(c,n)})}}a(lr,"intersection");o.intersection=lr;function dr(e){var t=o.elem(e);return function(r,n){if(n===void 0){var u=dr(e);return function(c){return u(c,r)}}return r.filter(function(c){return!t(c,n)})}}a(dr,"difference");o.difference=dr;var J=a(function(e,t){return k.pipe(e,o.map(t))},"_map"),de=a(function(e,t){return k.pipe(e,o.mapWithIndex(t))},"_mapWithIndex"),bt=a(function(e,t){return k.pipe(e,o.ap(t))},"_ap"),Yt=a(function(e,t){return k.pipe(e,o.chain(t))},"_chain"),ve=a(function(e,t){return k.pipe(e,o.filter(t))},"_filter"),me=a(function(e,t){return k.pipe(e,o.filterMap(t))},"_filterMap"),ge=a(function(e,t){return k.pipe(e,o.partition(t))},"_partition"),ye=a(function(e,t){return k.pipe(e,o.partitionMap(t))},"_partitionMap"),Mn=a(function(e,t){return k.pipe(e,o.partitionWithIndex(t))},"_partitionWithIndex"),wn=a(function(e,t){return k.pipe(e,o.partitionMapWithIndex(t))},"_partitionMapWithIndex"),vr=a(function(e,t){return k.pipe(e,o.alt(t))},"_alt"),wt=a(function(e,t,r){return k.pipe(e,o.reduce(t,r))},"_reduce"),Ot=a(function(e){var t=o.foldMap(e);return function(r,n){return k.pipe(r,t(n))}},"_foldMap"),Ut=a(function(e,t,r){return k.pipe(e,o.reduceRight(t,r))},"_reduceRight"),mr=a(function(e,t,r){return k.pipe(e,o.reduceWithIndex(t,r))},"_reduceWithIndex"),gr=a(function(e){var t=o.foldMapWithIndex(e);return function(r,n){return k.pipe(r,t(n))}},"_foldMapWithIndex"),yr=a(function(e,t,r){return k.pipe(e,o.reduceRightWithIndex(t,r))},"_reduceRightWithIndex"),Wn=a(function(e,t){return k.pipe(e,o.filterMapWithIndex(t))},"_filterMapWithIndex"),Rn=a(function(e,t){return k.pipe(e,o.filterWithIndex(t))},"_filterWithIndex"),Cn=a(function(e,t){return k.pipe(e,o.extend(t))},"_extend"),Ie=a(function(e){var t=o.traverse(e);return function(r,n){return k.pipe(r,t(n))}},"_traverse"),An=a(function(e){var t=o.traverseWithIndex(e);return function(r,n){return k.pipe(r,t(n))}},"_traverseWithIndex"),dh=G._chainRecDepthFirst,vh=G._chainRecBreadthFirst;o.of=$.of;var mh=a(function(){return[]},"zero");o.zero=mh;var gh=a(function(e){return function(t){return t.map(function(r){return e(r)})}},"map");o.map=gh;var yh=a(function(e){return o.chain(function(t){return k.pipe(e,o.map(t))})},"ap");o.ap=yh;var Ih=a(function(e){return function(t){return k.pipe(t,o.chainWithIndex(function(r,n){return e(n)}))}},"chain");o.chain=Ih;o.flatten=o.chain(k.identity);var bh=a(function(e){return function(t){return t.map(function(r,n){return e(n,r)})}},"mapWithIndex");o.mapWithIndex=bh;var xh=a(function(e){return function(t){for(var r=[],n=0;n<t.length;n++){var u=e(n,t[n]);rt.isSome(u)&&r.push(u.value)}return r}},"filterMapWithIndex");o.filterMapWithIndex=xh;var Mh=a(function(e){return o.filterMapWithIndex(function(t,r){return e(r)})},"filterMap");o.filterMap=Mh;o.compact=o.filterMap(k.identity);var wh=a(function(e){for(var t=[],r=[],n=0,u=e;n<u.length;n++){var c=u[n];c._tag==="Left"?t.push(c.left):r.push(c.right)}return sr.separated(t,r)},"separate");o.separate=wh;var Wh=a(function(e){return function(t){return t.filter(e)}},"filter");o.filter=Wh;var Rh=a(function(e){return o.partitionWithIndex(function(t,r){return e(r)})},"partition");o.partition=Rh;var Ch=a(function(e){return function(t){for(var r=[],n=[],u=0;u<t.length;u++){var c=t[u];e(u,c)?n.push(c):r.push(c)}return sr.separated(r,n)}},"partitionWithIndex");o.partitionWithIndex=Ch;var Ah=a(function(e){return o.partitionMapWithIndex(function(t,r){return e(r)})},"partitionMap");o.partitionMap=Ah;var Eh=a(function(e){return function(t){for(var r=[],n=[],u=0;u<t.length;u++){var c=e(u,t[u]);c._tag==="Left"?r.push(c.left):n.push(c.right)}return sr.separated(r,n)}},"partitionMapWithIndex");o.partitionMapWithIndex=Eh;var _h=a(function(e){return function(t){return t.concat(e())}},"altW");o.altW=_h;o.alt=o.altW;var Sh=a(function(e){return function(t){return t.filter(function(r,n){return e(n,r)})}},"filterWithIndex");o.filterWithIndex=Sh;var qh=a(function(e){return function(t){return t.map(function(r,n){return e(t.slice(n))})}},"extend");o.extend=qh;o.duplicate=o.extend(k.identity);o.foldMap=G.foldMap;o.foldMapWithIndex=G.foldMapWithIndex;o.reduce=G.reduce;o.reduceWithIndex=G.reduceWithIndex;o.reduceRight=G.reduceRight;o.reduceRightWithIndex=G.reduceRightWithIndex;var Oh=a(function(e){var t=o.traverseWithIndex(e);return function(r){return t(function(n,u){return r(u)})}},"traverse");o.traverse=Oh;var Uh=a(function(e){return function(t){return wt(t,e.of(o.zero()),function(r,n){return e.ap(e.map(r,function(u){return function(c){return k.pipe(u,o.append(c))}}),n)})}},"sequence");o.sequence=Uh;var Nh=a(function(e){return function(t){return o.reduceWithIndex(e.of(o.zero()),function(r,n,u){return e.ap(e.map(n,function(c){return function(p){return k.pipe(c,o.append(p))}}),t(r,u))})}},"traverseWithIndex");o.traverseWithIndex=Nh;var Fh=a(function(e){var t=Ir(e);return function(r){return function(n){return t(n,r)}}},"wither");o.wither=Fh;var Bh=a(function(e){var t=br(e);return function(r){return function(n){return t(n,r)}}},"wilt");o.wilt=Bh;var Th=a(function(e,t){for(var r=[],n=e;;){var u=t(n);if(rt.isSome(u)){var c=u.value,p=c[0],y=c[1];r.push(p),n=y}else break}return r},"unfold");o.unfold=Th;o.URI="Array";o.getShow=G.getShow;var Lh=a(function(){return{concat:function(e,t){return e.concat(t)}}},"getSemigroup");o.getSemigroup=Lh;var Ph=a(function(){return{concat:o.getSemigroup().concat,empty:[]}},"getMonoid");o.getMonoid=Ph;o.getEq=G.getEq;o.getOrd=G.getOrd;var Dh=a(function(e){var t=pr(e);return{concat:function(r,n){return t(n)(r)}}},"getUnionSemigroup");o.getUnionSemigroup=Dh;var zh=a(function(e){return{concat:o.getUnionSemigroup(e).concat,empty:[]}},"getUnionMonoid");o.getUnionMonoid=zh;var jh=a(function(e){var t=lr(e);return{concat:function(r,n){return t(n)(r)}}},"getIntersectionSemigroup");o.getIntersectionSemigroup=jh;var kh=a(function(e){var t=dr(e);return{concat:function(r,n){return t(n)(r)}}},"getDifferenceMagma");o.getDifferenceMagma=kh;o.Functor={URI:o.URI,map:J};o.flap=In.flap(o.Functor);o.Pointed={URI:o.URI,of:o.of};o.FunctorWithIndex={URI:o.URI,map:J,mapWithIndex:de};o.Apply={URI:o.URI,map:J,ap:bt};o.apFirst=fr.apFirst(o.Apply);o.apSecond=fr.apSecond(o.Apply);o.Applicative={URI:o.URI,map:J,ap:bt,of:o.of};o.Chain={URI:o.URI,map:J,ap:bt,chain:Yt};o.chainFirst=yn.chainFirst(o.Chain);o.Monad={URI:o.URI,map:J,ap:bt,of:o.of,chain:Yt};o.Unfoldable={URI:o.URI,unfold:o.unfold};o.Alt={URI:o.URI,map:J,alt:vr};o.Zero={URI:o.URI,zero:o.zero};o.guard=xs.guard(o.Zero,o.Pointed);o.Alternative={URI:o.URI,map:J,ap:bt,of:o.of,alt:vr,zero:o.zero};o.Extend={URI:o.URI,map:J,extend:Cn};o.Compactable={URI:o.URI,compact:o.compact,separate:o.separate};o.Filterable={URI:o.URI,map:J,compact:o.compact,separate:o.separate,filter:ve,filterMap:me,partition:ge,partitionMap:ye};o.FilterableWithIndex={URI:o.URI,map:J,mapWithIndex:de,compact:o.compact,separate:o.separate,filter:ve,filterMap:me,partition:ge,partitionMap:ye,partitionMapWithIndex:wn,partitionWithIndex:Mn,filterMapWithIndex:Wn,filterWithIndex:Rn};o.Foldable={URI:o.URI,reduce:wt,foldMap:Ot,reduceRight:Ut};o.FoldableWithIndex={URI:o.URI,reduce:wt,foldMap:Ot,reduceRight:Ut,reduceWithIndex:mr,foldMapWithIndex:gr,reduceRightWithIndex:yr};o.Traversable={URI:o.URI,map:J,reduce:wt,foldMap:Ot,reduceRight:Ut,traverse:Ie,sequence:o.sequence};o.TraversableWithIndex={URI:o.URI,map:J,mapWithIndex:de,reduce:wt,foldMap:Ot,reduceRight:Ut,reduceWithIndex:mr,foldMapWithIndex:gr,reduceRightWithIndex:yr,traverse:Ie,sequence:o.sequence,traverseWithIndex:An};var Ir=hr.witherDefault(o.Traversable,o.Compactable),br=hr.wiltDefault(o.Traversable,o.Compactable);o.Witherable={URI:o.URI,map:J,compact:o.compact,separate:o.separate,filter:ve,filterMap:me,partition:ge,partitionMap:ye,reduce:wt,foldMap:Ot,reduceRight:Ut,traverse:Ie,sequence:o.sequence,wither:Ir,wilt:br};o.chainRecDepthFirst=G.chainRecDepthFirst;o.ChainRecDepthFirst={URI:o.URI,map:J,ap:bt,chain:Yt,chainRec:dh};o.chainRecBreadthFirst=G.chainRecBreadthFirst;o.ChainRecBreadthFirst={URI:o.URI,map:J,ap:bt,chain:Yt,chainRec:vh};o.filterE=hr.filterE(o.Witherable);o.FromEither={URI:o.URI,fromEither:o.fromEither};o.fromEitherK=bs.fromEitherK(o.FromEither);o.unsafeInsertAt=$.unsafeInsertAt;var $h=a(function(e,t,r){return o.isNonEmpty(r)?$.unsafeUpdateAt(e,t,r):[]},"unsafeUpdateAt");o.unsafeUpdateAt=$h;var Zh=a(function(e,t){var r=t.slice();return r.splice(e,1),r},"unsafeDeleteAt");o.unsafeDeleteAt=Zh;o.every=G.every;var Kh=a(function(e){return function(t){return t.some(e)}},"some");o.some=Kh;o.exists=o.some;o.Do=o.of(rt.emptyRecord);o.bindTo=In.bindTo(o.Functor);o.bind=yn.bind(o.Chain);o.apS=fr.apS(o.Apply);o.range=$.range;o.empty=[];o.cons=$.cons;o.snoc=$.snoc;o.prependToAll=o.prependAll;o.array={URI:o.URI,compact:o.compact,separate:o.separate,map:J,ap:bt,of:o.of,chain:Yt,filter:ve,filterMap:me,partition:ge,partitionMap:ye,mapWithIndex:de,partitionMapWithIndex:wn,partitionWithIndex:Mn,filterMapWithIndex:Wn,filterWithIndex:Rn,alt:vr,zero:o.zero,unfold:o.unfold,reduce:wt,foldMap:Ot,reduceRight:Ut,traverse:Ie,sequence:o.sequence,reduceWithIndex:mr,foldMapWithIndex:gr,reduceRightWithIndex:yr,traverseWithIndex:An,extend:Cn,wither:Ir,wilt:br}});var Fn=X((wr,Nn)=>{(function(e){"use strict";var t=2e3,r={s:1,n:0,d:1};function n(m,v){if(isNaN(m=parseInt(m,10)))throw _.InvalidParameter;return m*v}a(n,"assign");function u(m,v){if(v===0)throw _.DivisionByZero;var h=Object.create(_.prototype);h.s=m<0?-1:1,m=m<0?-m:m;var l=F(m,v);return h.n=m/l,h.d=v/l,h}a(u,"newFraction");function c(m){for(var v={},h=m,l=2,d=4;d<=h;){for(;h%l===0;)h/=l,v[l]=(v[l]||0)+1;d+=1+2*l++}return h!==m?h>1&&(v[h]=(v[h]||0)+1):v[m]=(v[m]||0)+1,v}a(c,"factorize");var p=a(function(m,v){var h=0,l=1,d=1,g=0,I=0,j=0,B=1,at=1,A=0,C=1,R=1,W=1,lt=1e7,ot;if(m!=null)if(v!==void 0){if(h=m,l=v,d=h*l,h%1!==0||l%1!==0)throw _.NonIntegerParameter}else switch(typeof m){case"object":{if("d"in m&&"n"in m)h=m.n,l=m.d,"s"in m&&(h*=m.s);else if(0 in m)h=m[0],1 in m&&(l=m[1]);else throw _.InvalidParameter;d=h*l;break}case"number":{if(m<0&&(d=m,m=-m),m%1===0)h=m;else if(m>0){for(m>=1&&(at=Math.pow(10,Math.floor(1+Math.log(m)/Math.LN10)),m/=at);C<=lt&&W<=lt;)if(ot=(A+R)/(C+W),m===ot){C+W<=lt?(h=A+R,l=C+W):W>C?(h=R,l=W):(h=A,l=C);break}else m>ot?(A+=R,C+=W):(R+=A,W+=C),C>lt?(h=R,l=W):(h=A,l=C);h*=at}else(isNaN(m)||isNaN(v))&&(l=h=NaN);break}case"string":{if(C=m.match(/\d+|./g),C===null)throw _.InvalidParameter;if(C[A]==="-"?(d=-1,A++):C[A]==="+"&&A++,C.length===A+1?I=n(C[A++],d):C[A+1]==="."||C[A]==="."?(C[A]!=="."&&(g=n(C[A++],d)),A++,(A+1===C.length||C[A+1]==="("&&C[A+3]===")"||C[A+1]==="'"&&C[A+3]==="'")&&(I=n(C[A],d),B=Math.pow(10,C[A].length),A++),(C[A]==="("&&C[A+2]===")"||C[A]==="'"&&C[A+2]==="'")&&(j=n(C[A+1],d),at=Math.pow(10,C[A+1].length)-1,A+=3)):C[A+1]==="/"||C[A+1]===":"?(I=n(C[A],d),B=n(C[A+2],1),A+=3):C[A+3]==="/"&&C[A+1]===" "&&(g=n(C[A],d),I=n(C[A+2],d),B=n(C[A+4],1),A+=5),C.length<=A){l=B*at,d=h=j+l*g+at*I;break}}default:throw _.InvalidParameter}if(l===0)throw _.DivisionByZero;r.s=d<0?-1:1,r.n=Math.abs(h),r.d=Math.abs(l)},"parse");function y(m,v,h){for(var l=1;v>0;m=m*m%h,v>>=1)v&1&&(l=l*m%h);return l}a(y,"modpow");function M(m,v){for(;v%2===0;v/=2);for(;v%5===0;v/=5);if(v===1)return 0;for(var h=10%v,l=1;h!==1;l++)if(h=h*10%v,l>t)return 0;return l}a(M,"cycleLen");function O(m,v,h){for(var l=1,d=y(10,h,v),g=0;g<300;g++){if(l===d)return g;l=l*10%v,d=d*10%v}return 0}a(O,"cycleStart");function F(m,v){if(!m)return v;if(!v)return m;for(;;){if(m%=v,!m)return v;if(v%=m,!v)return m}}a(F,"gcd");function _(m,v){if(p(m,v),this instanceof _)m=F(r.d,r.n),this.s=r.s,this.n=r.n/m,this.d=r.d/m;else return u(r.s*r.n,r.d)}a(_,"Fraction"),_.DivisionByZero=new Error("Division by Zero"),_.InvalidParameter=new Error("Invalid argument"),_.NonIntegerParameter=new Error("Parameters must be integer"),_.prototype={s:1,n:0,d:1,abs:function(){return u(this.n,this.d)},neg:function(){return u(-this.s*this.n,this.d)},add:function(m,v){return p(m,v),u(this.s*this.n*r.d+r.s*this.d*r.n,this.d*r.d)},sub:function(m,v){return p(m,v),u(this.s*this.n*r.d-r.s*this.d*r.n,this.d*r.d)},mul:function(m,v){return p(m,v),u(this.s*r.s*this.n*r.n,this.d*r.d)},div:function(m,v){return p(m,v),u(this.s*r.s*this.n*r.d,this.d*r.n)},clone:function(){return u(this.s*this.n,this.d)},mod:function(m,v){if(isNaN(this.n)||isNaN(this.d))return new _(NaN);if(m===void 0)return u(this.s*this.n%this.d,1);if(p(m,v),r.n===0&&this.d===0)throw _.DivisionByZero;return u(this.s*(r.d*this.n)%(r.n*this.d),r.d*this.d)},gcd:function(m,v){return p(m,v),u(F(r.n,this.n)*F(r.d,this.d),r.d*this.d)},lcm:function(m,v){return p(m,v),r.n===0&&this.n===0?u(0,1):u(r.n*this.n,F(r.n,this.n)*F(r.d,this.d))},ceil:function(m){return m=Math.pow(10,m||0),isNaN(this.n)||isNaN(this.d)?new _(NaN):u(Math.ceil(m*this.s*this.n/this.d),m)},floor:function(m){return m=Math.pow(10,m||0),isNaN(this.n)||isNaN(this.d)?new _(NaN):u(Math.floor(m*this.s*this.n/this.d),m)},round:function(m){return m=Math.pow(10,m||0),isNaN(this.n)||isNaN(this.d)?new _(NaN):u(Math.round(m*this.s*this.n/this.d),m)},inverse:function(){return u(this.s*this.d,this.n)},pow:function(m,v){if(p(m,v),r.d===1)return r.s<0?u(Math.pow(this.s*this.d,r.n),Math.pow(this.n,r.n)):u(Math.pow(this.s*this.n,r.n),Math.pow(this.d,r.n));if(this.s<0)return null;var h=c(this.n),l=c(this.d),d=1,g=1;for(var I in h)if(I!=="1"){if(I==="0"){d=0;break}if(h[I]*=r.n,h[I]%r.d===0)h[I]/=r.d;else return null;d*=Math.pow(I,h[I])}for(var I in l)if(I!=="1"){if(l[I]*=r.n,l[I]%r.d===0)l[I]/=r.d;else return null;g*=Math.pow(I,l[I])}return r.s<0?u(g,d):u(d,g)},equals:function(m,v){return p(m,v),this.s*this.n*r.d===r.s*r.n*this.d},compare:function(m,v){p(m,v);var h=this.s*this.n*r.d-r.s*r.n*this.d;return(0<h)-(h<0)},simplify:function(m){if(isNaN(this.n)||isNaN(this.d))return this;m=m||.001;for(var v=this.abs(),h=v.toContinued(),l=1;l<h.length;l++){for(var d=u(h[l-1],1),g=l-2;g>=0;g--)d=d.inverse().add(h[g]);if(d.sub(v).abs().valueOf()<m)return d.mul(this.s)}return this},divisible:function(m,v){return p(m,v),!(!(r.n*this.d)||this.n*r.d%(r.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(m){var v,h="",l=this.n,d=this.d;return this.s<0&&(h+="-"),d===1?h+=l:(m&&(v=Math.floor(l/d))>0&&(h+=v,h+=" ",l%=d),h+=l,h+="/",h+=d),h},toLatex:function(m){var v,h="",l=this.n,d=this.d;return this.s<0&&(h+="-"),d===1?h+=l:(m&&(v=Math.floor(l/d))>0&&(h+=v,l%=d),h+="\\frac{",h+=l,h+="}{",h+=d,h+="}"),h},toContinued:function(){var m,v=this.n,h=this.d,l=[];if(isNaN(v)||isNaN(h))return l;do l.push(Math.floor(v/h)),m=v%h,v=h,h=m;while(v!==1);return l},toString:function(m){var v=this.n,h=this.d;if(isNaN(v)||isNaN(h))return"NaN";m=m||15;var l=M(v,h),d=O(v,h,l),g=this.s<0?"-":"";if(g+=v/h|0,v%=h,v*=10,v&&(g+="."),l){for(var I=d;I--;)g+=v/h|0,v%=h,v*=10;g+="(";for(var I=l;I--;)g+=v/h|0,v%=h,v*=10;g+=")"}else for(var I=m;v&&I--;)g+=v/h|0,v%=h,v*=10;return g}},typeof define=="function"&&define.amd?define([],function(){return _}):typeof wr=="object"?(Object.defineProperty(_,"__esModule",{value:!0}),_.default=_,_.Fraction=_,Nn.exports=_):e.Fraction=_})(wr)});var _n=Ft(we()),Sn=Ft(En()),xe=Ft($e()),qn=Ft(ae()),Hh=Object.create,Mr=Object.defineProperty,Vh=Object.getOwnPropertyDescriptor,Gh=Object.getOwnPropertyNames,Qh=Object.getPrototypeOf,Xh=Object.prototype.hasOwnProperty,Yh=a(e=>Mr(e,"__esModule",{value:!0}),"bi"),Jh=a((e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),"wi"),tp=a((e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let u of Gh(t))!Xh.call(e,u)&&(r||u!=="default")&&Mr(e,u,{get:()=>t[u],enumerable:!(n=Vh(t,u))||n.enumerable});return e},"vi"),ep=a((e,t)=>tp(Yh(Mr(e!=null?Hh(Qh(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),"yi"),rp=Jh((e,t)=>{(function(r){"use strict";var n=2e3,u={s:1,n:0,d:1};function c(h,l){if(isNaN(h=parseInt(h,10)))throw v.InvalidParameter;return h*l}a(c,"n");function p(h,l){if(l===0)throw v.DivisionByZero;var d=Object.create(v.prototype);d.s=h<0?-1:1,h=h<0?-h:h;var g=m(h,l);return d.n=h/g,d.d=l/g,d}a(p,"r");function y(h){for(var l={},d=h,g=2,I=4;I<=d;){for(;d%g===0;)d/=g,l[g]=(l[g]||0)+1;I+=1+2*g++}return d!==h?d>1&&(l[d]=(l[d]||0)+1):l[h]=(l[h]||0)+1,l}a(y,"c");var M=a(function(h,l){var d=0,g=1,I=1,j=0,B=0,at=0,A=1,C=1,R=0,W=1,lt=1,ot=1,te=1e7,Me;if(h!=null)if(l!==void 0){if(d=h,g=l,I=d*g,d%1!==0||g%1!==0)throw v.NonIntegerParameter}else switch(typeof h){case"object":{if("d"in h&&"n"in h)d=h.n,g=h.d,"s"in h&&(d*=h.s);else if(0 in h)d=h[0],1 in h&&(g=h[1]);else throw v.InvalidParameter;I=d*g;break}case"number":{if(h<0&&(I=h,h=-h),h%1===0)d=h;else if(h>0){for(h>=1&&(C=Math.pow(10,Math.floor(1+Math.log(h)/Math.LN10)),h/=C);W<=te&&ot<=te;)if(Me=(R+lt)/(W+ot),h===Me){W+ot<=te?(d=R+lt,g=W+ot):ot>W?(d=lt,g=ot):(d=R,g=W);break}else h>Me?(R+=lt,W+=ot):(lt+=R,ot+=W),W>te?(d=lt,g=ot):(d=R,g=W);d*=C}else(isNaN(h)||isNaN(l))&&(g=d=NaN);break}case"string":{if(W=h.match(/\d+|./g),W===null)throw v.InvalidParameter;if(W[R]==="-"?(I=-1,R++):W[R]==="+"&&R++,W.length===R+1?B=c(W[R++],I):W[R+1]==="."||W[R]==="."?(W[R]!=="."&&(j=c(W[R++],I)),R++,(R+1===W.length||W[R+1]==="("&&W[R+3]===")"||W[R+1]==="'"&&W[R+3]==="'")&&(B=c(W[R],I),A=Math.pow(10,W[R].length),R++),(W[R]==="("&&W[R+2]===")"||W[R]==="'"&&W[R+2]==="'")&&(at=c(W[R+1],I),C=Math.pow(10,W[R+1].length)-1,R+=3)):W[R+1]==="/"||W[R+1]===":"?(B=c(W[R],I),A=c(W[R+2],1),R+=3):W[R+3]==="/"&&W[R+1]===" "&&(j=c(W[R],I),B=c(W[R+2],I),A=c(W[R+4],1),R+=5),W.length<=R){g=A*C,I=d=at+g*j+C*B;break}}default:throw v.InvalidParameter}if(g===0)throw v.DivisionByZero;u.s=I<0?-1:1,u.n=Math.abs(d),u.d=Math.abs(g)},"l");function O(h,l,d){for(var g=1;l>0;h=h*h%d,l>>=1)l&1&&(g=g*h%d);return g}a(O,"p");function F(h,l){for(;l%2===0;l/=2);for(;l%5===0;l/=5);if(l===1)return 0;for(var d=10%l,g=1;d!==1;g++)if(d=d*10%l,g>n)return 0;return g}a(F,"S");function _(h,l,d){for(var g=1,I=O(10,d,l),j=0;j<300;j++){if(g===I)return j;g=g*10%l,I=I*10%l}return 0}a(_,"A");function m(h,l){if(!h)return l;if(!l)return h;for(;;){if(h%=l,!h)return l;if(l%=h,!l)return h}}a(m,"T");function v(h,l){if(M(h,l),this instanceof v)h=m(u.d,u.n),this.s=u.s,this.n=u.n/h,this.d=u.d/h;else return p(u.s*u.n,u.d)}a(v,"d"),v.DivisionByZero=new Error("Division by Zero"),v.InvalidParameter=new Error("Invalid argument"),v.NonIntegerParameter=new Error("Parameters must be integer"),v.prototype={s:1,n:0,d:1,abs:function(){return p(this.n,this.d)},neg:function(){return p(-this.s*this.n,this.d)},add:function(h,l){return M(h,l),p(this.s*this.n*u.d+u.s*this.d*u.n,this.d*u.d)},sub:function(h,l){return M(h,l),p(this.s*this.n*u.d-u.s*this.d*u.n,this.d*u.d)},mul:function(h,l){return M(h,l),p(this.s*u.s*this.n*u.n,this.d*u.d)},div:function(h,l){return M(h,l),p(this.s*u.s*this.n*u.d,this.d*u.n)},clone:function(){return p(this.s*this.n,this.d)},mod:function(h,l){if(isNaN(this.n)||isNaN(this.d))return new v(NaN);if(h===void 0)return p(this.s*this.n%this.d,1);if(M(h,l),u.n===0&&this.d===0)throw v.DivisionByZero;return p(this.s*(u.d*this.n)%(u.n*this.d),u.d*this.d)},gcd:function(h,l){return M(h,l),p(m(u.n,this.n)*m(u.d,this.d),u.d*this.d)},lcm:function(h,l){return M(h,l),u.n===0&&this.n===0?p(0,1):p(u.n*this.n,m(u.n,this.n)*m(u.d,this.d))},ceil:function(h){return h=Math.pow(10,h||0),isNaN(this.n)||isNaN(this.d)?new v(NaN):p(Math.ceil(h*this.s*this.n/this.d),h)},floor:function(h){return h=Math.pow(10,h||0),isNaN(this.n)||isNaN(this.d)?new v(NaN):p(Math.floor(h*this.s*this.n/this.d),h)},round:function(h){return h=Math.pow(10,h||0),isNaN(this.n)||isNaN(this.d)?new v(NaN):p(Math.round(h*this.s*this.n/this.d),h)},inverse:function(){return p(this.s*this.d,this.n)},pow:function(h,l){if(M(h,l),u.d===1)return u.s<0?p(Math.pow(this.s*this.d,u.n),Math.pow(this.n,u.n)):p(Math.pow(this.s*this.n,u.n),Math.pow(this.d,u.n));if(this.s<0)return null;var d=y(this.n),g=y(this.d),I=1,j=1;for(var B in d)if(B!=="1"){if(B==="0"){I=0;break}if(d[B]*=u.n,d[B]%u.d===0)d[B]/=u.d;else return null;I*=Math.pow(B,d[B])}for(var B in g)if(B!=="1"){if(g[B]*=u.n,g[B]%u.d===0)g[B]/=u.d;else return null;j*=Math.pow(B,g[B])}return u.s<0?p(j,I):p(I,j)},equals:function(h,l){return M(h,l),this.s*this.n*u.d===u.s*u.n*this.d},compare:function(h,l){M(h,l);var d=this.s*this.n*u.d-u.s*u.n*this.d;return(0<d)-(d<0)},simplify:function(h){if(isNaN(this.n)||isNaN(this.d))return this;h=h||.001;for(var l=this.abs(),d=l.toContinued(),g=1;g<d.length;g++){for(var I=p(d[g-1],1),j=g-2;j>=0;j--)I=I.inverse().add(d[j]);if(I.sub(l).abs().valueOf()<h)return I.mul(this.s)}return this},divisible:function(h,l){return M(h,l),!(!(u.n*this.d)||this.n*u.d%(u.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(h){var l,d="",g=this.n,I=this.d;return this.s<0&&(d+="-"),I===1?d+=g:(h&&(l=Math.floor(g/I))>0&&(d+=l,d+=" ",g%=I),d+=g,d+="/",d+=I),d},toLatex:function(h){var l,d="",g=this.n,I=this.d;return this.s<0&&(d+="-"),I===1?d+=g:(h&&(l=Math.floor(g/I))>0&&(d+=l,g%=I),d+="\\frac{",d+=g,d+="}{",d+=I,d+="}"),d},toContinued:function(){var h,l=this.n,d=this.d,g=[];if(isNaN(l)||isNaN(d))return g;do g.push(Math.floor(l/d)),h=l%d,l=d,d=h;while(l!==1);return g},toString:function(h){var l=this.n,d=this.d;if(isNaN(l)||isNaN(d))return"NaN";h=h||15;var g=F(l,d),I=_(l,d,g),j=this.s<0?"-":"";if(j+=l/d|0,l%=d,l*=10,l&&(j+="."),g){for(var B=I;B--;)j+=l/d|0,l%=d,l*=10;j+="(";for(var B=g;B--;)j+=l/d|0,l%=d,l*=10;j+=")"}else for(var B=h;l&&B--;)j+=l/d|0,l%=d,l*=10;return j}},typeof define=="function"&&define.amd?define([],function(){return v}):typeof e=="object"?(Object.defineProperty(v,"__esModule",{value:!0}),v.default=v,v.Fraction=v,t.exports=v):r.Fraction=v})(e)}),np=ep(rp());function be(e){let t=ap(e);return new np.default(t).valueOf()*Math.PI}a(be,"D");function ap(e){return e.replace(/(\d+)/g,"$1").replace(//g,"1")}a(ap,"xi");var ip=Object.prototype.toString.call({}),up="!recursion-limit!",op=10;function Wt(e,t=op){return cp(e)||fp(e,t)||sp(e,t)}a(Wt,"P");function cp(e){if(e===null)return"null";if(e===void 0)return"undefined";if(typeof e=="string")return`"${e}"`;if(typeof e=="number")return String(e)}a(cp,"Ti");function fp(e,t){if(t===0)return up;if(e instanceof Map)return hp(e,t);if(e instanceof Set)return pp(e,t);if((r=>r[Symbol.iterator]!==void 0)(e))return lp(e,t)}a(fp,"Ei");function sp(e,t){let r=String(e);return r!==ip?r:dp(e,t)}a(sp,"ki");function hp(e,t){let r=[];for(let[n,u]of e.entries()){if(r.length>1e3){r.push("[...]");break}let c=Wt(n,t-1),p=Wt(u,t-1);r.push(`${c}: ${p}`)}return`Map{${r.join(", ")}}`}a(hp,"Ni");function pp(e,t){let r=[];for(let n of e){if(r.length>1e3){r.push("[...]");break}r.push(Wt(n,t-1))}return`Set{${r.join(", ")}}`}a(pp,"qi");function lp(e,t){let r=[];for(let n of e){if(r.length>1e3){r.push("[...]");break}r.push(Wt(n,t-1))}return`${Array.isArray(e)?"":e.constructor.name}[${r.join(", ")}]`}a(lp,"zi");function dp(e,t){let r=[];for(let u in e){if(!Object.prototype.hasOwnProperty.call(e,u))continue;if(r.length>1e3){r.push("[...]");break}let c=e[u],p=Wt(u,t-1),y=Wt(c,t-1);r.push(`${p}: ${y}`)}let n=e.constructor.name;return`${n==={}.constructor.name?"":`(Type: ${n})`}{${r.join(", ")}}`}a(dp,"Fi");var xr=0,nt=a(class extends Error{constructor(e,t){super(e);this.detailsObj=t,this.name="Error",this.message=e,this.stack=new Error().stack,this.stack!==void 0&&(this.stack=this.stack.replace(/^Error\n\s+at new DetailedError (\S+)\s?\n\s+at /,`
    `)),xr++;try{this.details=xr===1?Wt(this.detailsObj):"(failed to describe detailsObj due to possibly re-entrancy)"}catch(r){console.error(r),this.details="(failed to describe detailsObj, see the console for details)"}finally{xr--}}},"E"),vp=[{character:"\xBD",ref:"\xBD",expanded:"1/2",value:.5},{character:"\xBC",ref:"\xBC",expanded:"1/4",value:.25},{character:"\xBE",ref:"\xBE",expanded:"3/4",value:.75},{character:"\u2153",ref:"\u2153",expanded:"1/3",value:.3333333333333333},{character:"\u2154",ref:"\u2154",expanded:"2/3",value:.6666666666666666},{character:"\u2155",ref:"\u2155",expanded:"1/5",value:.2},{character:"\u2156",ref:"\u2156",expanded:"2/5",value:.4},{character:"\u2157",ref:"\u2157",expanded:"3/5",value:.6},{character:"\u2158",ref:"\u2158",expanded:"4/5",value:.8},{character:"\u2159",ref:"\u2159",expanded:"1/6",value:.16666666666666666},{character:"\u215A",ref:"\u215A",expanded:"5/6",value:.8333333333333334},{character:"\u2150",ref:"\u2150",expanded:"1/7",value:.14285714285714285},{character:"\u215B",ref:"\u215B",expanded:"1/8",value:.125},{character:"\u215C",ref:"\u215C",expanded:"3/8",value:.375},{character:"\u215D",ref:"\u215D",expanded:"5/8",value:.625},{character:"\u215E",ref:"\u215E",expanded:"7/8",value:.875},{character:"\u2151",ref:"\u2151",expanded:"1/9",value:.1111111111111111},{character:"\u2152",ref:"\u2152",expanded:"1/10",value:.1}],ct=a(class{static parseFloat(e){if(e.length===0)throw new Error(`Not a number: '${e}'`);if(e[0]==="-")return-ct.parseFloat(e.substr(1));if(e[0]==="\u221A")return Math.sqrt(ct.parseFloat(e.substr(1)));let t=ct.matchUnicodeFraction(n=>n.character===e);if(t!==void 0)return t.value;let r=parseFloat(e);if(isNaN(r))throw new Error(`Not a number: '${e}'`);return r}static simplifyByRounding(e,t){if(e<0)return-ct.simplifyByRounding(-e,t);let r=e%1;if(r<=t||1-r<=t)return Math.round(e);let n=ct.matchUnicodeFraction(c=>Math.abs(c.value-e)<=t);if(n!==void 0)return n.value;let u=ct.matchUnicodeFraction(c=>Math.abs(Math.sqrt(c.value)-e)<=t);return u!==void 0?Math.sqrt(u.value):e}static matchUnicodeFraction(e){for(let t of vp)if(e(t))return t}constructor(e,t,r,n){this.allowAbbreviation=e,this.maxAbbreviationError=t,this.fixedDigits=r,this.itemSeparator=n}formatFloat(e){return this.allowAbbreviation?this.abbreviateFloat(e,this.maxAbbreviationError,this.fixedDigits):this.fixedDigits!==void 0?e.toFixed(this.fixedDigits):String(e)}abbreviateFloat(e,t=0,r=void 0){if(Math.abs(e)<t)return"0";if(e<0)return`-${this.abbreviateFloat(-e,t,r)}`;let n=ct.matchUnicodeFraction(c=>Math.abs(c.value-e)<=t);if(n!==void 0)return n.character;let u=ct.matchUnicodeFraction(c=>Math.abs(Math.sqrt(c.value)-e)<=t);return u!==void 0?`\u221A${u.character}`:e%1!==0&&r!==void 0?e.toFixed(r):e.toString()}},"N"),Nt=ct;Nt.CONSISTENT=new ct(!1,0,2,", "),Nt.EXACT=new ct(!0,0,void 0,", "),Nt.MINIFIED=new ct(!0,0,void 0,","),Nt.SIMPLIFIED=new ct(!0,5e-4,3,", ");var pt=a(class{static need(e,t,r){if(e!==!0){let n=r===void 0?"(not provided)":`[${Array.prototype.slice.call(r).join(", ")}]`,u=`Precondition failed

Message: ${t===void 0?"(not provided)":t}

Args: ${n}`;throw new Error(u)}}static notNull(e){pt.need(e!=null,"notNull")}static snappedCosSin(e){let t=Math.PI/4,r=Math.round(e/t);if(r*t===e){let n=Math.sqrt(.5);return[[1,0],[n,n],[0,1],[-n,n],[-1,0],[-n,-n],[0,-1],[n,-n]][r&7]}return[Math.cos(e),Math.sin(e)]}},"q"),S=a(class{static from(e){if(e instanceof S)return e;if(typeof e=="number")return new S(e,0);throw new nt("Unrecognized value type.",{v:e})}static polar(e,t){let[r,n]=pt.snappedCosSin(t);return new S(e*r,e*n)}static realPartOf(e){if(e instanceof S)return e.real;if(typeof e=="number")return e;throw new nt("Unrecognized value type.",{v:e})}static imagPartOf(e){if(e instanceof S)return e.imag;if(typeof e=="number")return 0;throw new nt("Unrecognized value type.",{v:e})}constructor(e,t){this.real=e,this.imag=t}static rootsOfQuadratic(e,t,r){if(e=S.from(e),t=S.from(t),r=S.from(r),e.isEqualTo(0)){if(!t.isEqualTo(0))return[r.times(-1).dividedBy(t)];if(!r.isEqualTo(0))return[];throw Error("Degenerate")}let n=t.times(t).minus(e.times(r).times(4)).sqrts(),u=t.times(-1),c=e.times(2);return n.map(p=>u.minus(p).dividedBy(c))}isEqualTo(e){return e instanceof S?this.real===e.real&&this.imag===e.imag:typeof e=="number"?this.real===e&&this.imag===0:!1}isApproximatelyEqualTo(e,t){if(e instanceof S||typeof e=="number"){let r=this.minus(S.from(e));return Math.abs(r.real)<=t&&Math.abs(r.imag)<=t&&r.abs()<=t}return!1}norm2(){return this.real*this.real+this.imag*this.imag}abs(){return Math.sqrt(this.norm2())}unit(){let e=this.norm2();return e<1e-5?S.polar(1,this.phase()):this.dividedBy(Math.sqrt(e))}plus(e){let t=S.from(e);return new S(this.real+t.real,this.imag+t.imag)}minus(e){let t=S.from(e);return new S(this.real-t.real,this.imag-t.imag)}times(e){let t=S.from(e);return new S(this.real*t.real-this.imag*t.imag,this.real*t.imag+this.imag*t.real)}dividedBy(e){let t=S.from(e),r=t.norm2();if(r===0)throw new Error("Division by Zero");let n=this.times(t.conjugate());return new S(n.real/r,n.imag/r)}sqrts(){let[e,t]=[this.real,this.imag],r=Math.sqrt(Math.sqrt(e*e+t*t));if(r===0)return[S.ZERO];if(t===0&&e<0)return[new S(0,r),new S(0,-r)];let n=this.phase()/2,u=S.polar(r,n);return[u,u.times(-1)]}conjugate(){return new S(this.real,-this.imag)}toString(e){return e=e||Nt.EXACT,e.allowAbbreviation?this.toStringAllowSingleValue(e):this.toStringBothValues(e)}neg(){return new S(-this.real,-this.imag)}raisedTo(e){return e===.5&&this.imag===0&&this.real>=0?new S(Math.sqrt(this.real),0):S.ZERO.isEqualTo(e)?S.ONE:this.isEqualTo(S.ZERO)?S.ZERO:this.ln().times(S.from(e)).exp()}exp(){return S.polar(Math.exp(this.real),this.imag)}cos(){let e=this.times(S.I);return e.exp().plus(e.neg().exp()).times(.5)}sin(){let e=this.times(S.I);return e.exp().minus(e.neg().exp()).dividedBy(new S(0,2))}tan(){return this.sin().dividedBy(this.cos())}ln(){return new S(Math.log(this.abs()),this.phase())}phase(){return Math.atan2(this.imag,this.real)}toStringAllowSingleValue(e){return Math.abs(this.imag)<=e.maxAbbreviationError?e.formatFloat(this.real):Math.abs(this.real)<=e.maxAbbreviationError?Math.abs(this.imag-1)<=e.maxAbbreviationError?"i":Math.abs(this.imag+1)<=e.maxAbbreviationError?"-i":`${e.formatFloat(this.imag)}i`:this.toStringBothValues(e)}toStringBothValues(e){let t=this.imag>=0?"+":"-",r=e.allowAbbreviation&&Math.abs(Math.abs(this.imag)-1)<=e.maxAbbreviationError?"":e.formatFloat(Math.abs(this.imag));return`${(e.allowAbbreviation||e.fixedDigits===void 0||this.real<0?"":"+")+e.formatFloat(this.real)+t+r}i`}},"b"),H=S;H.ZERO=new S(0,0),H.ONE=new S(1,0),H.I=new S(0,1);var mp="Bloch",gp="\u2022",yp="H",Ip="Measure",bp="P",xp="QFT",Mp="QFT\u2020",wp="X^\xBD",Wp="Rx",Rp="Ry",Cp="Rz",Ap="Swap",Ep="T",_p="|0>",Sp="|1>",qp="X",Op="Y",Up="Z",Z=a(class{static PHASE(e){let t=be(e),r=H.from(Math.E);return Z.square(1,0,0,r.raisedTo(H.I.times(t)))}static get RNOT(){let e=H.I,t=e.neg();return Z.square(e.plus(1),t.plus(1),t.plus(1),e.plus(1)).times(.5)}static RX(e){let t=be(e),r=H.I.neg(),n=Math.cos(t/2),u=Math.sin(t/2);return Z.square(n,r.times(u),r.times(u),n)}static RY(e){let t=be(e),r=Math.cos(t/2),n=Math.sin(t/2);return Z.square(r,-n,n,r)}static RZ(e){let t=be(e),r=H.from(Math.E),n=H.I;return Z.square(r.raisedTo(n.neg().times(t/2)),0,0,r.raisedTo(n.times(t/2)))}static fromRows(e){let t=e.length,r=e.map(y=>y.length);if(!(0,Sn.isNonEmpty)(r))throw new nt("Zero height",{rows:e});let n=(0,qn.uniq)(_n.Eq)(r);if(n.length!==1)throw new nt("Inconsistent row widths.",{rows:e});let u=n[0],c=new Float64Array(u*t*2),p=0;for(let y of e)for(let M of y)c[p]=H.realPartOf(M),c[p+1]=H.imagPartOf(M),p+=2;return new Z(u,t,c)}static generate(e,t,r){let n=new Float64Array(e*t*2);for(let u=0;u<t;u++)for(let c=0;c<e;c++){let p=(u*e+c)*2,y=r(u,c);n[p]=H.realPartOf(y),n[p+1]=H.imagPartOf(y)}return new Z(e,t,n)}static solo(e){return new Z(1,1,new Float64Array([H.realPartOf(e),H.imagPartOf(e)]))}static square(...e){pt.need(Array.isArray(e),"Array.isArray(coefs)",e);let t=Math.round(Math.sqrt(e.length));return pt.need(t*t===e.length,"Matrix.square: non-square number of arguments"),Z.generate(t,t,(r,n)=>e[r*t+n])}static col(...e){return pt.need(Array.isArray(e),"Array.isArray(coefs)",e),Z.generate(1,e.length,t=>e[t])}static row(...e){return pt.need(Array.isArray(e),"Array.isArray(coefs)",e),Z.generate(e.length,1,(t,r)=>e[r])}static identity(e){if(!Number.isInteger(e)||e<=0)throw new nt("Bad size",{size:e});let t=new Float64Array(e*e*2);for(let r=0;r<e;r++)t[r*(e+1)*2]=1;return new Z(e,e,t)}static zero(e,t){return new Z(e,t,new Float64Array(e*t*2))}constructor(e,t,r){if(e*t*2!==r.length)throw new nt("width*height*2 !== buffer.length",{width:e,height:t,len:r.length});this.width=e,this.height=t,this.buffer=r}columnAt(e){pt.need(e>=0&&e<=this.width,"colIndex >= 0 && colIndex <= this.width");let t=[];for(let r=0;r<this.height;r++)t.push(this.cell(e,r));return t}adjoint(){let e=this.height,t=this.width,r=new Float64Array(e*t*2);for(let n=0;n<t;n++)for(let u=0;u<e;u++){let c=(u*this.width+n)*2,p=(n*e+u)*2;r[p]=this.buffer[c],r[p+1]=-this.buffer[c+1]}return new Z(e,t,r)}times(e){return e instanceof Z?this.timesMatrix(e):this.timesScalar(e)}timesMatrix(e){if(this.width!==e.height)throw new nt("Incompatible sizes.",{this:this,other:e});let t=e.width,r=this.height,n=this.width,u=new Float64Array(t*r*2);for(let c=0;c<r;c++)for(let p=0;p<t;p++){let y=(c*t+p)*2;for(let M=0;M<n;M++){let O=(c*n+M)*2,F=(M*t+p)*2,_=this.buffer[O],m=this.buffer[O+1],v=e.buffer[F],h=e.buffer[F+1],l=_*v-m*h,d=_*h+v*m;u[y]+=l,u[y+1]+=d}}return new Z(t,r,u)}timesScalar(e){let t=new Float64Array(this.buffer.length),r=H.realPartOf(e),n=H.imagPartOf(e);for(let u=0;u<t.length;u+=2){let c=this.buffer[u],p=this.buffer[u+1];t[u]=c*r-p*n,t[u+1]=c*n+p*r}return new Z(this.width,this.height,t)}isEqualTo(e){if(this===e)return!0;if(!(e instanceof Z))return!1;let t=e;return this.width===t.width&&this.height===t.height&&(0,xe.range)(0,this.buffer.length-1).every(r=>this.buffer[r]===t.buffer[r])}isApproximatelyEqualTo(e,t){return e instanceof Z&&this.width===e.width&&this.height===e.height&&Math.sqrt(this.minus(e).norm2())<=t}minus(e){let{width:t,height:r,buffer:n}=this,u=e.buffer;pt.need(e.width===t&&e.height===r,"Matrix.minus: compatible sizes");let c=new Float64Array(this.buffer.length);for(let p=0;p<c.length;p++)c[p]=n[p]-u[p];return new Z(t,r,c)}norm2(){let e=0;for(let t of this.buffer)e+=t*t;return e}toString(e=Nt.EXACT){return`{{${this.rows().map(t=>t.map(r=>r.toString(e)).join(e.itemSeparator)).join(`}${e.itemSeparator}{`)}}}`}rows(){return(0,xe.range)(0,this.height-1).map(e=>(0,xe.range)(0,this.width-1).map(t=>this.cell(t,e)))}cell(e,t){if(e<0||t<0||e>=this.width||t>=this.height)throw new nt("Cell out of range",{col:e,row:t,width:this.width,height:this.height});let r=(this.width*t+e)*2;return new H(this.buffer[r],this.buffer[r+1])}set(e,t,r){if(e<0||t<0||e>=this.width||t>=this.height)throw new nt("Cell out of range",{col:e,row:t,width:this.width,height:this.height});let n=(this.width*t+e)*2;this.buffer[n]=r.real,this.buffer[n+1]=r.imag}isApproximatelyHermitian(e){if(this.width!==this.height)return!1;for(let t=0;t<this.width;t++)for(let r=0;r<this.height;r++){let n=(this.width*r+t)*2,u=(this.width*t+r)*2;if(Math.abs(this.buffer[n]-this.buffer[u])>e||Math.abs(this.buffer[n+1]+this.buffer[u+1])>e)return!1}return!0}plus(e){let{width:t,height:r,buffer:n}=this,u=e.buffer;pt.need(e.width===t&&e.height===r,"Matrix.plus: compatible sizes");let c=new Float64Array(this.buffer.length);for(let p=0;p<c.length;p++)c[p]=n[p]+u[p];return new Z(t,r,c)}tensorProduct(e){let t=this.width,r=this.height,n=e.width,u=e.height,c=t*n,p=r*u,y=new Float64Array(c*p*2);for(let M=0;M<r;M++)for(let O=0;O<u;O++)for(let F=0;F<t;F++)for(let _=0;_<n;_++){let m=(M*t+F)*2,v=(O*n+_)*2,h=((M*u+O)*c+(F*n+_))*2,l=this.buffer[m],d=this.buffer[m+1],g=e.buffer[v],I=e.buffer[v+1],j=l*g-d*I,B=l*I+d*g;y[h]=j,y[h+1]=B}return new Z(c,p,y)}timesQubitOperation(e,t,r,n){pt.need((r&1<<t)===0,"Matrix.timesQubitOperation: self-controlled"),pt.need(e.width===2&&e.height===2,"Matrix.timesQubitOperation: not 2x2");let{width:u,height:c,buffer:p}=this,[y,M,O,F,_,m,v,h]=e.buffer;pt.need(c>=2<<t,"Matrix.timesQubitOperation: qubit index out of range");let l=new Float64Array(p),d=0;for(let g=0;g<c;g++){let I=(r&g^n)!==0,j=(g&1<<t)!==0;for(let B=0;B<u;B++){if(!I&&!j){let at=d+(1<<t)*2*u,A=l[d],C=l[d+1],R=l[at],W=l[at+1];l[d]=A*y-C*M+R*O-W*F,l[d+1]=A*M+C*y+R*F+W*O,l[at]=A*_-C*m+R*v-W*h,l[at+1]=A*m+C*_+R*h+W*v}d+=2}}return new Z(u,c,l)}trace(){let e=0,t=0,r=this.width*2+2;for(let n=0;n<this.buffer.length;n+=r)e+=this.buffer[n],t+=this.buffer[n+1];return new H(e,t)}qubitDensityMatrixToBlochVector(){if(this.width!==2||this.height!==2)throw new nt("Need a 2x2 density matrix.",this);if(!this.isApproximatelyHermitian(.01))throw new nt("Density matrix should be Hermitian.",this);if(!this.trace().isApproximatelyEqualTo(1,.01))throw new nt("Density matrix should have unit trace.",this);let[e,t,r,n,u,c,p,y]=this.buffer,M=u+r,O=c-n,F=e-p;return[M,O,F]}clone(){return new Z(this.width,this.height,this.buffer.slice())}},"x"),U=Z;U.H=Z.square(1,1,1,-1).times(Math.sqrt(.5)),U.PAULI_X=Z.square(0,1,1,0),U.PAULI_Y=Z.square(0,new H(0,-1),H.I,0),U.PAULI_Z=Z.square(1,0,0,-1),U.T=Z.square(1,0,0,H.from(Math.E).raisedTo(H.I.times(Math.PI/4)));var On=a(class{get bra(){return this.matrix.adjoint()}get ket(){return this.matrix}constructor(e){typeof e=="string"?this.matrix=this.bitstringToMatrix(e):this.matrix=e,this.size=this.matrix.height,this.nqubit=Math.log2(this.size)}amplifier(e){return this.matrix.cell(0,e)}setAmplifier(e,t){this.matrix.set(0,e,t)}blochVector(e){return this.qubitDensityMatrix(e).qubitDensityMatrixToBlochVector()}isApproximatelyEqualTo(e,t){return e instanceof On&&this.matrix.isApproximatelyEqualTo(e.matrix,t)}timesQubitOperation(e,t,r){this.matrix=this.matrix.timesQubitOperation(e,t,r,r)}toString(){return this.matrix.toString()}bitstringToMatrix(e){let t=!1,r="",n=[],u=new nt("Invalid StateVector bit string",e);for(let c of e.split(""))switch(c){case"0":{if(t)throw u;n.push(U.col(1,0));break}case"1":{if(t)throw u;n.push(U.col(0,1));break}case"+":{if(t)throw u;n.push(U.col(1,1).times(Math.sqrt(.5)));break}case"-":{t?r+="-":n.push(U.col(1,-1).times(Math.sqrt(.5)));break}case"i":{t?r+="i":n.push(U.col(1,new H(0,1)).times(Math.sqrt(.5)));break}case"(":{if(t)throw u;t=!0,r="";break}case")":{if(!t||r!=="-i")throw u;n.push(U.col(1,new H(0,-1)).times(Math.sqrt(.5))),t=!1;break}default:throw u}if(n.length===0)throw u;return n.reduce((c,p)=>c.tensorProduct(p))}qubitDensityMatrix(e){if(e<0||e>=this.nqubit)throw new nt("Qubit index out of range",e);let t=[...Array(Math.log2(this.matrix.height)).keys()].filter(u=>u!==e),r=a((u,c)=>c.sort().reverse().reduce((p,y)=>{let M=p>>y+1;M=M<<y;let O=(1<<y)-1&p;return M|O},u),"n"),n=U.zero(2,2);for(let u=0;u<this.matrix.height;u++)for(let c=0;c<this.matrix.height;c++){if(!t.every(F=>(u>>F&1)===(c>>F&1)))continue;let p=this.matrix.cell(0,c).times(this.matrix.cell(0,u).conjugate());if(p.isEqualTo(0))continue;let y=r(c,t)===0?U.col(1,0):U.col(0,1),M=r(u,t)===0?U.row(1,0):U.row(0,1),O=y.times(M);n=n.plus(O.times(p))}return n}},"R");function Np(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}a(Np,"li");var Un=a(class{constructor(e){typeof e=="string"?this.state=new On(e):this.state=e,this.measuredBits={},this.flags={}}runStep(e){this.blochVectors={};for(let t of e)switch(t.type){case _p:this.write(0,...t.targets);break;case Sp:this.write(1,...t.targets);break;case mp:for(let r of t.targets)this.blochVectors[r]=this.state.blochVector(r);break;case yp:if(t.if&&!this.flags[t.if])break;t.controls&&t.controls.length>0?this.ch(t.controls,...t.targets):this.h(...t.targets);break;case qp:if(t.if&&!this.flags[t.if])break;t.controls&&t.controls.length>0?this.cnot(t.controls,...t.targets):this.x(...t.targets);break;case Op:if(t.if&&!this.flags[t.if])break;t.controls&&t.controls.length>0?this.cy(t.controls,...t.targets):this.y(...t.targets);break;case Up:if(t.if&&!this.flags[t.if])break;t.controls&&t.controls.length>0?this.cz(t.controls,...t.targets):this.z(...t.targets);break;case bp:{if(!t.angle)break;t.controls&&t.controls.length>0?this.cphase(t.controls,t.angle,t.targets[0]):this.cphase(t.targets.slice(1),t.angle,t.targets[0]);break}case Ep:{if(t.if&&!this.flags[t.if])break;t.controls&&t.controls.length>0?this.ct(t.controls,...t.targets):this.t(...t.targets);break}case xp:this.qft(t.nqubit,...t.targets);break;case Mp:if(t.if&&!this.flags[t.if])break;t.controls&&t.controls.length>0?this.cqftDagger(t.controls,...t.targets):this.qftDagger(...t.targets);break;case gp:{this.cz(t.targets.slice(1),t.targets[0]);break}case Ap:{t.controls&&t.controls.length===1?this.cswap(t.controls[0],t.targets[0],t.targets[1]):this.swap(t.targets[0],t.targets[1]);break}case wp:if(t.if&&!this.flags[t.if])break;t.controls&&t.controls.length>0?this.crnot(t.controls,...t.targets):this.rnot(...t.targets);break;case Wp:if(t.if&&!this.flags[t.if]||!t.angle)break;t.controls&&t.controls.length>0?this.crx(t.controls,t.angle,...t.targets):this.rx(t.angle,...t.targets);break;case Rp:if(t.if&&!this.flags[t.if]||!t.angle)break;t.controls&&t.controls.length>0?this.cry(t.controls,t.angle,...t.targets):this.ry(t.angle,...t.targets);break;case Cp:if(t.if&&!this.flags[t.if]||!t.angle)break;t.controls&&t.controls.length>0?this.crz(t.controls,t.angle,...t.targets):this.rz(t.angle,...t.targets);break;case Ip:for(let r of t.targets)this.measure(r),t.flag&&(this.flags[t.flag]=this.measuredBits[r]===1);break;default:throw new Error("Unknown instruction")}return this}write(e,...t){for(let r of t){let n=Np(this.pZero(r),5);(e===0&&n===0||e===1&&n===1)&&this.x(r)}return this}h(...e){return this.u(U.H,...e),this}ch(e,...t){return this.cu(e,U.H,...t),this}x(...e){return this.u(U.PAULI_X,...e),this}cnot(e,...t){return this.cu(e,U.PAULI_X,...t),this}y(...e){return this.u(U.PAULI_Y,...e),this}cy(e,...t){return this.cu(e,U.PAULI_Y,...t),this}z(...e){return this.u(U.PAULI_Z,...e),this}cz(e,...t){return this.cu(e,U.PAULI_Z,...t),this}phase(e,...t){return this.u(U.PHASE(e),...t),this}cphase(e,t,...r){return this.cu(e,U.PHASE(t),...r),this}t(...e){return this.u(U.T,...e),this}ct(e,...t){return this.cu(e,U.T,...t),this}swap(e,t){return this.cnot(e,t).cnot(t,e).cnot(e,t),this}cswap(e,t,r){return this.cnot([e,t],r).cnot([e,r],t).cnot([e,t],r),this}rnot(...e){return this.u(U.RNOT,...e),this}crnot(e,...t){return this.cu(e,U.RNOT,...t),this}rx(e,...t){return this.u(U.RX(e),...t),this}crx(e,t,...r){return this.cu(e,U.RX(t),...r),this}ry(e,...t){return this.u(U.RY(e),...t),this}cry(e,t,...r){return this.cu(e,U.RY(t),...r),this}rz(e,...t){return this.u(U.RZ(e),...t),this}crz(e,t,...r){return this.cu(e,U.RZ(t),...r),this}qft(e,...t){for(let r of t)this.qftSingleTargetBit(e,r);return this}qftSingleTargetBit(e,t){switch(e){case 1:{this.h(t);break}case 2:{this.swap(t,t+1).h(t).cphase(t+1,"\u03C0/2",t).h(t+1);break}case 3:{this.swap(t,t+2).h(t).cphase(t+1,"\u03C0/2",t).cphase(t+2,"\u03C0/4",t).h(t+1).cphase(t+2,"\u03C0/2",t+1).h(t+2);break}case 4:{this.swap(t,t+3).swap(t+1,t+2).h(t).cphase(t+1,"\u03C0/2",t).cphase(t+2,"\u03C0/4",t).cphase(t+3,"\u03C0/8",t).h(t+1).cphase(t+2,"\u03C0/2",t+1).cphase(t+3,"\u03C0/4",t+1).h(t+2).cphase(t+3,"\u03C0/2",t+2).h(t+3);break}case 5:{this.swap(t,t+4).swap(t+1,t+3).h(t).cphase(t+1,"\u03C0/2",t).cphase(t+2,"\u03C0/4",t).cphase(t+3,"\u03C0/8",t).cphase(t+4,"\u03C0/16",t).h(t+1).cphase(t+2,"\u03C0/2",t+1).cphase(t+3,"\u03C0/4",t+1).cphase(t+4,"\u03C0/8",t+1).h(t+2).cphase(t+3,"\u03C0/2",t+2).cphase(t+4,"\u03C0/4",t+2).h(t+3).cphase(t+4,"\u03C0/2",t+3).h(t+4);break}case 6:{this.swap(t,t+5).swap(t+1,t+4).swap(t+2,t+3).h(t).cphase(t+1,"\u03C0/2",t).cphase(t+2,"\u03C0/4",t).cphase(t+3,"\u03C0/8",t).cphase(t+4,"\u03C0/16",t).cphase(t+5,"\u03C0/32",t).h(t+1).cphase(t+2,"\u03C0/2",t+1).cphase(t+3,"\u03C0/4",t+1).cphase(t+4,"\u03C0/8",t+1).cphase(t+5,"\u03C0/16",t+1).h(t+2).cphase(t+3,"\u03C0/2",t+2).cphase(t+4,"\u03C0/4",t+2).cphase(t+5,"\u03C0/8",t+2).h(t+3).cphase(t+4,"\u03C0/2",t+3).cphase(t+5,"\u03C0/4",t+3).h(t+4).cphase(t+5,"\u03C0/2",t+4).h(t+5);break}case 7:{this.swap(t,t+6).swap(t+1,t+5).swap(t+2,t+4).h(t).cphase(t+1,"\u03C0/2",t).cphase(t+2,"\u03C0/4",t).cphase(t+3,"\u03C0/8",t).cphase(t+4,"\u03C0/16",t).cphase(t+5,"\u03C0/32",t).cphase(t+6,"\u03C0/64",t).h(t+1).cphase(t+2,"\u03C0/2",t+1).cphase(t+3,"\u03C0/4",t+1).cphase(t+4,"\u03C0/8",t+1).cphase(t+5,"\u03C0/16",t+1).cphase(t+6,"\u03C0/32",t+1).h(t+2).cphase(t+3,"\u03C0/2",t+2).cphase(t+4,"\u03C0/4",t+2).cphase(t+5,"\u03C0/8",t+2).cphase(t+6,"\u03C0/16",t+2).h(t+3).cphase(t+4,"\u03C0/2",t+3).cphase(t+5,"\u03C0/4",t+3).cphase(t+6,"\u03C0/8",t+3).h(t+4).cphase(t+5,"\u03C0/2",t+4).cphase(t+6,"\u03C0/4",t+4).h(t+5).cphase(t+6,"\u03C0/2",t+5).h(t+6);break}case 8:{this.swap(t,t+7).swap(t+1,t+6).swap(t+2,t+5).swap(t+3,t+4).h(t).cphase(t+1,"\u03C0/2",t).cphase(t+2,"\u03C0/4",t).cphase(t+3,"\u03C0/8",t).cphase(t+4,"\u03C0/16",t).cphase(t+5,"\u03C0/32",t).cphase(t+6,"\u03C0/64",t).cphase(t+7,"\u03C0/128",t).h(t+1).cphase(t+2,"\u03C0/2",t+1).cphase(t+3,"\u03C0/4",t+1).cphase(t+4,"\u03C0/8",t+1).cphase(t+5,"\u03C0/16",t+1).cphase(t+6,"\u03C0/32",t+1).cphase(t+7,"\u03C0/64",t+1).h(t+2).cphase(t+3,"\u03C0/2",t+2).cphase(t+4,"\u03C0/4",t+2).cphase(t+5,"\u03C0/8",t+2).cphase(t+6,"\u03C0/16",t+2).cphase(t+7,"\u03C0/32",t+2).h(t+3).cphase(t+4,"\u03C0/2",t+3).cphase(t+5,"\u03C0/4",t+3).cphase(t+6,"\u03C0/8",t+3).cphase(t+7,"\u03C0/16",t+3).h(t+4).cphase(t+5,"\u03C0/2",t+4).cphase(t+6,"\u03C0/4",t+4).cphase(t+7,"\u03C0/8",t+4).h(t+5).cphase(t+6,"\u03C0/2",t+5).cphase(t+7,"\u03C0/4",t+5).h(t+6).cphase(t+7,"\u03C0/2",t+6).h(t+7);break}case 9:{this.swap(t,t+8).swap(t+1,t+7).swap(t+2,t+6).swap(t+3,t+5).h(t).cphase(t+1,"\u03C0/2",t).cphase(t+2,"\u03C0/4",t).cphase(t+3,"\u03C0/8",t).cphase(t+4,"\u03C0/16",t).cphase(t+5,"\u03C0/32",t).cphase(t+6,"\u03C0/64",t).cphase(t+7,"\u03C0/128",t).cphase(t+8,"\u03C0/256",t).h(t+1).cphase(t+2,"\u03C0/2",t+1).cphase(t+3,"\u03C0/4",t+1).cphase(t+4,"\u03C0/8",t+1).cphase(t+5,"\u03C0/16",t+1).cphase(t+6,"\u03C0/32",t+1).cphase(t+7,"\u03C0/64",t+1).cphase(t+8,"\u03C0/128",t+1).h(t+2).cphase(t+3,"\u03C0/2",t+2).cphase(t+4,"\u03C0/4",t+2).cphase(t+5,"\u03C0/8",t+2).cphase(t+6,"\u03C0/16",t+2).cphase(t+7,"\u03C0/32",t+2).cphase(t+8,"\u03C0/64",t+2).h(t+3).cphase(t+4,"\u03C0/2",t+3).cphase(t+5,"\u03C0/4",t+3).cphase(t+6,"\u03C0/8",t+3).cphase(t+7,"\u03C0/16",t+3).cphase(t+8,"\u03C0/32",t+3).h(t+4).cphase(t+5,"\u03C0/2",t+4).cphase(t+6,"\u03C0/4",t+4).cphase(t+7,"\u03C0/8",t+4).cphase(t+8,"\u03C0/16",t+4).h(t+5).cphase(t+6,"\u03C0/2",t+5).cphase(t+7,"\u03C0/4",t+5).cphase(t+8,"\u03C0/8",t+5).h(t+6).cphase(t+7,"\u03C0/2",t+6).cphase(t+8,"\u03C0/4",t+6).h(t+7).cphase(t+8,"\u03C0/2",t+7).h(t+8);break}case 10:{this.swap(t,t+9).swap(t+1,t+8).swap(t+2,t+7).swap(t+3,t+6).swap(t+4,t+5).h(t).cphase(t+1,"\u03C0/2",t).cphase(t+2,"\u03C0/4",t).cphase(t+3,"\u03C0/8",t).cphase(t+4,"\u03C0/16",t).cphase(t+5,"\u03C0/32",t).cphase(t+6,"\u03C0/64",t).cphase(t+7,"\u03C0/128",t).cphase(t+8,"\u03C0/256",t).cphase(t+9,"\u03C0/512",t).h(t+1).cphase(t+2,"\u03C0/2",t+1).cphase(t+3,"\u03C0/4",t+1).cphase(t+4,"\u03C0/8",t+1).cphase(t+5,"\u03C0/16",t+1).cphase(t+6,"\u03C0/32",t+1).cphase(t+7,"\u03C0/64",t+1).cphase(t+8,"\u03C0/128",t+1).cphase(t+9,"\u03C0/256",t+1).h(t+2).cphase(t+3,"\u03C0/2",t+2).cphase(t+4,"\u03C0/4",t+2).cphase(t+5,"\u03C0/8",t+2).cphase(t+6,"\u03C0/16",t+2).cphase(t+7,"\u03C0/32",t+2).cphase(t+8,"\u03C0/64",t+2).cphase(t+9,"\u03C0/128",t+2).h(t+3).cphase(t+4,"\u03C0/2",t+3).cphase(t+5,"\u03C0/4",t+3).cphase(t+6,"\u03C0/8",t+3).cphase(t+7,"\u03C0/16",t+3).cphase(t+8,"\u03C0/32",t+3).cphase(t+9,"\u03C0/64",t+3).h(t+4).cphase(t+5,"\u03C0/2",t+4).cphase(t+6,"\u03C0/4",t+4).cphase(t+7,"\u03C0/8",t+4).cphase(t+8,"\u03C0/16",t+4).cphase(t+9,"\u03C0/32",t+4).h(t+5).cphase(t+6,"\u03C0/2",t+5).cphase(t+7,"\u03C0/4",t+5).cphase(t+8,"\u03C0/8",t+5).cphase(t+9,"\u03C0/16",t+5).h(t+6).cphase(t+7,"\u03C0/2",t+6).cphase(t+8,"\u03C0/4",t+6).cphase(t+9,"\u03C0/8",t+6).h(t+7).cphase(t+8,"\u03C0/2",t+7).cphase(t+9,"\u03C0/4",t+7).h(t+8).cphase(t+9,"\u03C0/2",t+8).h(t+9);break}case 11:{this.swap(t,t+10).swap(t+1,t+9).swap(t+2,t+8).swap(t+3,t+7).swap(t+4,t+6).h(t).cphase(t+1,"\u03C0/2",t).cphase(t+2,"\u03C0/4",t).cphase(t+3,"\u03C0/8",t).cphase(t+4,"\u03C0/16",t).cphase(t+5,"\u03C0/32",t).cphase(t+6,"\u03C0/64",t).cphase(t+7,"\u03C0/128",t).cphase(t+8,"\u03C0/256",t).cphase(t+9,"\u03C0/512",t).cphase(t+10,"\u03C0/1024",t).h(t+1).cphase(t+2,"\u03C0/2",t+1).cphase(t+3,"\u03C0/4",t+1).cphase(t+4,"\u03C0/8",t+1).cphase(t+5,"\u03C0/16",t+1).cphase(t+6,"\u03C0/32",t+1).cphase(t+7,"\u03C0/64",t+1).cphase(t+8,"\u03C0/128",t+1).cphase(t+9,"\u03C0/256",t+1).cphase(t+10,"\u03C0/512",t+1).h(t+2).cphase(t+3,"\u03C0/2",t+2).cphase(t+4,"\u03C0/4",t+2).cphase(t+5,"\u03C0/8",t+2).cphase(t+6,"\u03C0/16",t+2).cphase(t+7,"\u03C0/32",t+2).cphase(t+8,"\u03C0/64",t+2).cphase(t+9,"\u03C0/128",t+2).cphase(t+10,"\u03C0/256",t+2).h(t+3).cphase(t+4,"\u03C0/2",t+3).cphase(t+5,"\u03C0/4",t+3).cphase(t+6,"\u03C0/8",t+3).cphase(t+7,"\u03C0/16",t+3).cphase(t+8,"\u03C0/32",t+3).cphase(t+9,"\u03C0/64",t+3).cphase(t+10,"\u03C0/128",t+3).h(t+4).cphase(t+5,"\u03C0/2",t+4).cphase(t+6,"\u03C0/4",t+4).cphase(t+7,"\u03C0/8",t+4).cphase(t+8,"\u03C0/16",t+4).cphase(t+9,"\u03C0/32",t+4).cphase(t+10,"\u03C0/64",t+4).h(t+5).cphase(t+6,"\u03C0/2",t+5).cphase(t+7,"\u03C0/4",t+5).cphase(t+8,"\u03C0/8",t+5).cphase(t+9,"\u03C0/16",t+5).cphase(t+10,"\u03C0/32",t+5).h(t+6).cphase(t+7,"\u03C0/2",t+6).cphase(t+8,"\u03C0/4",t+6).cphase(t+9,"\u03C0/8",t+6).cphase(t+10,"\u03C0/16",t+6).h(t+7).cphase(t+8,"\u03C0/2",t+7).cphase(t+9,"\u03C0/4",t+7).cphase(t+10,"\u03C0/8",t+7).h(t+8).cphase(t+9,"\u03C0/2",t+8).cphase(t+10,"\u03C0/4",t+8).h(t+9).cphase(t+10,"\u03C0/2",t+8).h(t+10);break}case 12:{this.swap(t,t+11).swap(t+1,t+10).swap(t+2,t+9).swap(t+3,t+8).swap(t+4,t+7).swap(t+5,t+6).h(t).cphase(t+1,"\u03C0/2",t).cphase(t+2,"\u03C0/4",t).cphase(t+3,"\u03C0/8",t).cphase(t+4,"\u03C0/16",t).cphase(t+5,"\u03C0/32",t).cphase(t+6,"\u03C0/64",t).cphase(t+7,"\u03C0/128",t).cphase(t+8,"\u03C0/256",t).cphase(t+9,"\u03C0/512",t).cphase(t+10,"\u03C0/1024",t).cphase(t+11,"\u03C0/2048",t).h(t+1).cphase(t+2,"\u03C0/2",t+1).cphase(t+3,"\u03C0/4",t+1).cphase(t+4,"\u03C0/8",t+1).cphase(t+5,"\u03C0/16",t+1).cphase(t+6,"\u03C0/32",t+1).cphase(t+7,"\u03C0/64",t+1).cphase(t+8,"\u03C0/128",t+1).cphase(t+9,"\u03C0/256",t+1).cphase(t+10,"\u03C0/512",t+1).cphase(t+11,"\u03C0/1024",t+1).h(t+2).cphase(t+3,"\u03C0/2",t+2).cphase(t+4,"\u03C0/4",t+2).cphase(t+5,"\u03C0/8",t+2).cphase(t+6,"\u03C0/16",t+2).cphase(t+7,"\u03C0/32",t+2).cphase(t+8,"\u03C0/64",t+2).cphase(t+9,"\u03C0/128",t+2).cphase(t+10,"\u03C0/256",t+2).cphase(t+11,"\u03C0/512",t+2).h(t+3).cphase(t+4,"\u03C0/2",t+3).cphase(t+5,"\u03C0/4",t+3).cphase(t+6,"\u03C0/8",t+3).cphase(t+7,"\u03C0/16",t+3).cphase(t+8,"\u03C0/32",t+3).cphase(t+9,"\u03C0/64",t+3).cphase(t+10,"\u03C0/128",t+3).cphase(t+11,"\u03C0/256",t+3).h(t+4).cphase(t+5,"\u03C0/2",t+4).cphase(t+6,"\u03C0/4",t+4).cphase(t+7,"\u03C0/8",t+4).cphase(t+8,"\u03C0/16",t+4).cphase(t+9,"\u03C0/32",t+4).cphase(t+10,"\u03C0/64",t+4).cphase(t+11,"\u03C0/128",t+4).h(t+5).cphase(t+6,"\u03C0/2",t+5).cphase(t+7,"\u03C0/4",t+5).cphase(t+8,"\u03C0/8",t+5).cphase(t+9,"\u03C0/16",t+5).cphase(t+10,"\u03C0/32",t+5).cphase(t+11,"\u03C0/64",t+5).h(t+6).cphase(t+7,"\u03C0/2",t+6).cphase(t+8,"\u03C0/4",t+6).cphase(t+9,"\u03C0/8",t+6).cphase(t+10,"\u03C0/16",t+6).cphase(t+11,"\u03C0/32",t+6).h(t+7).cphase(t+8,"\u03C0/2",t+7).cphase(t+9,"\u03C0/4",t+7).cphase(t+10,"\u03C0/8",t+7).cphase(t+11,"\u03C0/16",t+7).h(t+8).cphase(t+9,"\u03C0/2",t+8).cphase(t+10,"\u03C0/4",t+8).cphase(t+11,"\u03C0/8",t+8).h(t+9).cphase(t+10,"\u03C0/2",t+8).cphase(t+11,"\u03C0/4",t+8).h(t+10).cphase(t+11,"\u03C0/2",t+9).h(t+11);break}default:throw new Error("Not implemented")}return this}qftDagger(...e){return this.u(U.H,...e),this}cqftDagger(e,...t){return this.cu(e,U.H,...t),this}measure(...e){for(let t of e){let r=this.pZero(t);if(Math.random()<=r){for(let n=0;n<1<<this.state.nqubit;n++)(n&1<<t)!==0&&this.state.setAmplifier(n,H.ZERO),this.state.setAmplifier(n,this.state.amplifier(n).dividedBy(Math.sqrt(r)));this.measuredBits[t]=0}else{for(let n=0;n<1<<this.state.nqubit;n++)(n&1<<t)===0&&this.state.setAmplifier(n,H.ZERO),this.state.setAmplifier(n,this.state.amplifier(n).dividedBy(Math.sqrt(1-r)));this.measuredBits[t]=1}}return this}amplitudes(){return this.state.matrix.columnAt(0)}u(e,...t){for(let r of t)this.state.timesQubitOperation(e,r,0)}cu(e,t,...r){let n=(typeof e=="number"?[e]:e).reduce((u,c)=>u|1<<c,0);for(let u of r)this.state.timesQubitOperation(t,u,n)}pZero(e){let t=0;for(let r=0;r<1<<this.state.nqubit;r++)(r&1<<e)===0&&(t+=Math.pow(this.state.amplifier(r).abs(),2));return t}},"Pi");var Fp=Ft(Fn());var Bp=Object.prototype.toString.call({}),Tp="!recursion-limit!",Lp=10;function Rt(e,t=Lp){return Pp(e)||Dp(e,t)||zp(e,t)}a(Rt,"c");function Pp(e){if(e===null)return"null";if(e===void 0)return"undefined";if(typeof e=="string")return`"${e}"`;if(typeof e=="number")return String(e)}a(Pp,"G");function Dp(e,t){if(t===0)return Tp;if(e instanceof Map)return jp(e,t);if(e instanceof Set)return kp(e,t);if((r=>r[Symbol.iterator]!==void 0)(e))return $p(e,t)}a(Dp,"F");function zp(e,t){let r=String(e);return r!==Bp?r:Zp(e,t)}a(zp,"M");function jp(e,t){let r=[];for(let[n,u]of e.entries()){if(r.length>1e3){r.push("[...]");break}let c=Rt(n,t-1),p=Rt(u,t-1);r.push(`${c}: ${p}`)}return`Map{${r.join(", ")}}`}a(jp,"O");function kp(e,t){let r=[];for(let n of e){if(r.length>1e3){r.push("[...]");break}r.push(Rt(n,t-1))}return`Set{${r.join(", ")}}`}a(kp,"R");function $p(e,t){let r=[];for(let n of e){if(r.length>1e3){r.push("[...]");break}r.push(Rt(n,t-1))}return`${Array.isArray(e)?"":e.constructor.name}[${r.join(", ")}]`}a($p,"D");function Zp(e,t){let r=[];for(let u in e){if(!Object.prototype.hasOwnProperty.call(e,u))continue;if(r.length>1e3){r.push("[...]");break}let c=e[u],p=Rt(u,t-1),y=Rt(c,t-1);r.push(`${p}: ${y}`)}let n=e.constructor.name;return`${n==={}.constructor.name?"":`(Type: ${n})`}{${r.join(", ")}}`}a(Zp,"N");var Wr=0,Rr=a(class extends Error{constructor(e,t){super(e);this.detailsObj=t,this.name="Error",this.message=e,this.stack=new Error().stack,this.stack!==void 0&&(this.stack=this.stack.replace(/^Error\n\s+at new DetailedError (\S+)\s?\n\s+at /,`
    `)),Wr++;try{this.details=Wr===1?Rt(this.detailsObj):"(failed to describe detailsObj due to possibly re-entrancy)"}catch(r){console.error(r),this.details="(failed to describe detailsObj, see the console for details)"}finally{Wr--}}},"d"),Kp=[{character:"\xBD",ref:"\xBD",expanded:"1/2",value:.5},{character:"\xBC",ref:"\xBC",expanded:"1/4",value:.25},{character:"\xBE",ref:"\xBE",expanded:"3/4",value:.75},{character:"\u2153",ref:"\u2153",expanded:"1/3",value:.3333333333333333},{character:"\u2154",ref:"\u2154",expanded:"2/3",value:.6666666666666666},{character:"\u2155",ref:"\u2155",expanded:"1/5",value:.2},{character:"\u2156",ref:"\u2156",expanded:"2/5",value:.4},{character:"\u2157",ref:"\u2157",expanded:"3/5",value:.6},{character:"\u2158",ref:"\u2158",expanded:"4/5",value:.8},{character:"\u2159",ref:"\u2159",expanded:"1/6",value:.16666666666666666},{character:"\u215A",ref:"\u215A",expanded:"5/6",value:.8333333333333334},{character:"\u2150",ref:"\u2150",expanded:"1/7",value:.14285714285714285},{character:"\u215B",ref:"\u215B",expanded:"1/8",value:.125},{character:"\u215C",ref:"\u215C",expanded:"3/8",value:.375},{character:"\u215D",ref:"\u215D",expanded:"5/8",value:.625},{character:"\u215E",ref:"\u215E",expanded:"7/8",value:.875},{character:"\u2151",ref:"\u2151",expanded:"1/9",value:.1111111111111111},{character:"\u2152",ref:"\u2152",expanded:"1/10",value:.1}],ft=a(class{static parseFloat(e){if(e.length===0)throw new Error(`Not a number: '${e}'`);if(e[0]==="-")return-ft.parseFloat(e.substr(1));if(e[0]==="\u221A")return Math.sqrt(ft.parseFloat(e.substr(1)));let t=ft.matchUnicodeFraction(n=>n.character===e);if(t!==void 0)return t.value;let r=parseFloat(e);if(isNaN(r))throw new Error(`Not a number: '${e}'`);return r}static simplifyByRounding(e,t){if(e<0)return-ft.simplifyByRounding(-e,t);let r=e%1;if(r<=t||1-r<=t)return Math.round(e);let n=ft.matchUnicodeFraction(c=>Math.abs(c.value-e)<=t);if(n!==void 0)return n.value;let u=ft.matchUnicodeFraction(c=>Math.abs(Math.sqrt(c.value)-e)<=t);return u!==void 0?Math.sqrt(u.value):e}static matchUnicodeFraction(e){for(let t of Kp)if(e(t))return t}constructor(e,t,r,n){this.allowAbbreviation=e,this.maxAbbreviationError=t,this.fixedDigits=r,this.itemSeparator=n}formatFloat(e){return this.allowAbbreviation?this.abbreviateFloat(e,this.maxAbbreviationError,this.fixedDigits):this.fixedDigits!==void 0?e.toFixed(this.fixedDigits):String(e)}abbreviateFloat(e,t=0,r=void 0){if(Math.abs(e)<t)return"0";if(e<0)return`-${this.abbreviateFloat(-e,t,r)}`;let n=ft.matchUnicodeFraction(c=>Math.abs(c.value-e)<=t);if(n!==void 0)return n.character;let u=ft.matchUnicodeFraction(c=>Math.abs(Math.sqrt(c.value)-e)<=t);return u!==void 0?`\u221A${u.character}`:e%1!==0&&r!==void 0?e.toFixed(r):e.toString()}},"u"),Jt=ft;Jt.CONSISTENT=new ft(!1,0,2,", "),Jt.EXACT=new ft(!0,0,void 0,", "),Jt.MINIFIED=new ft(!0,0,void 0,","),Jt.SIMPLIFIED=new ft(!0,5e-4,3,", ");var Ct=a(class{static need(e,t,r){if(e!==!0){let n=r===void 0?"(not provided)":`[${Array.prototype.slice.call(r).join(", ")}]`,u=`Precondition failed

Message: ${t===void 0?"(not provided)":t}

Args: ${n}`;throw new Error(u)}}static notNull(e){Ct.need(e!=null,"notNull")}static snappedCosSin(e){let t=Math.PI/4,r=Math.round(e/t);if(r*t===e){let n=Math.sqrt(.5);return[[1,0],[n,n],[0,1],[-n,n],[-1,0],[-n,-n],[0,-1],[n,-n]][r&7]}return[Math.cos(e),Math.sin(e)]}},"m"),q=a(class{static from(e){if(e instanceof q)return e;if(typeof e=="number")return new q(e,0);throw new Rr("Unrecognized value type.",{v:e})}static polar(e,t){let[r,n]=Ct.snappedCosSin(t);return new q(e*r,e*n)}static realPartOf(e){if(e instanceof q)return e.real;if(typeof e=="number")return e;throw new Rr("Unrecognized value type.",{v:e})}static imagPartOf(e){if(e instanceof q)return e.imag;if(typeof e=="number")return 0;throw new Rr("Unrecognized value type.",{v:e})}constructor(e,t){this.real=e,this.imag=t}static rootsOfQuadratic(e,t,r){if(e=q.from(e),t=q.from(t),r=q.from(r),e.isEqualTo(0)){if(!t.isEqualTo(0))return[r.times(-1).dividedBy(t)];if(!r.isEqualTo(0))return[];throw Error("Degenerate")}let n=t.times(t).minus(e.times(r).times(4)).sqrts(),u=t.times(-1),c=e.times(2);return n.map(p=>u.minus(p).dividedBy(c))}isEqualTo(e){return e instanceof q?this.real===e.real&&this.imag===e.imag:typeof e=="number"?this.real===e&&this.imag===0:!1}isApproximatelyEqualTo(e,t){if(e instanceof q||typeof e=="number"){let r=this.minus(q.from(e));return Math.abs(r.real)<=t&&Math.abs(r.imag)<=t&&r.abs()<=t}return!1}norm2(){return this.real*this.real+this.imag*this.imag}abs(){return Math.sqrt(this.norm2())}unit(){let e=this.norm2();return e<1e-5?q.polar(1,this.phase()):this.dividedBy(Math.sqrt(e))}plus(e){let t=q.from(e);return new q(this.real+t.real,this.imag+t.imag)}minus(e){let t=q.from(e);return new q(this.real-t.real,this.imag-t.imag)}times(e){let t=q.from(e);return new q(this.real*t.real-this.imag*t.imag,this.real*t.imag+this.imag*t.real)}dividedBy(e){let t=q.from(e),r=t.norm2();if(r===0)throw new Error("Division by Zero");let n=this.times(t.conjugate());return new q(n.real/r,n.imag/r)}sqrts(){let[e,t]=[this.real,this.imag],r=Math.sqrt(Math.sqrt(e*e+t*t));if(r===0)return[q.ZERO];if(t===0&&e<0)return[new q(0,r),new q(0,-r)];let n=this.phase()/2,u=q.polar(r,n);return[u,u.times(-1)]}conjugate(){return new q(this.real,-this.imag)}toString(e){return e=e||Jt.EXACT,e.allowAbbreviation?this.toStringAllowSingleValue(e):this.toStringBothValues(e)}neg(){return new q(-this.real,-this.imag)}raisedTo(e){return e===.5&&this.imag===0&&this.real>=0?new q(Math.sqrt(this.real),0):q.ZERO.isEqualTo(e)?q.ONE:this.isEqualTo(q.ZERO)?q.ZERO:this.ln().times(q.from(e)).exp()}exp(){return q.polar(Math.exp(this.real),this.imag)}cos(){let e=this.times(q.I);return e.exp().plus(e.neg().exp()).times(.5)}sin(){let e=this.times(q.I);return e.exp().minus(e.neg().exp()).dividedBy(new q(0,2))}tan(){return this.sin().dividedBy(this.cos())}ln(){return new q(Math.log(this.abs()),this.phase())}phase(){return Math.atan2(this.imag,this.real)}toStringAllowSingleValue(e){return Math.abs(this.imag)<=e.maxAbbreviationError?e.formatFloat(this.real):Math.abs(this.real)<=e.maxAbbreviationError?Math.abs(this.imag-1)<=e.maxAbbreviationError?"i":Math.abs(this.imag+1)<=e.maxAbbreviationError?"-i":`${e.formatFloat(this.imag)}i`:this.toStringBothValues(e)}toStringBothValues(e){let t=this.imag>=0?"+":"-",r=e.allowAbbreviation&&Math.abs(Math.abs(this.imag)-1)<=e.maxAbbreviationError?"":e.formatFloat(Math.abs(this.imag));return`${(e.allowAbbreviation||e.fixedDigits===void 0||this.real<0?"":"+")+e.formatFloat(this.real)+t+r}i`}},"o"),Cr=q;Cr.ZERO=new q(0,0),Cr.ONE=new q(1,0),Cr.I=new q(0,1);var At={};function Hp(e){let t=e.data.circuitJson,r=e.data.qubitCount,n=e.data.stepIndex,u=e.data.steps,c=e.data.targets,p=e.data.invalidateCaches,y=new Un("0".repeat(r));Ct.notNull(r),Ct.notNull(n),Ct.notNull(u),Ct.notNull(c),(At[t]===void 0||p)&&(At={},At[t]={});for(let[M,O]of u.entries()){let F={};At[t][M]===void 0&&(At[t][M]={});let _=At[t][M];if(_===void 0||_.targets===void 0||_.targets.length<c.length){y.runStep(O);let m=y.state.matrix.clone(),v=Object.assign({},y.blochVectors),h=Object.assign({},y.measuredBits),l=Object.assign({},y.flags);if(At[t][M]={type:"step",step:M,amplitudes:m,targets:c,blochVectors:v,measuredBits:h,flags:l},M===n){let d=Bn(c,m);F={type:"step",step:M,amplitudes:d,blochVectors:v,measuredBits:h,flags:l}}else F={type:"step",step:M,amplitudes:[],blochVectors:v,measuredBits:h,flags:l}}else F={type:"step",step:M,amplitudes:[],blochVectors:_.blochVectors,measuredBits:_.measuredBits,flags:_.flags},M===n&&(F.amplitudes=Bn(c,_.amplitudes));self.postMessage(F)}self.postMessage({type:"finish"})}a(Hp,"runSimulator");var Bn=a((e,t)=>e.reduce((r,n)=>{if(n>=t.height)r[n]=[0,0];else{let u=t.cell(0,n);r[n]=[u.real,u.imag]}return r},{}),"pickTargetAmplitudes");self.addEventListener("message",Hp);})();
/**
 * @license Fraction.js v4.2.0 05/03/2022
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
//# sourceMappingURL=serviceworker.js.map
