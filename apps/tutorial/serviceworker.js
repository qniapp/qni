"use strict";(()=>{var En=Object.create;var hr=Object.defineProperty;var Mn=Object.getOwnPropertyDescriptor;var On=Object.getOwnPropertyNames;var Sn=Object.getPrototypeOf,An=Object.prototype.hasOwnProperty;var u=(r,t)=>hr(r,"name",{value:t,configurable:!0});var K=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports);var Nn=(r,t,e,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of On(t))!An.call(r,i)&&i!==e&&hr(r,i,{get:()=>t[i],enumerable:!(n=Mn(t,i))||n.enumerable});return r};var Fr=(r,t,e)=>(e=r!=null?En(Sn(r)):{},Nn(t||!r||!r.__esModule?hr(e,"default",{value:r,enumerable:!0}):e,r));var ee=K((wr,re)=>{(function(r){"use strict";var t=2e3,e={s:1,n:0,d:1};function n(l,f){if(isNaN(l=parseInt(l,10)))throw b.InvalidParameter;return l*f}u(n,"assign");function i(l,f){if(f===0)throw b.DivisionByZero;var s=Object.create(b.prototype);s.s=l<0?-1:1,l=l<0?-l:l;var c=y(l,f);return s.n=l/c,s.d=f/c,s}u(i,"newFraction");function a(l){for(var f={},s=l,c=2,p=4;p<=s;){for(;s%c===0;)s/=c,f[c]=(f[c]||0)+1;p+=1+2*c++}return s!==l?s>1&&(f[s]=(f[s]||0)+1):f[l]=(f[l]||0)+1,f}u(a,"factorize");var o=u(function(l,f){var s=0,c=1,p=1,d=0,w=0,N=0,M=1,T=1,S=0,O=1,x=1,E=1,$=1e7,_;if(l!=null)if(f!==void 0){if(s=l,c=f,p=s*c,s%1!==0||c%1!==0)throw b.NonIntegerParameter}else switch(typeof l){case"object":{if("d"in l&&"n"in l)s=l.n,c=l.d,"s"in l&&(s*=l.s);else if(0 in l)s=l[0],1 in l&&(c=l[1]);else throw b.InvalidParameter;p=s*c;break}case"number":{if(l<0&&(p=l,l=-l),l%1===0)s=l;else if(l>0){for(l>=1&&(T=Math.pow(10,Math.floor(1+Math.log(l)/Math.LN10)),l/=T);O<=$&&E<=$;)if(_=(S+x)/(O+E),l===_){O+E<=$?(s=S+x,c=O+E):E>O?(s=x,c=E):(s=S,c=O);break}else l>_?(S+=x,O+=E):(x+=S,E+=O),O>$?(s=x,c=E):(s=S,c=O);s*=T}else(isNaN(l)||isNaN(f))&&(c=s=NaN);break}case"string":{if(O=l.match(/\d+|./g),O===null)throw b.InvalidParameter;if(O[S]==="-"?(p=-1,S++):O[S]==="+"&&S++,O.length===S+1?w=n(O[S++],p):O[S+1]==="."||O[S]==="."?(O[S]!=="."&&(d=n(O[S++],p)),S++,(S+1===O.length||O[S+1]==="("&&O[S+3]===")"||O[S+1]==="'"&&O[S+3]==="'")&&(w=n(O[S],p),M=Math.pow(10,O[S].length),S++),(O[S]==="("&&O[S+2]===")"||O[S]==="'"&&O[S+2]==="'")&&(N=n(O[S+1],p),T=Math.pow(10,O[S+1].length)-1,S+=3)):O[S+1]==="/"||O[S+1]===":"?(w=n(O[S],p),M=n(O[S+2],1),S+=3):O[S+3]==="/"&&O[S+1]===" "&&(d=n(O[S],p),w=n(O[S+2],p),M=n(O[S+4],1),S+=5),O.length<=S){c=M*T,p=s=N+c*d+T*w;break}}default:throw b.InvalidParameter}if(c===0)throw b.DivisionByZero;e.s=p<0?-1:1,e.n=Math.abs(s),e.d=Math.abs(c)},"parse");function m(l,f,s){for(var c=1;f>0;l=l*l%s,f>>=1)f&1&&(c=c*l%s);return c}u(m,"modpow");function v(l,f){for(;f%2===0;f/=2);for(;f%5===0;f/=5);if(f===1)return 0;for(var s=10%f,c=1;s!==1;c++)if(s=s*10%f,c>t)return 0;return c}u(v,"cycleLen");function h(l,f,s){for(var c=1,p=m(10,s,f),d=0;d<300;d++){if(c===p)return d;c=c*10%f,p=p*10%f}return 0}u(h,"cycleStart");function y(l,f){if(!l)return f;if(!f)return l;for(;;){if(l%=f,!l)return f;if(f%=l,!f)return l}}u(y,"gcd");function b(l,f){if(o(l,f),this instanceof b)l=y(e.d,e.n),this.s=e.s,this.n=e.n/l,this.d=e.d/l;else return i(e.s*e.n,e.d)}u(b,"Fraction"),b.DivisionByZero=new Error("Division by Zero"),b.InvalidParameter=new Error("Invalid argument"),b.NonIntegerParameter=new Error("Parameters must be integer"),b.prototype={s:1,n:0,d:1,abs:function(){return i(this.n,this.d)},neg:function(){return i(-this.s*this.n,this.d)},add:function(l,f){return o(l,f),i(this.s*this.n*e.d+e.s*this.d*e.n,this.d*e.d)},sub:function(l,f){return o(l,f),i(this.s*this.n*e.d-e.s*this.d*e.n,this.d*e.d)},mul:function(l,f){return o(l,f),i(this.s*e.s*this.n*e.n,this.d*e.d)},div:function(l,f){return o(l,f),i(this.s*e.s*this.n*e.d,this.d*e.n)},clone:function(){return i(this.s*this.n,this.d)},mod:function(l,f){if(isNaN(this.n)||isNaN(this.d))return new b(NaN);if(l===void 0)return i(this.s*this.n%this.d,1);if(o(l,f),e.n===0&&this.d===0)throw b.DivisionByZero;return i(this.s*(e.d*this.n)%(e.n*this.d),e.d*this.d)},gcd:function(l,f){return o(l,f),i(y(e.n,this.n)*y(e.d,this.d),e.d*this.d)},lcm:function(l,f){return o(l,f),e.n===0&&this.n===0?i(0,1):i(e.n*this.n,y(e.n,this.n)*y(e.d,this.d))},ceil:function(l){return l=Math.pow(10,l||0),isNaN(this.n)||isNaN(this.d)?new b(NaN):i(Math.ceil(l*this.s*this.n/this.d),l)},floor:function(l){return l=Math.pow(10,l||0),isNaN(this.n)||isNaN(this.d)?new b(NaN):i(Math.floor(l*this.s*this.n/this.d),l)},round:function(l){return l=Math.pow(10,l||0),isNaN(this.n)||isNaN(this.d)?new b(NaN):i(Math.round(l*this.s*this.n/this.d),l)},inverse:function(){return i(this.s*this.d,this.n)},pow:function(l,f){if(o(l,f),e.d===1)return e.s<0?i(Math.pow(this.s*this.d,e.n),Math.pow(this.n,e.n)):i(Math.pow(this.s*this.n,e.n),Math.pow(this.d,e.n));if(this.s<0)return null;var s=a(this.n),c=a(this.d),p=1,d=1;for(var w in s)if(w!=="1"){if(w==="0"){p=0;break}if(s[w]*=e.n,s[w]%e.d===0)s[w]/=e.d;else return null;p*=Math.pow(w,s[w])}for(var w in c)if(w!=="1"){if(c[w]*=e.n,c[w]%e.d===0)c[w]/=e.d;else return null;d*=Math.pow(w,c[w])}return e.s<0?i(d,p):i(p,d)},equals:function(l,f){return o(l,f),this.s*this.n*e.d===e.s*e.n*this.d},compare:function(l,f){o(l,f);var s=this.s*this.n*e.d-e.s*e.n*this.d;return(0<s)-(s<0)},simplify:function(l){if(isNaN(this.n)||isNaN(this.d))return this;l=l||.001;for(var f=this.abs(),s=f.toContinued(),c=1;c<s.length;c++){for(var p=i(s[c-1],1),d=c-2;d>=0;d--)p=p.inverse().add(s[d]);if(p.sub(f).abs().valueOf()<l)return p.mul(this.s)}return this},divisible:function(l,f){return o(l,f),!(!(e.n*this.d)||this.n*e.d%(e.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(l){var f,s="",c=this.n,p=this.d;return this.s<0&&(s+="-"),p===1?s+=c:(l&&(f=Math.floor(c/p))>0&&(s+=f,s+=" ",c%=p),s+=c,s+="/",s+=p),s},toLatex:function(l){var f,s="",c=this.n,p=this.d;return this.s<0&&(s+="-"),p===1?s+=c:(l&&(f=Math.floor(c/p))>0&&(s+=f,c%=p),s+="\\frac{",s+=c,s+="}{",s+=p,s+="}"),s},toContinued:function(){var l,f=this.n,s=this.d,c=[];if(isNaN(f)||isNaN(s))return c;do c.push(Math.floor(f/s)),l=f%s,f=s,s=l;while(f!==1);return c},toString:function(l){var f=this.n,s=this.d;if(isNaN(f)||isNaN(s))return"NaN";l=l||15;var c=v(f,s),p=h(f,s,c),d=this.s<0?"-":"";if(d+=f/s|0,f%=s,f*=10,f&&(d+="."),c){for(var w=p;w--;)d+=f/s|0,f%=s,f*=10;d+="(";for(var w=c;w--;)d+=f/s|0,f%=s,f*=10;d+=")"}else for(var w=l;f&&w--;)d+=f/s|0,f%=s,f*=10;return d}},typeof define=="function"&&define.amd?define([],function(){return b}):typeof wr=="object"?(Object.defineProperty(b,"__esModule",{value:!0}),b.default=b,b.Fraction=b,re.exports=b):r.Fraction=b})(wr)});var ce=K((Bo,le)=>{"use strict";var se=u((r=0)=>t=>`\x1B[${38+r};5;${t}m`,"wrapAnsi256"),ue=u((r=0)=>(t,e,n)=>`\x1B[${38+r};2;${t};${e};${n}m`,"wrapAnsi16m");function zi(){let r=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(let[e,n]of Object.entries(t)){for(let[i,a]of Object.entries(n))t[i]={open:`\x1B[${a[0]}m`,close:`\x1B[${a[1]}m`},n[i]=t[i],r.set(a[0],a[1]);Object.defineProperty(t,e,{value:n,enumerable:!1})}return Object.defineProperty(t,"codes",{value:r,enumerable:!1}),t.color.close="\x1B[39m",t.bgColor.close="\x1B[49m",t.color.ansi256=se(),t.color.ansi16m=ue(),t.bgColor.ansi256=se(10),t.bgColor.ansi16m=ue(10),Object.defineProperties(t,{rgbToAnsi256:{value:(e,n,i)=>e===n&&n===i?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(i/255*5),enumerable:!1},hexToRgb:{value:e=>{let n=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(e.toString(16));if(!n)return[0,0,0];let{colorString:i}=n.groups;i.length===3&&(i=i.split("").map(o=>o+o).join(""));let a=Number.parseInt(i,16);return[a>>16&255,a>>8&255,a&255]},enumerable:!1},hexToAnsi256:{value:e=>t.rgbToAnsi256(...t.hexToRgb(e)),enumerable:!1}}),t}u(zi,"assembleStyles");Object.defineProperty(le,"exports",{enumerable:!0,get:zi})});var Rt=K(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.printIteratorEntries=Gi;It.printIteratorValues=Vi;It.printListItems=Ki;It.printObjectProperties=Ji;var Wi=u((r,t)=>{let e=Object.keys(r),n=t!==null?e.sort(t):e;return Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(r).forEach(i=>{Object.getOwnPropertyDescriptor(r,i).enumerable&&n.push(i)}),n},"getKeysOfEnumerableProperties");function Gi(r,t,e,n,i,a,o=": "){let m="",v=0,h=r.next();if(!h.done){m+=t.spacingOuter;let y=e+t.indent;for(;!h.done;){if(m+=y,v++===t.maxWidth){m+="\u2026";break}let b=a(h.value[0],t,y,n,i),l=a(h.value[1],t,y,n,i);m+=b+o+l,h=r.next(),h.done?t.min||(m+=","):m+=`,${t.spacingInner}`}m+=t.spacingOuter+e}return m}u(Gi,"printIteratorEntries");function Vi(r,t,e,n,i,a){let o="",m=0,v=r.next();if(!v.done){o+=t.spacingOuter;let h=e+t.indent;for(;!v.done;){if(o+=h,m++===t.maxWidth){o+="\u2026";break}o+=a(v.value,t,h,n,i),v=r.next(),v.done?t.min||(o+=","):o+=`,${t.spacingInner}`}o+=t.spacingOuter+e}return o}u(Vi,"printIteratorValues");function Ki(r,t,e,n,i,a){let o="";if(r.length){o+=t.spacingOuter;let m=e+t.indent;for(let v=0;v<r.length;v++){if(o+=m,v===t.maxWidth){o+="\u2026";break}v in r&&(o+=a(r[v],t,m,n,i)),v<r.length-1?o+=`,${t.spacingInner}`:t.min||(o+=",")}o+=t.spacingOuter+e}return o}u(Ki,"printListItems");function Ji(r,t,e,n,i,a){let o="",m=Wi(r,t.compareKeys);if(m.length){o+=t.spacingOuter;let v=e+t.indent;for(let h=0;h<m.length;h++){let y=m[h],b=a(y,t,v,n,i),l=a(r[y],t,v,n,i);o+=`${v+b}: ${l}`,h<m.length-1?o+=`,${t.spacingInner}`:t.min||(o+=",")}o+=t.spacingOuter+e}return o}u(Ji,"printObjectProperties")});var de=K(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.test=ut.serialize=ut.default=void 0;var fe=Rt(),Mr=globalThis["jest-symbol-do-not-touch"]||globalThis.Symbol,Zi=typeof Mr=="function"&&Mr.for?Mr.for("jest.asymmetricMatcher"):1267621,Zt=" ",he=u((r,t,e,n,i,a)=>{let o=r.toString();if(o==="ArrayContaining"||o==="ArrayNotContaining")return++n>t.maxDepth?`[${o}]`:`${o+Zt}[${(0,fe.printListItems)(r.sample,t,e,n,i,a)}]`;if(o==="ObjectContaining"||o==="ObjectNotContaining")return++n>t.maxDepth?`[${o}]`:`${o+Zt}{${(0,fe.printObjectProperties)(r.sample,t,e,n,i,a)}}`;if(o==="StringMatching"||o==="StringNotMatching"||o==="StringContaining"||o==="StringNotContaining")return o+Zt+a(r.sample,t,e,n,i);if(typeof r.toAsymmetricMatcher!="function")throw new Error(`Asymmetric matcher ${r.constructor.name} does not implement toAsymmetricMatcher()`);return r.toAsymmetricMatcher()},"serialize");ut.serialize=he;var pe=u(r=>r&&r.$$typeof===Zi,"test");ut.test=pe;var Hi={serialize:he,test:pe},Qi=Hi;ut.default=Qi});var ye=K(lt=>{"use strict";Object.defineProperty(lt,"__esModule",{value:!0});lt.test=lt.serialize=lt.default=void 0;var me=Rt(),Xi=" ",ge=["DOMStringMap","NamedNodeMap"],Yi=/^(HTML\w*Collection|NodeList)$/,ta=u(r=>ge.indexOf(r)!==-1||Yi.test(r),"testName"),be=u(r=>r&&r.constructor&&!!r.constructor.name&&ta(r.constructor.name),"test");lt.test=be;var ra=u(r=>r.constructor.name==="NamedNodeMap","isNamedNodeMap"),ve=u((r,t,e,n,i,a)=>{let o=r.constructor.name;return++n>t.maxDepth?`[${o}]`:(t.min?"":o+Xi)+(ge.indexOf(o)!==-1?`{${(0,me.printObjectProperties)(ra(r)?Array.from(r).reduce((m,v)=>(m[v.name]=v.value,m),{}):{...r},t,e,n,i,a)}}`:`[${(0,me.printListItems)(Array.from(r),t,e,n,i,a)}]`)},"serialize");lt.serialize=ve;var ea={serialize:ve,test:be},na=ea;lt.default=na});var we=K(Or=>{"use strict";Object.defineProperty(Or,"__esModule",{value:!0});Or.default=ia;function ia(r){return r.replace(/</g,"&lt;").replace(/>/g,"&gt;")}u(ia,"escapeHTML")});var Ht=K(Z=>{"use strict";Object.defineProperty(Z,"__esModule",{value:!0});Z.printText=Z.printProps=Z.printElementAsLeaf=Z.printElement=Z.printComment=Z.printChildren=void 0;var xe=aa(we());function aa(r){return r&&r.__esModule?r:{default:r}}u(aa,"_interopRequireDefault");var oa=u((r,t,e,n,i,a,o)=>{let m=n+e.indent,v=e.colors;return r.map(h=>{let y=t[h],b=o(y,e,m,i,a);return typeof y!="string"&&(b.indexOf(`
`)!==-1&&(b=e.spacingOuter+m+b+e.spacingOuter+n),b=`{${b}}`),`${e.spacingInner+n+v.prop.open+h+v.prop.close}=${v.value.open}${b}${v.value.close}`}).join("")},"printProps");Z.printProps=oa;var sa=u((r,t,e,n,i,a)=>r.map(o=>t.spacingOuter+e+(typeof o=="string"?Ee(o,t):a(o,t,e,n,i))).join(""),"printChildren");Z.printChildren=sa;var Ee=u((r,t)=>{let e=t.colors.content;return e.open+(0,xe.default)(r)+e.close},"printText");Z.printText=Ee;var ua=u((r,t)=>{let e=t.colors.comment;return`${e.open}<!--${(0,xe.default)(r)}-->${e.close}`},"printComment");Z.printComment=ua;var la=u((r,t,e,n,i)=>{let a=n.colors.tag;return`${a.open}<${r}${t&&a.close+t+n.spacingOuter+i+a.open}${e?`>${a.close}${e}${n.spacingOuter}${i}${a.open}</${r}`:`${t&&!n.min?"":" "}/`}>${a.close}`},"printElement");Z.printElement=la;var ca=u((r,t)=>{let e=t.colors.tag;return`${e.open}<${r}${e.close} \u2026${e.open} />${e.close}`},"printElementAsLeaf");Z.printElementAsLeaf=ca});var _e=K(ct=>{"use strict";Object.defineProperty(ct,"__esModule",{value:!0});ct.test=ct.serialize=ct.default=void 0;var Tt=Ht(),fa=1,Me=3,Oe=8,Se=11,ha=/^((HTML|SVG)\w*)?Element$/,pa=u(r=>{try{return typeof r.hasAttribute=="function"&&r.hasAttribute("is")}catch{return!1}},"testHasAttribute"),da=u(r=>{let t=r.constructor.name,{nodeType:e,tagName:n}=r,i=typeof n=="string"&&n.includes("-")||pa(r);return e===fa&&(ha.test(t)||i)||e===Me&&t==="Text"||e===Oe&&t==="Comment"||e===Se&&t==="DocumentFragment"},"testNode"),Ae=u(r=>r?.constructor?.name&&da(r),"test");ct.test=Ae;function ma(r){return r.nodeType===Me}u(ma,"nodeIsText");function ga(r){return r.nodeType===Oe}u(ga,"nodeIsComment");function Sr(r){return r.nodeType===Se}u(Sr,"nodeIsFragment");var Ne=u((r,t,e,n,i,a)=>{if(ma(r))return(0,Tt.printText)(r.data,t);if(ga(r))return(0,Tt.printComment)(r.data,t);let o=Sr(r)?"DocumentFragment":r.tagName.toLowerCase();return++n>t.maxDepth?(0,Tt.printElementAsLeaf)(o,t):(0,Tt.printElement)(o,(0,Tt.printProps)(Sr(r)?[]:Array.from(r.attributes).map(m=>m.name).sort(),Sr(r)?{}:Array.from(r.attributes).reduce((m,v)=>(m[v.name]=v.value,m),{}),t,e+t.indent,n,i,a),(0,Tt.printChildren)(Array.prototype.slice.call(r.childNodes||r.children),t,e+t.indent,n,i,a),t,e)},"serialize");ct.serialize=Ne;var ba={serialize:Ne,test:Ae},va=ba;ct.default=va});var Pe=K(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.test=ft.serialize=ft.default=void 0;var kt=Rt(),ya="@@__IMMUTABLE_ITERABLE__@@",wa="@@__IMMUTABLE_LIST__@@",xa="@@__IMMUTABLE_KEYED__@@",Ea="@@__IMMUTABLE_MAP__@@",$e="@@__IMMUTABLE_ORDERED__@@",Ma="@@__IMMUTABLE_RECORD__@@",Oa="@@__IMMUTABLE_SEQ__@@",Sa="@@__IMMUTABLE_SET__@@",Aa="@@__IMMUTABLE_STACK__@@",Ct=u(r=>`Immutable.${r}`,"getImmutableName"),Qt=u(r=>`[${r}]`,"printAsLeaf"),Ft=" ",Ie="\u2026",Na=u((r,t,e,n,i,a,o)=>++n>t.maxDepth?Qt(Ct(o)):`${Ct(o)+Ft}{${(0,kt.printIteratorEntries)(r.entries(),t,e,n,i,a)}}`,"printImmutableEntries");function _a(r){let t=0;return{next(){if(t<r._keys.length){let e=r._keys[t++];return{done:!1,value:[e,r.get(e)]}}return{done:!0,value:void 0}}}}u(_a,"getRecordEntries");var $a=u((r,t,e,n,i,a)=>{let o=Ct(r._name||"Record");return++n>t.maxDepth?Qt(o):`${o+Ft}{${(0,kt.printIteratorEntries)(_a(r),t,e,n,i,a)}}`},"printImmutableRecord"),Ia=u((r,t,e,n,i,a)=>{let o=Ct("Seq");return++n>t.maxDepth?Qt(o):r[xa]?`${o+Ft}{${r._iter||r._object?(0,kt.printIteratorEntries)(r.entries(),t,e,n,i,a):Ie}}`:`${o+Ft}[${r._iter||r._array||r._collection||r._iterable?(0,kt.printIteratorValues)(r.values(),t,e,n,i,a):Ie}]`},"printImmutableSeq"),Ar=u((r,t,e,n,i,a,o)=>++n>t.maxDepth?Qt(Ct(o)):`${Ct(o)+Ft}[${(0,kt.printIteratorValues)(r.values(),t,e,n,i,a)}]`,"printImmutableValues"),Te=u((r,t,e,n,i,a)=>r[Ea]?Na(r,t,e,n,i,a,r[$e]?"OrderedMap":"Map"):r[wa]?Ar(r,t,e,n,i,a,"List"):r[Sa]?Ar(r,t,e,n,i,a,r[$e]?"OrderedSet":"Set"):r[Aa]?Ar(r,t,e,n,i,a,"Stack"):r[Oa]?Ia(r,t,e,n,i,a):$a(r,t,e,n,i,a),"serialize");ft.serialize=Te;var Ce=u(r=>r&&(r[ya]===!0||r[Ma]===!0),"test");ft.test=Ce;var Ta={serialize:Te,test:Ce},Ca=Ta;ft.default=Ca});var Be=K(j=>{"use strict";var Nr=Symbol.for("react.element"),_r=Symbol.for("react.portal"),Xt=Symbol.for("react.fragment"),Yt=Symbol.for("react.strict_mode"),tr=Symbol.for("react.profiler"),rr=Symbol.for("react.provider"),er=Symbol.for("react.context"),Pa=Symbol.for("react.server_context"),nr=Symbol.for("react.forward_ref"),ir=Symbol.for("react.suspense"),ar=Symbol.for("react.suspense_list"),or=Symbol.for("react.memo"),sr=Symbol.for("react.lazy"),ja=Symbol.for("react.offscreen"),je;je=Symbol.for("react.module.reference");function X(r){if(typeof r=="object"&&r!==null){var t=r.$$typeof;switch(t){case Nr:switch(r=r.type,r){case Xt:case tr:case Yt:case ir:case ar:return r;default:switch(r=r&&r.$$typeof,r){case Pa:case er:case nr:case sr:case or:case rr:return r;default:return t}}case _r:return t}}}u(X,"v");j.ContextConsumer=er;j.ContextProvider=rr;j.Element=Nr;j.ForwardRef=nr;j.Fragment=Xt;j.Lazy=sr;j.Memo=or;j.Portal=_r;j.Profiler=tr;j.StrictMode=Yt;j.Suspense=ir;j.SuspenseList=ar;j.isAsyncMode=function(){return!1};j.isConcurrentMode=function(){return!1};j.isContextConsumer=function(r){return X(r)===er};j.isContextProvider=function(r){return X(r)===rr};j.isElement=function(r){return typeof r=="object"&&r!==null&&r.$$typeof===Nr};j.isForwardRef=function(r){return X(r)===nr};j.isFragment=function(r){return X(r)===Xt};j.isLazy=function(r){return X(r)===sr};j.isMemo=function(r){return X(r)===or};j.isPortal=function(r){return X(r)===_r};j.isProfiler=function(r){return X(r)===tr};j.isStrictMode=function(r){return X(r)===Yt};j.isSuspense=function(r){return X(r)===ir};j.isSuspenseList=function(r){return X(r)===ar};j.isValidElementType=function(r){return typeof r=="string"||typeof r=="function"||r===Xt||r===tr||r===Yt||r===ir||r===ar||r===ja||typeof r=="object"&&r!==null&&(r.$$typeof===sr||r.$$typeof===or||r.$$typeof===rr||r.$$typeof===er||r.$$typeof===nr||r.$$typeof===je||r.getModuleId!==void 0)};j.typeOf=X});var Re=K((Yo,De)=>{"use strict";De.exports=Be()});var ze=K(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.test=ht.serialize=ht.default=void 0;var Ot=Ba(Re()),ur=Ht();function Fe(r){if(typeof WeakMap!="function")return null;var t=new WeakMap,e=new WeakMap;return(Fe=u(function(n){return n?e:t},"_getRequireWildcardCache"))(r)}u(Fe,"_getRequireWildcardCache");function Ba(r,t){if(!t&&r&&r.__esModule)return r;if(r===null||typeof r!="object"&&typeof r!="function")return{default:r};var e=Fe(t);if(e&&e.has(r))return e.get(r);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in r)if(a!=="default"&&Object.prototype.hasOwnProperty.call(r,a)){var o=i?Object.getOwnPropertyDescriptor(r,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=r[a]}return n.default=r,e&&e.set(r,n),n}u(Ba,"_interopRequireWildcard");var Ue=u((r,t=[])=>(Array.isArray(r)?r.forEach(e=>{Ue(e,t)}):r!=null&&r!==!1&&t.push(r),t),"getChildren"),ke=u(r=>{let t=r.type;if(typeof t=="string")return t;if(typeof t=="function")return t.displayName||t.name||"Unknown";if(Ot.isFragment(r))return"React.Fragment";if(Ot.isSuspense(r))return"React.Suspense";if(typeof t=="object"&&t!==null){if(Ot.isContextProvider(r))return"Context.Provider";if(Ot.isContextConsumer(r))return"Context.Consumer";if(Ot.isForwardRef(r)){if(t.displayName)return t.displayName;let e=t.render.displayName||t.render.name||"";return e!==""?`ForwardRef(${e})`:"ForwardRef"}if(Ot.isMemo(r)){let e=t.displayName||t.type.displayName||t.type.name||"";return e!==""?`Memo(${e})`:"Memo"}}return"UNDEFINED"},"getType"),Da=u(r=>{let{props:t}=r;return Object.keys(t).filter(e=>e!=="children"&&t[e]!==void 0).sort()},"getPropKeys"),qe=u((r,t,e,n,i,a)=>++n>t.maxDepth?(0,ur.printElementAsLeaf)(ke(r),t):(0,ur.printElement)(ke(r),(0,ur.printProps)(Da(r),r.props,t,e+t.indent,n,i,a),(0,ur.printChildren)(Ue(r.props.children),t,e+t.indent,n,i,a),t,e),"serialize");ht.serialize=qe;var Le=u(r=>r!=null&&Ot.isElement(r),"test");ht.test=Le;var Ra={serialize:qe,test:Le},ka=Ra;ht.default=ka});var Ve=K(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});pt.test=pt.serialize=pt.default=void 0;var lr=Ht(),$r=globalThis["jest-symbol-do-not-touch"]||globalThis.Symbol,Fa=typeof $r=="function"&&$r.for?$r.for("react.test.json"):245830487,Ua=u(r=>{let{props:t}=r;return t?Object.keys(t).filter(e=>t[e]!==void 0).sort():[]},"getPropKeys"),We=u((r,t,e,n,i,a)=>++n>t.maxDepth?(0,lr.printElementAsLeaf)(r.type,t):(0,lr.printElement)(r.type,r.props?(0,lr.printProps)(Ua(r),r.props,t,e+t.indent,n,i,a):"",r.children?(0,lr.printChildren)(r.children,t,e+t.indent,n,i,a):"",t,e),"serialize");pt.serialize=We;var Ge=u(r=>r&&r.$$typeof===Fa,"test");pt.test=Ge;var qa={serialize:We,test:Ge},La=qa;pt.default=La});var ln=K(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.default=at.DEFAULT_OPTIONS=void 0;at.format=un;at.plugins=void 0;var za=St(ce()),Ut=Rt(),Wa=St(de()),Ga=St(ye()),Va=St(_e()),Ka=St(Pe()),Ja=St(ze()),Za=St(Ve());function St(r){return r&&r.__esModule?r:{default:r}}u(St,"_interopRequireDefault");var Xe=Object.prototype.toString,Ha=Date.prototype.toISOString,Qa=Error.prototype.toString,Ke=RegExp.prototype.toString,Ir=u(r=>typeof r.constructor=="function"&&r.constructor.name||"Object","getConstructorName"),Xa=u(r=>typeof window<"u"&&r===window,"isWindow"),Ya=/^Symbol\((.*)\)(.*)$/,to=/\n/gi,cr=class extends Error{static{u(this,"PrettyFormatPluginError")}constructor(t,e){super(t),this.stack=e,this.name=this.constructor.name}};function ro(r){return r==="[object Array]"||r==="[object ArrayBuffer]"||r==="[object DataView]"||r==="[object Float32Array]"||r==="[object Float64Array]"||r==="[object Int8Array]"||r==="[object Int16Array]"||r==="[object Int32Array]"||r==="[object Uint8Array]"||r==="[object Uint8ClampedArray]"||r==="[object Uint16Array]"||r==="[object Uint32Array]"}u(ro,"isToStringedArrayType");function eo(r){return Object.is(r,-0)?"-0":String(r)}u(eo,"printNumber");function no(r){return`${r}n`}u(no,"printBigInt");function Je(r,t){return t?`[Function ${r.name||"anonymous"}]`:"[Function]"}u(Je,"printFunction");function Ze(r){return String(r).replace(Ya,"Symbol($1)")}u(Ze,"printSymbol");function He(r){return`[${Qa.call(r)}]`}u(He,"printError");function Ye(r,t,e,n){if(r===!0||r===!1)return`${r}`;if(r===void 0)return"undefined";if(r===null)return"null";let i=typeof r;if(i==="number")return eo(r);if(i==="bigint")return no(r);if(i==="string")return n?`"${r.replace(/"|\\/g,"\\$&")}"`:`"${r}"`;if(i==="function")return Je(r,t);if(i==="symbol")return Ze(r);let a=Xe.call(r);return a==="[object WeakMap]"?"WeakMap {}":a==="[object WeakSet]"?"WeakSet {}":a==="[object Function]"||a==="[object GeneratorFunction]"?Je(r,t):a==="[object Symbol]"?Ze(r):a==="[object Date]"?isNaN(+r)?"Date { NaN }":Ha.call(r):a==="[object Error]"?He(r):a==="[object RegExp]"?e?Ke.call(r).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&"):Ke.call(r):r instanceof Error?He(r):null}u(Ye,"printBasicValue");function tn(r,t,e,n,i,a){if(i.indexOf(r)!==-1)return"[Circular]";i=i.slice(),i.push(r);let o=++n>t.maxDepth,m=t.min;if(t.callToJSON&&!o&&r.toJSON&&typeof r.toJSON=="function"&&!a)return dt(r.toJSON(),t,e,n,i,!0);let v=Xe.call(r);return v==="[object Arguments]"?o?"[Arguments]":`${m?"":"Arguments "}[${(0,Ut.printListItems)(r,t,e,n,i,dt)}]`:ro(v)?o?`[${r.constructor.name}]`:`${m||!t.printBasicPrototype&&r.constructor.name==="Array"?"":`${r.constructor.name} `}[${(0,Ut.printListItems)(r,t,e,n,i,dt)}]`:v==="[object Map]"?o?"[Map]":`Map {${(0,Ut.printIteratorEntries)(r.entries(),t,e,n,i,dt," => ")}}`:v==="[object Set]"?o?"[Set]":`Set {${(0,Ut.printIteratorValues)(r.values(),t,e,n,i,dt)}}`:o||Xa(r)?`[${Ir(r)}]`:`${m||!t.printBasicPrototype&&Ir(r)==="Object"?"":`${Ir(r)} `}{${(0,Ut.printObjectProperties)(r,t,e,n,i,dt)}}`}u(tn,"printComplexValue");function io(r){return r.serialize!=null}u(io,"isNewPlugin");function rn(r,t,e,n,i,a){let o;try{o=io(r)?r.serialize(t,e,n,i,a,dt):r.print(t,m=>dt(m,e,n,i,a),m=>{let v=n+e.indent;return v+m.replace(to,`
${v}`)},{edgeSpacing:e.spacingOuter,min:e.min,spacing:e.spacingInner},e.colors)}catch(m){throw new cr(m.message,m.stack)}if(typeof o!="string")throw new Error(`pretty-format: Plugin must return type "string" but instead returned "${typeof o}".`);return o}u(rn,"printPlugin");function en(r,t){for(let e=0;e<r.length;e++)try{if(r[e].test(t))return r[e]}catch(n){throw new cr(n.message,n.stack)}return null}u(en,"findPlugin");function dt(r,t,e,n,i,a){let o=en(t.plugins,r);if(o!==null)return rn(o,r,t,e,n,i);let m=Ye(r,t.printFunctionName,t.escapeRegex,t.escapeString);return m!==null?m:tn(r,t,e,n,i,a)}u(dt,"printer");var Tr={comment:"gray",content:"reset",prop:"yellow",tag:"cyan",value:"green"},nn=Object.keys(Tr),ao=u(r=>r,"toOptionsSubtype"),Y=ao({callToJSON:!0,compareKeys:void 0,escapeRegex:!1,escapeString:!0,highlight:!1,indent:2,maxDepth:1/0,maxWidth:1/0,min:!1,plugins:[],printBasicPrototype:!0,printFunctionName:!0,theme:Tr});at.DEFAULT_OPTIONS=Y;function oo(r){if(Object.keys(r).forEach(t=>{if(!Object.prototype.hasOwnProperty.call(Y,t))throw new Error(`pretty-format: Unknown option "${t}".`)}),r.min&&r.indent!==void 0&&r.indent!==0)throw new Error('pretty-format: Options "min" and "indent" cannot be used together.');if(r.theme!==void 0){if(r.theme===null)throw new Error('pretty-format: Option "theme" must not be null.');if(typeof r.theme!="object")throw new Error(`pretty-format: Option "theme" must be of type "object" but instead received "${typeof r.theme}".`)}}u(oo,"validateOptions");var so=u(r=>nn.reduce((t,e)=>{let n=r.theme&&r.theme[e]!==void 0?r.theme[e]:Tr[e],i=n&&za.default[n];if(i&&typeof i.close=="string"&&typeof i.open=="string")t[e]=i;else throw new Error(`pretty-format: Option "theme" has a key "${e}" whose value "${n}" is undefined in ansi-styles.`);return t},Object.create(null)),"getColorsHighlight"),uo=u(()=>nn.reduce((r,t)=>(r[t]={close:"",open:""},r),Object.create(null)),"getColorsEmpty"),an=u(r=>r?.printFunctionName??Y.printFunctionName,"getPrintFunctionName"),on=u(r=>r?.escapeRegex??Y.escapeRegex,"getEscapeRegex"),sn=u(r=>r?.escapeString??Y.escapeString,"getEscapeString"),Qe=u(r=>({callToJSON:r?.callToJSON??Y.callToJSON,colors:r?.highlight?so(r):uo(),compareKeys:typeof r?.compareKeys=="function"||r?.compareKeys===null?r.compareKeys:Y.compareKeys,escapeRegex:on(r),escapeString:sn(r),indent:r?.min?"":lo(r?.indent??Y.indent),maxDepth:r?.maxDepth??Y.maxDepth,maxWidth:r?.maxWidth??Y.maxWidth,min:r?.min??Y.min,plugins:r?.plugins??Y.plugins,printBasicPrototype:r?.printBasicPrototype??!0,printFunctionName:an(r),spacingInner:r?.min?" ":`
`,spacingOuter:r?.min?"":`
`}),"getConfig");function lo(r){return new Array(r+1).join(" ")}u(lo,"createIndent");function un(r,t){if(t&&(oo(t),t.plugins)){let n=en(t.plugins,r);if(n!==null)return rn(n,r,Qe(t),"",0,[])}let e=Ye(r,an(t),on(t),sn(t));return e!==null?e:tn(r,Qe(t),"",0,[])}u(un,"format");var co={AsymmetricMatcher:Wa.default,DOMCollection:Ga.default,DOMElement:Va.default,Immutable:Ka.default,ReactElement:Ja.default,ReactTestComponent:Za.default};at.plugins=co;var fo=un;at.default=fo});var _n=u(function(r){return function(t){for(var e=Math.max(0,Math.floor(t)),n=[r(0)],i=1;i<e;i++)n.push(r(i));return n}},"makeBy");var zt=u(function(r,t){return r<=t?_n(function(e){return r+e})(t-r+1):[r]},"range");var $n=Object.create,vr=Object.defineProperty,In=Object.getOwnPropertyDescriptor,Tn=Object.getOwnPropertyNames,Ur=Object.getOwnPropertySymbols,Cn=Object.getPrototypeOf,Wr=Object.prototype.hasOwnProperty,Pn=Object.prototype.propertyIsEnumerable,qr=u((r,t,e)=>t in r?vr(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,"Jt"),jn=u((r,t)=>{for(var e in t||(t={}))Wr.call(t,e)&&qr(r,e,t[e]);if(Ur)for(var e of Ur(t))Pn.call(t,e)&&qr(r,e,t[e]);return r},"rr"),J=u((r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports),"k"),Bn=u((r,t,e,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Tn(t))!Wr.call(r,i)&&i!==e&&vr(r,i,{get:()=>t[i],enumerable:!(n=In(t,i))||n.enumerable});return r},"sn"),Gr=u((r,t,e)=>(e=r!=null?$n(Cn(r)):{},Bn(t||!r||!r.__esModule?vr(e,"default",{value:r,enumerable:!0}):e,r)),"er"),Dn=J((r,t)=>{(function(e){"use strict";var n=2e3,i={s:1,n:0,d:1};function a(s,c){if(isNaN(s=parseInt(s,10)))throw f.InvalidParameter;return s*c}u(a,"n");function o(s,c){if(c===0)throw f.DivisionByZero;var p=Object.create(f.prototype);p.s=s<0?-1:1,s=s<0?-s:s;var d=l(s,c);return p.n=s/d,p.d=c/d,p}u(o,"i");function m(s){for(var c={},p=s,d=2,w=4;w<=p;){for(;p%d===0;)p/=d,c[d]=(c[d]||0)+1;w+=1+2*d++}return p!==s?p>1&&(c[p]=(c[p]||0)+1):c[s]=(c[s]||0)+1,c}u(m,"s");var v=u(function(s,c){var p=0,d=1,w=1,N=0,M=0,T=0,S=1,O=1,x=0,E=1,$=1,_=1,B=1e7,D;if(s!=null)if(c!==void 0){if(p=s,d=c,w=p*d,p%1!==0||d%1!==0)throw f.NonIntegerParameter}else switch(typeof s){case"object":{if("d"in s&&"n"in s)p=s.n,d=s.d,"s"in s&&(p*=s.s);else if(0 in s)p=s[0],1 in s&&(d=s[1]);else throw f.InvalidParameter;w=p*d;break}case"number":{if(s<0&&(w=s,s=-s),s%1===0)p=s;else if(s>0){for(s>=1&&(O=Math.pow(10,Math.floor(1+Math.log(s)/Math.LN10)),s/=O);E<=B&&_<=B;)if(D=(x+$)/(E+_),s===D){E+_<=B?(p=x+$,d=E+_):_>E?(p=$,d=_):(p=x,d=E);break}else s>D?(x+=$,E+=_):($+=x,_+=E),E>B?(p=$,d=_):(p=x,d=E);p*=O}else(isNaN(s)||isNaN(c))&&(d=p=NaN);break}case"string":{if(E=s.match(/\d+|./g),E===null)throw f.InvalidParameter;if(E[x]==="-"?(w=-1,x++):E[x]==="+"&&x++,E.length===x+1?M=a(E[x++],w):E[x+1]==="."||E[x]==="."?(E[x]!=="."&&(N=a(E[x++],w)),x++,(x+1===E.length||E[x+1]==="("&&E[x+3]===")"||E[x+1]==="'"&&E[x+3]==="'")&&(M=a(E[x],w),S=Math.pow(10,E[x].length),x++),(E[x]==="("&&E[x+2]===")"||E[x]==="'"&&E[x+2]==="'")&&(T=a(E[x+1],w),O=Math.pow(10,E[x+1].length)-1,x+=3)):E[x+1]==="/"||E[x+1]===":"?(M=a(E[x],w),S=a(E[x+2],1),x+=3):E[x+3]==="/"&&E[x+1]===" "&&(N=a(E[x],w),M=a(E[x+2],w),S=a(E[x+4],1),x+=5),E.length<=x){d=S*O,w=p=T+d*N+O*M;break}}default:throw f.InvalidParameter}if(d===0)throw f.DivisionByZero;i.s=w<0?-1:1,i.n=Math.abs(p),i.d=Math.abs(d)},"a");function h(s,c,p){for(var d=1;c>0;s=s*s%p,c>>=1)c&1&&(d=d*s%p);return d}u(h,"c");function y(s,c){for(;c%2===0;c/=2);for(;c%5===0;c/=5);if(c===1)return 0;for(var p=10%c,d=1;p!==1;d++)if(p=p*10%c,d>n)return 0;return d}u(y,"m");function b(s,c,p){for(var d=1,w=h(10,p,c),N=0;N<300;N++){if(d===w)return N;d=d*10%c,w=w*10%c}return 0}u(b,"h");function l(s,c){if(!s)return c;if(!c)return s;for(;;){if(s%=c,!s)return c;if(c%=s,!c)return s}}u(l,"y");function f(s,c){if(v(s,c),this instanceof f)s=l(i.d,i.n),this.s=i.s,this.n=i.n/s,this.d=i.d/s;else return o(i.s*i.n,i.d)}u(f,"p"),f.DivisionByZero=new Error("Division by Zero"),f.InvalidParameter=new Error("Invalid argument"),f.NonIntegerParameter=new Error("Parameters must be integer"),f.prototype={s:1,n:0,d:1,abs:function(){return o(this.n,this.d)},neg:function(){return o(-this.s*this.n,this.d)},add:function(s,c){return v(s,c),o(this.s*this.n*i.d+i.s*this.d*i.n,this.d*i.d)},sub:function(s,c){return v(s,c),o(this.s*this.n*i.d-i.s*this.d*i.n,this.d*i.d)},mul:function(s,c){return v(s,c),o(this.s*i.s*this.n*i.n,this.d*i.d)},div:function(s,c){return v(s,c),o(this.s*i.s*this.n*i.d,this.d*i.n)},clone:function(){return o(this.s*this.n,this.d)},mod:function(s,c){if(isNaN(this.n)||isNaN(this.d))return new f(NaN);if(s===void 0)return o(this.s*this.n%this.d,1);if(v(s,c),i.n===0&&this.d===0)throw f.DivisionByZero;return o(this.s*(i.d*this.n)%(i.n*this.d),i.d*this.d)},gcd:function(s,c){return v(s,c),o(l(i.n,this.n)*l(i.d,this.d),i.d*this.d)},lcm:function(s,c){return v(s,c),i.n===0&&this.n===0?o(0,1):o(i.n*this.n,l(i.n,this.n)*l(i.d,this.d))},ceil:function(s){return s=Math.pow(10,s||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):o(Math.ceil(s*this.s*this.n/this.d),s)},floor:function(s){return s=Math.pow(10,s||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):o(Math.floor(s*this.s*this.n/this.d),s)},round:function(s){return s=Math.pow(10,s||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):o(Math.round(s*this.s*this.n/this.d),s)},inverse:function(){return o(this.s*this.d,this.n)},pow:function(s,c){if(v(s,c),i.d===1)return i.s<0?o(Math.pow(this.s*this.d,i.n),Math.pow(this.n,i.n)):o(Math.pow(this.s*this.n,i.n),Math.pow(this.d,i.n));if(this.s<0)return null;var p=m(this.n),d=m(this.d),w=1,N=1;for(var M in p)if(M!=="1"){if(M==="0"){w=0;break}if(p[M]*=i.n,p[M]%i.d===0)p[M]/=i.d;else return null;w*=Math.pow(M,p[M])}for(var M in d)if(M!=="1"){if(d[M]*=i.n,d[M]%i.d===0)d[M]/=i.d;else return null;N*=Math.pow(M,d[M])}return i.s<0?o(N,w):o(w,N)},equals:function(s,c){return v(s,c),this.s*this.n*i.d===i.s*i.n*this.d},compare:function(s,c){v(s,c);var p=this.s*this.n*i.d-i.s*i.n*this.d;return(0<p)-(p<0)},simplify:function(s){if(isNaN(this.n)||isNaN(this.d))return this;s=s||.001;for(var c=this.abs(),p=c.toContinued(),d=1;d<p.length;d++){for(var w=o(p[d-1],1),N=d-2;N>=0;N--)w=w.inverse().add(p[N]);if(w.sub(c).abs().valueOf()<s)return w.mul(this.s)}return this},divisible:function(s,c){return v(s,c),!(!(i.n*this.d)||this.n*i.d%(i.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(s){var c,p="",d=this.n,w=this.d;return this.s<0&&(p+="-"),w===1?p+=d:(s&&(c=Math.floor(d/w))>0&&(p+=c,p+=" ",d%=w),p+=d,p+="/",p+=w),p},toLatex:function(s){var c,p="",d=this.n,w=this.d;return this.s<0&&(p+="-"),w===1?p+=d:(s&&(c=Math.floor(d/w))>0&&(p+=c,d%=w),p+="\\frac{",p+=d,p+="}{",p+=w,p+="}"),p},toContinued:function(){var s,c=this.n,p=this.d,d=[];if(isNaN(c)||isNaN(p))return d;do d.push(Math.floor(c/p)),s=c%p,c=p,p=s;while(c!==1);return d},toString:function(s){var c=this.n,p=this.d;if(isNaN(c)||isNaN(p))return"NaN";s=s||15;var d=y(c,p),w=b(c,p,d),N=this.s<0?"-":"";if(N+=c/p|0,c%=p,c*=10,c&&(N+="."),d){for(var M=w;M--;)N+=c/p|0,c%=p,c*=10;N+="(";for(var M=d;M--;)N+=c/p|0,c%=p,c*=10;N+=")"}else for(var M=s;c&&M--;)N+=c/p|0,c%=p,c*=10;return N}},typeof define=="function"&&define.amd?define([],function(){return f}):typeof r=="object"?(Object.defineProperty(f,"__esModule",{value:!0}),f.default=f,f.Fraction=f,t.exports=f):e.Fraction=f})(r)}),Rn=J((r,t)=>{"use strict";var e=u((a=0)=>o=>`\x1B[${38+a};5;${o}m`,"lr"),n=u((a=0)=>(o,m,v)=>`\x1B[${38+a};2;${o};${m};${v}m`,"cr");function i(){let a=new Map,o={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};o.color.gray=o.color.blackBright,o.bgColor.bgGray=o.bgColor.bgBlackBright,o.color.grey=o.color.blackBright,o.bgColor.bgGrey=o.bgColor.bgBlackBright;for(let[m,v]of Object.entries(o)){for(let[h,y]of Object.entries(v))o[h]={open:`\x1B[${y[0]}m`,close:`\x1B[${y[1]}m`},v[h]=o[h],a.set(y[0],y[1]);Object.defineProperty(o,m,{value:v,enumerable:!1})}return Object.defineProperty(o,"codes",{value:a,enumerable:!1}),o.color.close="\x1B[39m",o.bgColor.close="\x1B[49m",o.color.ansi256=e(),o.color.ansi16m=n(),o.bgColor.ansi256=e(10),o.bgColor.ansi16m=n(10),Object.defineProperties(o,{rgbToAnsi256:{value:(m,v,h)=>m===v&&v===h?m<8?16:m>248?231:Math.round((m-8)/247*24)+232:16+36*Math.round(m/255*5)+6*Math.round(v/255*5)+Math.round(h/255*5),enumerable:!1},hexToRgb:{value:m=>{let v=new RegExp("(?<colorString>[a-f\\d]{6}|[a-f\\d]{3})","i").exec(m.toString(16));if(!v)return[0,0,0];let{colorString:h}=v.groups;h.length===3&&(h=h.split("").map(b=>b+b).join(""));let y=Number.parseInt(h,16);return[y>>16&255,y>>8&255,y&255]},enumerable:!1},hexToAnsi256:{value:m=>o.rgbToAnsi256(...o.hexToRgb(m)),enumerable:!1}}),o}u(i,"cn"),Object.defineProperty(t,"exports",{enumerable:!0,get:i})}),Vt=J(r=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.printIteratorEntries=e,r.printIteratorValues=n,r.printListItems=i,r.printObjectProperties=a;var t=u((o,m)=>{let v=Object.keys(o),h=m!==null?v.sort(m):v;return Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(o).forEach(y=>{Object.getOwnPropertyDescriptor(o,y).enumerable&&h.push(y)}),h},"fn");function e(o,m,v,h,y,b,l=": "){let f="",s=0,c=o.next();if(!c.done){f+=m.spacingOuter;let p=v+m.indent;for(;!c.done;){if(f+=p,s++===m.maxWidth){f+="\u2026";break}let d=b(c.value[0],m,p,h,y),w=b(c.value[1],m,p,h,y);f+=d+l+w,c=o.next(),c.done?m.min||(f+=","):f+=`,${m.spacingInner}`}f+=m.spacingOuter+v}return f}u(e,"hn");function n(o,m,v,h,y,b){let l="",f=0,s=o.next();if(!s.done){l+=m.spacingOuter;let c=v+m.indent;for(;!s.done;){if(l+=c,f++===m.maxWidth){l+="\u2026";break}l+=b(s.value,m,c,h,y),s=o.next(),s.done?m.min||(l+=","):l+=`,${m.spacingInner}`}l+=m.spacingOuter+v}return l}u(n,"mn");function i(o,m,v,h,y,b){let l="";if(o.length){l+=m.spacingOuter;let f=v+m.indent;for(let s=0;s<o.length;s++){if(l+=f,s===m.maxWidth){l+="\u2026";break}s in o&&(l+=b(o[s],m,f,h,y)),s<o.length-1?l+=`,${m.spacingInner}`:m.min||(l+=",")}l+=m.spacingOuter+v}return l}u(i,"pn");function a(o,m,v,h,y,b){let l="",f=t(o,m.compareKeys);if(f.length){l+=m.spacingOuter;let s=v+m.indent;for(let c=0;c<f.length;c++){let p=f[c],d=b(p,m,s,h,y),w=b(o[p],m,s,h,y);l+=`${s+d}: ${w}`,c<f.length-1?l+=`,${m.spacingInner}`:m.min||(l+=",")}l+=m.spacingOuter+v}return l}u(a,"dn")}),kn=J(r=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.test=r.serialize=r.default=void 0;var t=Vt(),e=globalThis["jest-symbol-do-not-touch"]||globalThis.Symbol,n=typeof e=="function"&&e.for?e.for("jest.asymmetricMatcher"):1267621,i=" ",a=u((h,y,b,l,f,s)=>{let c=h.toString();if(c==="ArrayContaining"||c==="ArrayNotContaining")return++l>y.maxDepth?`[${c}]`:`${c+i}[${(0,t.printListItems)(h.sample,y,b,l,f,s)}]`;if(c==="ObjectContaining"||c==="ObjectNotContaining")return++l>y.maxDepth?`[${c}]`:`${c+i}{${(0,t.printObjectProperties)(h.sample,y,b,l,f,s)}}`;if(c==="StringMatching"||c==="StringNotMatching"||c==="StringContaining"||c==="StringNotContaining")return c+i+s(h.sample,y,b,l,f);if(typeof h.toAsymmetricMatcher!="function")throw new Error(`Asymmetric matcher ${h.constructor.name} does not implement toAsymmetricMatcher()`);return h.toAsymmetricMatcher()},"pr");r.serialize=a;var o=u(h=>h&&h.$$typeof===n,"dr");r.test=o;var m={serialize:a,test:o},v=m;r.default=v}),Fn=J(r=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.test=r.serialize=r.default=void 0;var t=Vt(),e=" ",n=["DOMStringMap","NamedNodeMap"],i=/^(HTML\w*Collection|NodeList)$/,a=u(b=>n.indexOf(b)!==-1||i.test(b),"xn"),o=u(b=>b&&b.constructor&&!!b.constructor.name&&a(b.constructor.name),"wr");r.test=o;var m=u(b=>b.constructor.name==="NamedNodeMap","En"),v=u((b,l,f,s,c,p)=>{let d=b.constructor.name;return++s>l.maxDepth?`[${d}]`:(l.min?"":d+e)+(n.indexOf(d)!==-1?`{${(0,t.printObjectProperties)(m(b)?Array.from(b).reduce((w,N)=>(w[N.name]=N.value,w),{}):jn({},b),l,f,s,c,p)}}`:`[${(0,t.printListItems)(Array.from(b),l,f,s,c,p)}]`)},"vr");r.serialize=v;var h={serialize:v,test:o},y=h;r.default=y}),Un=J(r=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=t;function t(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}u(t,"On")}),yr=J(r=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.printText=r.printProps=r.printElementAsLeaf=r.printElement=r.printComment=r.printChildren=void 0;var t=e(Un());function e(h){return h&&h.__esModule?h:{default:h}}u(e,"An");var n=u((h,y,b,l,f,s,c)=>{let p=l+b.indent,d=b.colors;return h.map(w=>{let N=y[w],M=c(N,b,p,f,s);return typeof N!="string"&&(M.indexOf(`
`)!==-1&&(M=b.spacingOuter+p+M+b.spacingOuter+l),M=`{${M}}`),`${b.spacingInner+l+d.prop.open+w+d.prop.close}=${d.value.open}${M}${d.value.close}`}).join("")},"_n");r.printProps=n;var i=u((h,y,b,l,f,s)=>h.map(c=>y.spacingOuter+b+(typeof c=="string"?a(c,y):s(c,y,b,l,f))).join(""),"Tn");r.printChildren=i;var a=u((h,y)=>{let b=y.colors.content;return b.open+(0,t.default)(h)+b.close},"Mr");r.printText=a;var o=u((h,y)=>{let b=y.colors.comment;return`${b.open}<!--${(0,t.default)(h)}-->${b.close}`},"Cn");r.printComment=o;var m=u((h,y,b,l,f)=>{let s=l.colors.tag;return`${s.open}<${h}${y&&s.close+y+l.spacingOuter+f+s.open}${b?`>${s.close}${b}${l.spacingOuter}${f}${s.open}</${h}`:`${y&&!l.min?"":" "}/`}>${s.close}`},"Nn");r.printElement=m;var v=u((h,y)=>{let b=y.colors.tag;return`${b.open}<${h}${b.close} \u2026${b.open} />${b.close}`},"$n");r.printElementAsLeaf=v}),qn=J(r=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.test=r.serialize=r.default=void 0;var t=yr(),e=1,n=3,i=8,a=11,o=/^((HTML|SVG)\w*)?Element$/,m=u(p=>{try{return typeof p.hasAttribute=="function"&&p.hasAttribute("is")}catch{return!1}},"Dn"),v=u(p=>{let d=p.constructor.name,{nodeType:w,tagName:N}=p,M=typeof N=="string"&&N.includes("-")||m(p);return w===e&&(o.test(d)||M)||w===n&&d==="Text"||w===i&&d==="Comment"||w===a&&d==="DocumentFragment"},"Rn"),h=u(p=>{var d;return((d=p?.constructor)==null?void 0:d.name)&&v(p)},"Tr");r.test=h;function y(p){return p.nodeType===n}u(y,"Bn");function b(p){return p.nodeType===i}u(b,"Pn");function l(p){return p.nodeType===a}u(l,"Ut");var f=u((p,d,w,N,M,T)=>{if(y(p))return(0,t.printText)(p.data,d);if(b(p))return(0,t.printComment)(p.data,d);let S=l(p)?"DocumentFragment":p.tagName.toLowerCase();return++N>d.maxDepth?(0,t.printElementAsLeaf)(S,d):(0,t.printElement)(S,(0,t.printProps)(l(p)?[]:Array.from(p.attributes).map(O=>O.name).sort(),l(p)?{}:Array.from(p.attributes).reduce((O,x)=>(O[x.name]=x.value,O),{}),d,w+d.indent,N,M,T),(0,t.printChildren)(Array.prototype.slice.call(p.childNodes||p.children),d,w+d.indent,N,M,T),d,w)},"Cr");r.serialize=f;var s={serialize:f,test:h},c=s;r.default=c}),Ln=J(r=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.test=r.serialize=r.default=void 0;var t=Vt(),e="@@__IMMUTABLE_ITERABLE__@@",n="@@__IMMUTABLE_LIST__@@",i="@@__IMMUTABLE_KEYED__@@",a="@@__IMMUTABLE_MAP__@@",o="@@__IMMUTABLE_ORDERED__@@",m="@@__IMMUTABLE_RECORD__@@",v="@@__IMMUTABLE_SEQ__@@",h="@@__IMMUTABLE_SET__@@",y="@@__IMMUTABLE_STACK__@@",b=u(x=>`Immutable.${x}`,"at"),l=u(x=>`[${x}]`,"wt"),f=" ",s="\u2026",c=u((x,E,$,_,B,D,q)=>++_>E.maxDepth?l(b(q)):`${b(q)+f}{${(0,t.printIteratorEntries)(x.entries(),E,$,_,B,D)}}`,"Qn");function p(x){let E=0;return{next(){if(E<x._keys.length){let $=x._keys[E++];return{done:!1,value:[$,x.get($)]}}return{done:!0,value:void 0}}}}u(p,"Hn");var d=u((x,E,$,_,B,D)=>{let q=b(x._name||"Record");return++_>E.maxDepth?l(q):`${q+f}{${(0,t.printIteratorEntries)(p(x),E,$,_,B,D)}}`},"Kn"),w=u((x,E,$,_,B,D)=>{let q=b("Seq");return++_>E.maxDepth?l(q):x[i]?`${q+f}{${x._iter||x._object?(0,t.printIteratorEntries)(x.entries(),E,$,_,B,D):s}}`:`${q+f}[${x._iter||x._array||x._collection||x._iterable?(0,t.printIteratorValues)(x.values(),E,$,_,B,D):s}]`},"Xn"),N=u((x,E,$,_,B,D,q)=>++_>E.maxDepth?l(b(q)):`${b(q)+f}[${(0,t.printIteratorValues)(x.values(),E,$,_,B,D)}]`,"jt"),M=u((x,E,$,_,B,D)=>x[a]?c(x,E,$,_,B,D,x[o]?"OrderedMap":"Map"):x[n]?N(x,E,$,_,B,D,"List"):x[h]?N(x,E,$,_,B,D,x[o]?"OrderedSet":"Set"):x[y]?N(x,E,$,_,B,D,"Stack"):x[v]?w(x,E,$,_,B,D):d(x,E,$,_,B,D),"Ir");r.serialize=M;var T=u(x=>x&&(x[e]===!0||x[m]===!0),"Dr");r.test=T;var S={serialize:M,test:T},O=S;r.default=O}),zn=J(r=>{"use strict";var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),m=Symbol.for("react.context"),v=Symbol.for("react.server_context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),l=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),s=Symbol.for("react.offscreen"),c;c=Symbol.for("react.module.reference");function p(d){if(typeof d=="object"&&d!==null){var w=d.$$typeof;switch(w){case t:switch(d=d.type,d){case n:case a:case i:case y:case b:return d;default:switch(d=d&&d.$$typeof,d){case v:case m:case h:case f:case l:case o:return d;default:return w}}case e:return w}}}u(p,"D"),r.ContextConsumer=m,r.ContextProvider=o,r.Element=t,r.ForwardRef=h,r.Fragment=n,r.Lazy=f,r.Memo=l,r.Portal=e,r.Profiler=a,r.StrictMode=i,r.Suspense=y,r.SuspenseList=b,r.isAsyncMode=function(){return!1},r.isConcurrentMode=function(){return!1},r.isContextConsumer=function(d){return p(d)===m},r.isContextProvider=function(d){return p(d)===o},r.isElement=function(d){return typeof d=="object"&&d!==null&&d.$$typeof===t},r.isForwardRef=function(d){return p(d)===h},r.isFragment=function(d){return p(d)===n},r.isLazy=function(d){return p(d)===f},r.isMemo=function(d){return p(d)===l},r.isPortal=function(d){return p(d)===e},r.isProfiler=function(d){return p(d)===a},r.isStrictMode=function(d){return p(d)===i},r.isSuspense=function(d){return p(d)===y},r.isSuspenseList=function(d){return p(d)===b},r.isValidElementType=function(d){return typeof d=="string"||typeof d=="function"||d===n||d===a||d===i||d===y||d===b||d===s||typeof d=="object"&&d!==null&&(d.$$typeof===f||d.$$typeof===l||d.$$typeof===o||d.$$typeof===m||d.$$typeof===h||d.$$typeof===c||d.getModuleId!==void 0)},r.typeOf=p}),Wn=J((r,t)=>{"use strict";t.exports=zn()}),Gn=J(r=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.test=r.serialize=r.default=void 0;var t=i(Wn()),e=yr();function n(l){if(typeof WeakMap!="function")return null;var f=new WeakMap,s=new WeakMap;return(n=u(function(c){return c?s:f},"jr"))(l)}u(n,"jr");function i(l,f){if(!f&&l&&l.__esModule)return l;if(l===null||typeof l!="object"&&typeof l!="function")return{default:l};var s=n(f);if(s&&s.has(l))return s.get(l);var c={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in l)if(d!=="default"&&Object.prototype.hasOwnProperty.call(l,d)){var w=p?Object.getOwnPropertyDescriptor(l,d):null;w&&(w.get||w.set)?Object.defineProperty(c,d,w):c[d]=l[d]}return c.default=l,s&&s.set(l,c),c}u(i,"ei");var a=u((l,f=[])=>(Array.isArray(l)?l.forEach(s=>{a(s,f)}):l!=null&&l!==!1&&f.push(l),f),"Gr"),o=u(l=>{let f=l.type;if(typeof f=="string")return f;if(typeof f=="function")return f.displayName||f.name||"Unknown";if(t.isFragment(l))return"React.Fragment";if(t.isSuspense(l))return"React.Suspense";if(typeof f=="object"&&f!==null){if(t.isContextProvider(l))return"Context.Provider";if(t.isContextConsumer(l))return"Context.Consumer";if(t.isForwardRef(l)){if(f.displayName)return f.displayName;let s=f.render.displayName||f.render.name||"";return s!==""?`ForwardRef(${s})`:"ForwardRef"}if(t.isMemo(l)){let s=f.displayName||f.type.displayName||f.type.name||"";return s!==""?`Memo(${s})`:"Memo"}}return"UNDEFINED"},"Ur"),m=u(l=>{let{props:f}=l;return Object.keys(f).filter(s=>s!=="children"&&f[s]!==void 0).sort()},"ni"),v=u((l,f,s,c,p,d)=>++c>f.maxDepth?(0,e.printElementAsLeaf)(o(l),f):(0,e.printElement)(o(l),(0,e.printProps)(m(l),l.props,f,s+f.indent,c,p,d),(0,e.printChildren)(a(l.props.children),f,s+f.indent,c,p,d),f,s),"qr");r.serialize=v;var h=u(l=>l!=null&&t.isElement(l),"Lr");r.test=h;var y={serialize:v,test:h},b=y;r.default=b}),Vn=J(r=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.test=r.serialize=r.default=void 0;var t=yr(),e=globalThis["jest-symbol-do-not-touch"]||globalThis.Symbol,n=typeof e=="function"&&e.for?e.for("react.test.json"):245830487,i=u(h=>{let{props:y}=h;return y?Object.keys(y).filter(b=>y[b]!==void 0).sort():[]},"oi"),a=u((h,y,b,l,f,s)=>++l>y.maxDepth?(0,t.printElementAsLeaf)(h.type,y):(0,t.printElement)(h.type,h.props?(0,t.printProps)(i(h),h.props,y,b+y.indent,l,f,s):"",h.children?(0,t.printChildren)(h.children,y,b+y.indent,l,f,s):"",y,b),"Wr");r.serialize=a;var o=u(h=>h&&h.$$typeof===n,"Zr");r.test=o;var m={serialize:a,test:o},v=m;r.default=v}),Kn=J(r=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.DEFAULT_OPTIONS=void 0,r.format=kr,r.plugins=void 0;var t=h(Rn()),e=Vt(),n=h(kn()),i=h(Fn()),a=h(qn()),o=h(Ln()),m=h(Gn()),v=h(Vn());function h(g){return g&&g.__esModule?g:{default:g}}u(h,"tt");var y=Object.prototype.toString,b=Date.prototype.toISOString,l=Error.prototype.toString,f=RegExp.prototype.toString,s=u(g=>typeof g.constructor=="function"&&g.constructor.name||"Object","Vt"),c=u(g=>typeof window<"u"&&g===window,"wi"),p=/^Symbol\((.*)\)(.*)$/,d=/\n/gi,w=class extends Error{static{u(this,"kt")}constructor(g,A){super(g),this.stack=A,this.name=this.constructor.name}};function N(g){return g==="[object Array]"||g==="[object ArrayBuffer]"||g==="[object DataView]"||g==="[object Float32Array]"||g==="[object Float64Array]"||g==="[object Int8Array]"||g==="[object Int16Array]"||g==="[object Int32Array]"||g==="[object Uint8Array]"||g==="[object Uint8ClampedArray]"||g==="[object Uint16Array]"||g==="[object Uint32Array]"}u(N,"Ei");function M(g){return Object.is(g,-0)?"-0":String(g)}u(M,"Si");function T(g){return`${g}n`}u(T,"Mi");function S(g,A){return A?`[Function ${g.name||"anonymous"}]`:"[Function]"}u(S,"Kr");function O(g){return String(g).replace(p,"Symbol($1)")}u(O,"Xr");function x(g){return`[${l.call(g)}]`}u(x,"Yr");function E(g,A,I,P){if(g===!0||g===!1)return`${g}`;if(g===void 0)return"undefined";if(g===null)return"null";let C=typeof g;if(C==="number")return M(g);if(C==="bigint")return T(g);if(C==="string")return P?`"${g.replace(/"|\\/g,"\\$&")}"`:`"${g}"`;if(C==="function")return S(g,A);if(C==="symbol")return O(g);let L=y.call(g);return L==="[object WeakMap]"?"WeakMap {}":L==="[object WeakSet]"?"WeakSet {}":L==="[object Function]"||L==="[object GeneratorFunction]"?S(g,A):L==="[object Symbol]"?O(g):L==="[object Date]"?isNaN(+g)?"Date { NaN }":b.call(g):L==="[object Error]"?x(g):L==="[object RegExp]"?I?f.call(g).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&"):f.call(g):g instanceof Error?x(g):null}u(E,"re");function $(g,A,I,P,C,L){if(C.indexOf(g)!==-1)return"[Circular]";C=C.slice(),C.push(g);let z=++P>A.maxDepth,V=A.min;if(A.callToJSON&&!z&&g.toJSON&&typeof g.toJSON=="function"&&!L)return q(g.toJSON(),A,I,P,C,!0);let gt=y.call(g);return gt==="[object Arguments]"?z?"[Arguments]":`${V?"":"Arguments "}[${(0,e.printListItems)(g,A,I,P,C,q)}]`:N(gt)?z?`[${g.constructor.name}]`:`${V||!A.printBasicPrototype&&g.constructor.name==="Array"?"":`${g.constructor.name} `}[${(0,e.printListItems)(g,A,I,P,C,q)}]`:gt==="[object Map]"?z?"[Map]":`Map {${(0,e.printIteratorEntries)(g.entries(),A,I,P,C,q," => ")}}`:gt==="[object Set]"?z?"[Set]":`Set {${(0,e.printIteratorValues)(g.values(),A,I,P,C,q)}}`:z||c(g)?`[${s(g)}]`:`${V||!A.printBasicPrototype&&s(g)==="Object"?"":`${s(g)} `}{${(0,e.printObjectProperties)(g,A,I,P,C,q)}}`}u($,"ee");function _(g){return g.serialize!=null}u(_,"Oi");function B(g,A,I,P,C,L){let z;try{z=_(g)?g.serialize(A,I,P,C,L,q):g.print(A,V=>q(V,I,P,C,L),V=>{let gt=P+I.indent;return gt+V.replace(d,`
${gt}`)},{edgeSpacing:I.spacingOuter,min:I.min,spacing:I.spacingInner},I.colors)}catch(V){throw new w(V.message,V.stack)}if(typeof z!="string")throw new Error(`pretty-format: Plugin must return type "string" but instead returned "${typeof z}".`);return z}u(B,"ne");function D(g,A){for(let I=0;I<g.length;I++)try{if(g[I].test(A))return g[I]}catch(P){throw new w(P.message,P.stack)}return null}u(D,"ie");function q(g,A,I,P,C,L){let z=D(A.plugins,g);if(z!==null)return B(z,g,A,I,P,C);let V=E(g,A.printFunctionName,A.escapeRegex,A.escapeString);return V!==null?V:$(g,A,I,P,C,L)}u(q,"Q");var fr={comment:"gray",content:"reset",prop:"yellow",tag:"cyan",value:"green"},Pr=Object.keys(fr),mn=u(g=>g,"Ai"),Q=mn({callToJSON:!0,compareKeys:void 0,escapeRegex:!1,escapeString:!0,highlight:!1,indent:2,maxDepth:1/0,maxWidth:1/0,min:!1,plugins:[],printBasicPrototype:!0,printFunctionName:!0,theme:fr});r.DEFAULT_OPTIONS=Q;function gn(g){if(Object.keys(g).forEach(A=>{if(!Object.prototype.hasOwnProperty.call(Q,A))throw new Error(`pretty-format: Unknown option "${A}".`)}),g.min&&g.indent!==void 0&&g.indent!==0)throw new Error('pretty-format: Options "min" and "indent" cannot be used together.');if(g.theme!==void 0){if(g.theme===null)throw new Error('pretty-format: Option "theme" must not be null.');if(typeof g.theme!="object")throw new Error(`pretty-format: Option "theme" must be of type "object" but instead received "${typeof g.theme}".`)}}u(gn,"_i");var bn=u(g=>Pr.reduce((A,I)=>{let P=g.theme&&g.theme[I]!==void 0?g.theme[I]:fr[I],C=P&&t.default[P];if(C&&typeof C.close=="string"&&typeof C.open=="string")A[I]=C;else throw new Error(`pretty-format: Option "theme" has a key "${I}" whose value "${P}" is undefined in ansi-styles.`);return A},Object.create(null)),"Ti"),vn=u(()=>Pr.reduce((g,A)=>(g[A]={close:"",open:""},g),Object.create(null)),"Ci"),jr=u(g=>{var A;return(A=g?.printFunctionName)!=null?A:Q.printFunctionName},"ae"),Br=u(g=>{var A;return(A=g?.escapeRegex)!=null?A:Q.escapeRegex},"oe"),Dr=u(g=>{var A;return(A=g?.escapeString)!=null?A:Q.escapeString},"ue"),Rr=u(g=>{var A,I,P,C,L,z,V;return{callToJSON:(A=g?.callToJSON)!=null?A:Q.callToJSON,colors:g!=null&&g.highlight?bn(g):vn(),compareKeys:typeof g?.compareKeys=="function"||g?.compareKeys===null?g.compareKeys:Q.compareKeys,escapeRegex:Br(g),escapeString:Dr(g),indent:g!=null&&g.min?"":yn((I=g?.indent)!=null?I:Q.indent),maxDepth:(P=g?.maxDepth)!=null?P:Q.maxDepth,maxWidth:(C=g?.maxWidth)!=null?C:Q.maxWidth,min:(L=g?.min)!=null?L:Q.min,plugins:(z=g?.plugins)!=null?z:Q.plugins,printBasicPrototype:(V=g?.printBasicPrototype)!=null?V:!0,printFunctionName:jr(g),spacingInner:g!=null&&g.min?" ":`
`,spacingOuter:g!=null&&g.min?"":`
`}},"Jr");function yn(g){return new Array(g+1).join(" ")}u(yn,"Ni");function kr(g,A){if(A&&(gn(A),A.plugins)){let P=D(A.plugins,g);if(P!==null)return B(P,g,Rr(A),"",0,[])}let I=E(g,jr(A),Br(A),Dr(A));return I!==null?I:$(g,Rr(A),"",0,[])}u(kr,"le");var wn={AsymmetricMatcher:n.default,DOMCollection:i.default,DOMElement:a.default,Immutable:o.default,ReactElement:m.default,ReactTestComponent:v.default};r.plugins=wn;var xn=kr;r.default=xn}),Jn=Gr(Dn());function pr(r,t,e,n){function i(a){return a instanceof e?a:new e(function(o){o(a)})}return u(i,"i"),new(e||(e=Promise))(function(a,o){function m(y){try{h(n.next(y))}catch(b){o(b)}}u(m,"c");function v(y){try{h(n.throw(y))}catch(b){o(b)}}u(v,"m");function h(y){y.done?a(y.value):i(y.value).then(m,v)}u(h,"h"),h((n=n.apply(r,t||[])).next())})}u(pr,"Bt");function dr(r,t){var e={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function m(h){return function(y){return v([h,y])}}function v(h){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return e.label++,{value:h[1],done:!1};case 5:e.label++,i=h[1],h=[0];continue;case 7:h=e.ops.pop(),e.trys.pop();continue;default:if(a=e.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){e=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){e.label=h[1];break}if(h[0]===6&&e.label<a[1]){e.label=a[1],a=h;break}if(a&&e.label<a[2]){e.label=a[2],e.ops.push(h);break}a[2]&&e.ops.pop(),e.trys.pop();continue}h=t.call(r,e)}catch(y){h=[6,y],i=0}finally{n=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}u(dr,"Pt");function Wt(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(m){o={error:m}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(o)throw o.error}}return a}u(Wt,"bt");function wt(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return r.concat(a||Array.prototype.slice.call(t))}u(wt,"Y");var Zn={withStackTrace:!1},Vr=u(function(r,t,e){e===void 0&&(e=Zn);var n=t.isOk()?{type:"Ok",value:t.value}:{type:"Err",value:t.error},i=e.withStackTrace?new Error().stack:void 0;return{data:n,message:r,stack:i}},"ar"),_t=function(){function r(t){this._promise=t}return u(r,"e"),r.fromSafePromise=function(t){var e=t.then(function(n){return new bt(n)});return new r(e)},r.fromPromise=function(t,e){var n=t.then(function(i){return new bt(i)}).catch(function(i){return new yt(e(i))});return new r(n)},r.combine=function(t){return Qn(t)},r.combineWithAllErrors=function(t){return Xn(t)},r.prototype.map=function(t){var e=this;return new r(this._promise.then(function(n){return pr(e,void 0,void 0,function(){var i;return dr(this,function(a){switch(a.label){case 0:return n.isErr()?[2,new yt(n.error)]:(i=bt.bind,[4,t(n.value)]);case 1:return[2,new(i.apply(bt,[void 0,a.sent()]))]}})})}))},r.prototype.mapErr=function(t){var e=this;return new r(this._promise.then(function(n){return pr(e,void 0,void 0,function(){var i;return dr(this,function(a){switch(a.label){case 0:return n.isOk()?[2,new bt(n.value)]:(i=yt.bind,[4,t(n.error)]);case 1:return[2,new(i.apply(yt,[void 0,a.sent()]))]}})})}))},r.prototype.andThen=function(t){return new r(this._promise.then(function(e){if(e.isErr())return new yt(e.error);var n=t(e.value);return n instanceof r?n._promise:n}))},r.prototype.orElse=function(t){var e=this;return new r(this._promise.then(function(n){return pr(e,void 0,void 0,function(){return dr(this,function(i){return n.isErr()?[2,t(n.error)]:[2,new bt(n.value)]})})}))},r.prototype.match=function(t,e){return this._promise.then(function(n){return n.match(t,e)})},r.prototype.unwrapOr=function(t){return this._promise.then(function(e){return e.unwrapOr(t)})},r.prototype.then=function(t,e){return this._promise.then(t,e)},r}(),Lr=u(function(r){return new _t(Promise.resolve(new yt(r)))},"sr"),wo=_t.fromPromise,xo=_t.fromSafePromise,Hn=u(function(r){return function(t){return wt(wt([],Wt(t),!1),[r],!1)}},"on"),Kr=u(function(r){return r.reduce(function(t,e){return t.isOk()?e.isErr()?k(e.error):t.map(Hn(e.value)):t},G([]))},"or"),Qn=u(function(r){return _t.fromSafePromise(Promise.all(r)).andThen(Kr)},"un"),Jr=u(function(r){return r.reduce(function(t,e){return e.isErr()?t.isErr()?k(wt(wt([],Wt(t.error),!1),[e.error],!1)):k([e.error]):t.isErr()?t:G(wt(wt([],Wt(t.value),!1),[e.value],!1))},G([]))},"ur"),Xn=u(function(r){return _t.fromSafePromise(Promise.all(r)).andThen(Jr)},"ln"),Gt;(function(r){function t(i,a){return function(){for(var o=[],m=0;m<arguments.length;m++)o[m]=arguments[m];try{var v=i.apply(void 0,wt([],Wt(o),!1));return G(v)}catch(h){return k(a?a(h):h)}}}u(t,"t"),r.fromThrowable=t;function e(i){return Kr(i)}u(e,"r"),r.combine=e;function n(i){return Jr(i)}u(n,"n"),r.combineWithAllErrors=n})(Gt||(Gt={}));var G=u(function(r){return new bt(r)},"A"),k=u(function(r){return new yt(r)},"S"),bt=function(){function r(t){this.value=t}return u(r,"e"),r.prototype.isOk=function(){return!0},r.prototype.isErr=function(){return!this.isOk()},r.prototype.map=function(t){return G(t(this.value))},r.prototype.mapErr=function(t){return G(this.value)},r.prototype.andThen=function(t){return t(this.value)},r.prototype.orElse=function(t){return G(this.value)},r.prototype.asyncAndThen=function(t){return t(this.value)},r.prototype.asyncMap=function(t){return _t.fromSafePromise(t(this.value))},r.prototype.unwrapOr=function(t){return this.value},r.prototype.match=function(t,e){return t(this.value)},r.prototype._unsafeUnwrap=function(t){return this.value},r.prototype._unsafeUnwrapErr=function(t){throw Vr("Called `_unsafeUnwrapErr` on an Ok",this,t)},r}(),yt=function(){function r(t){this.error=t}return u(r,"e"),r.prototype.isOk=function(){return!1},r.prototype.isErr=function(){return!this.isOk()},r.prototype.map=function(t){return k(this.error)},r.prototype.mapErr=function(t){return k(t(this.error))},r.prototype.andThen=function(t){return k(this.error)},r.prototype.orElse=function(t){return t(this.error)},r.prototype.asyncAndThen=function(t){return Lr(this.error)},r.prototype.asyncMap=function(t){return Lr(this.error)},r.prototype.unwrapOr=function(t){return t},r.prototype.match=function(t,e){return e(this.error)},r.prototype._unsafeUnwrap=function(t){throw Vr("Called `_unsafeUnwrap` on an Err",this,t)},r.prototype._unsafeUnwrapErr=function(t){return this.error},r}(),Eo=Gt.fromThrowable,Yn=Gr(Kn());function Kt(r){let t=ti(r);return new Jn.default(t).valueOf()*Math.PI}u(Kt,"pt");function ti(r){return r.replace(/(\d+)/g,"$1").replace(//g,"1")}u(ti,"Ii");var Zr=[{character:"\xBD",ref:"\xBD",expanded:"1/2",value:.5},{character:"\xBC",ref:"\xBC",expanded:"1/4",value:.25},{character:"\xBE",ref:"\xBE",expanded:"3/4",value:.75},{character:"\u2153",ref:"\u2153",expanded:"1/3",value:.3333333333333333},{character:"\u2154",ref:"\u2154",expanded:"2/3",value:.6666666666666666},{character:"\u2155",ref:"\u2155",expanded:"1/5",value:.2},{character:"\u2156",ref:"\u2156",expanded:"2/5",value:.4},{character:"\u2157",ref:"\u2157",expanded:"3/5",value:.6},{character:"\u2158",ref:"\u2158",expanded:"4/5",value:.8},{character:"\u2159",ref:"\u2159",expanded:"1/6",value:.16666666666666666},{character:"\u215A",ref:"\u215A",expanded:"5/6",value:.8333333333333334},{character:"\u2150",ref:"\u2150",expanded:"1/7",value:.14285714285714285},{character:"\u215B",ref:"\u215B",expanded:"1/8",value:.125},{character:"\u215C",ref:"\u215C",expanded:"3/8",value:.375},{character:"\u215D",ref:"\u215D",expanded:"5/8",value:.625},{character:"\u215E",ref:"\u215E",expanded:"7/8",value:.875},{character:"\u2151",ref:"\u2151",expanded:"1/9",value:.1111111111111111},{character:"\u2152",ref:"\u2152",expanded:"1/10",value:.1}],rt=class et{static{u(this,"U")}static parseFloat(t){if(t.length===0)throw new Error(`Not a number: '${t}'`);if(t[0]==="-")return-et.parseFloat(t.substr(1));if(t[0]==="\u221A")return Math.sqrt(et.parseFloat(t.substr(1)));let e=et.matchUnicodeFraction(i=>i.character===t);if(e!==void 0)return e.value;let n=parseFloat(t);if(isNaN(n))throw new Error(`Not a number: '${t}'`);return n}static simplifyByRounding(t,e){if(t<0)return-et.simplifyByRounding(-t,e);let n=t%1;if(n<=e||1-n<=e)return Math.round(t);let i=et.matchUnicodeFraction(o=>Math.abs(o.value-t)<=e);if(i!==void 0)return i.value;let a=et.matchUnicodeFraction(o=>Math.abs(Math.sqrt(o.value)-t)<=e);return a!==void 0?Math.sqrt(a.value):t}static matchUnicodeFraction(t){for(let e of Zr)if(t(e))return e}constructor(t,e,n,i){this.allowAbbreviation=t,this.maxAbbreviationError=e,this.fixedDigits=n,this.itemSeparator=i}formatFloat(t){return this.allowAbbreviation?this.abbreviateFloat(t,this.maxAbbreviationError,this.fixedDigits):this.fixedDigits!==void 0?t.toFixed(this.fixedDigits):String(t)}abbreviateFloat(t,e=0,n=void 0){if(Math.abs(t)<e)return"0";if(t<0)return`-${this.abbreviateFloat(-t,e,n)}`;let i=et.matchUnicodeFraction(o=>Math.abs(o.value-t)<=e);if(i!==void 0)return i.character;let a=et.matchUnicodeFraction(o=>Math.abs(Math.sqrt(o.value)-t)<=e);return a!==void 0?`\u221A${a.character}`:t%1!==0&&n!==void 0?t.toFixed(n):t.toString()}};rt.CONSISTENT=new rt(!1,0,2,", "),rt.EXACT=new rt(!0,0,void 0,", "),rt.MINIFIED=new rt(!0,0,void 0,","),rt.SIMPLIFIED=new rt(!0,5e-4,3,", ");var ri=rt,zr=class gr{static{u(this,"Qt")}static matchUnicodeFraction(t){for(let e of Zr)if(t(e))return e}constructor(t,e,n,i=", "){this.allowAbbreviation=t,this.maxAbbreviationError=e,this.fixedDigits=n,this.itemSeparator=i}format(t){return this.allowAbbreviation?this.abbreviateNumber(t,this.maxAbbreviationError,this.fixedDigits):this.fixedDigits!==void 0?t.toFixed(this.fixedDigits):String(t)}abbreviateNumber(t,e=0,n=void 0){if(Math.abs(t)<e)return"0";if(t<0)return`-${this.abbreviateNumber(-t,e,n)}`;let i=gr.matchUnicodeFraction(o=>Math.abs(o.value-t)<=e);if(i!==void 0)return i.character;let a=gr.matchUnicodeFraction(o=>Math.abs(Math.sqrt(o.value)-t)<=e);return a!==void 0?`\u221A${a.character}`:t%1!==0&&n!==void 0?t.toFixed(n):t.toString()}},jt={allowAbbreviation:!0,maxAbbreviationError:0,fixedDigits:void 0},vt=class R{static{u(this,"O")}constructor(t,e){this.isEqualTo=this.eq.bind(this),this.isApproximatelyEqualTo=this.nearlyEq.bind(this),this.conj=this.conjugate.bind(this),this.plus=this.add.bind(this),this.subtract=this.sub.bind(this),this.minus=this.sub.bind(this),this.multiply=this.mult.bind(this),this.times=this.mult.bind(this),this.dividedBy=this.div.bind(this),this.magnitude=this.abs.bind(this),this.norm2=this.abs2.bind(this),this.angle=this.arg.bind(this),this.phase=this.arg.bind(this),this.real=t,this.imag=e,this.isApproximatelyEqualTo=this.nearlyEq,this.isEqualTo=this.eq,this.conj=this.conjugate,this.plus=this.add,this.subtract=this.sub,this.minus=this.sub,this.multiply=this.mult,this.times=this.mult,this.dividedBy=this.div,this.magnitude=this.abs,this.norm2=this.abs2,this.angle=this.arg,this.phase=this.arg}static from(t){return typeof t=="number"?new R(t,0):t}static real(t){return typeof t=="number"?t:t.real}static imag(t){return typeof t=="number"?0:t.imag}static polar(t,e){let[n,i]=this.cosAndSin(e);return new R(t*n,t*i)}static cosAndSin(t){let e=Math.PI/4,n=Math.round(t/e);if(n*e===t){let i=Math.sqrt(.5);return[[1,0],[i,i],[0,1],[-i,i],[-1,0],[-i,-i],[0,-1],[i,-i]][n&7]}return[Math.cos(t),Math.sin(t)]}eq(t){return typeof t=="number"?this.real===t&&this.imag===0:t instanceof R?this.real===t.real&&this.imag===t.imag:!1}nearlyEq(t,e){if(typeof t=="number"||t instanceof R){let n=this.sub(R.from(t));return Math.abs(n.real)<=e&&Math.abs(n.imag)<=e&&n.abs()<=e}return!1}conjugate(){return new R(this.real,-this.imag)}neg(){return new R(-this.real,-this.imag)}add(t){let e=R.from(t);return new R(this.real+e.real,this.imag+e.imag)}sub(t){let e=R.from(t);return new R(this.real-e.real,this.imag-e.imag)}mult(t){let e=R.from(t);return new R(this.real*e.real-this.imag*e.imag,this.real*e.imag+this.imag*e.real)}div(t){let e=R.from(t),n=e.abs2();if(n===0)return k(Error("Division by Zero"));let i=this.mult(e.conjugate());return G(new R(i.real/n,i.imag/n))}abs(){return Math.sqrt(this.abs2())}abs2(){return this.real*this.real+this.imag*this.imag}arg(){return Math.atan2(this.imag,this.real)}pow(t){return t===.5&&this.imag===0&&this.real>=0?new R(Math.sqrt(this.real),0):this.eq(R.ZERO)?R.ZERO:this.ln().mult(R.from(t)).exp()}exp(){return R.polar(Math.exp(this.real),this.imag)}format(t=jt){let e=new zr(t.allowAbbreviation===void 0?jt.allowAbbreviation:t.allowAbbreviation,t.maxAbbreviationError||0,t.fixedDigits);return e.allowAbbreviation?this.toStringAllowSingleValue(e):this.toStringBothValues(e)}toString(){let t=new zr(jt.allowAbbreviation,jt.maxAbbreviationError,jt.fixedDigits);return this.toStringAllowSingleValue(t)}ln(){return new R(Math.log(this.abs()),this.arg())}toStringAllowSingleValue(t){if(this.canImagPartBeOmitted(t.maxAbbreviationError))return t.format(this.real);if(this.canRealPartBeOmitted(t.maxAbbreviationError)){let e;return this.isImagFactorCloseToOne(t.maxAbbreviationError)?e="":this.isImagFactorMinusOne(t.maxAbbreviationError)?e="-":e=t.format(this.imag),`${e}i`}return this.toStringBothValues(t)}toStringBothValues(t){let e=this.imag>=0?"+":"-",n=this.canImagFactorBeOmitted(t)?"":t.format(Math.abs(this.imag));return`${(t.allowAbbreviation||t.fixedDigits===void 0||this.real<0?"":"+")+t.format(this.real)+e+n}i`}canRealPartBeOmitted(t){return Math.abs(this.real)<=t}canImagPartBeOmitted(t){return Math.abs(this.imag)<=t}isImagFactorCloseToOne(t){return Math.abs(this.imag-1)<=t}isImagFactorMinusOne(t){return Math.abs(this.imag+1)<=t}canImagFactorBeOmitted(t){return t.allowAbbreviation&&Math.abs(Math.abs(this.imag)-1)<=t.maxAbbreviationError}};vt.ZERO=new vt(0,0),vt.ONE=new vt(1,0),vt.I=new vt(0,1);var H=vt,mr=0,Bt=class extends Error{static{u(this,"et")}constructor(r,t){super(r),this.detailsObj=t,this.name="Error",this.message=r,this.stack=new Error().stack,this.stack!==void 0&&(this.stack=this.stack.replace(/^Error\n\s+at new DetailedError (\S+)\s?\n\s+at /,`
    `)),mr++;try{this.details=mr===1?(0,Yn.format)(this.detailsObj):"(failed to prettyFormat detailsObj due to possibly re-entrancy)"}catch(e){console.error(e),this.details="(failed to prettyFormat detailsObj, see the console for details)"}finally{mr--}}},ei=u(()=>({message:"Parse Error"}),"Di"),Hr=class Qr{static{u(this,"ge")}static need(t,e,n){if(t!==!0){let i=n===void 0?"(not provided)":`[${Array.prototype.slice.call(n).join(", ")}]`,a=`Precondition failed

Message: ${e===void 0?"(not provided)":e}

Args: ${i}`;throw new Error(a)}}static notNull(t){Qr.need(t!=null,"notNull")}static get urlJson(){let t=new URL(location.href,window.location.origin),e=decodeURIComponent(t.pathname),n=e.lastIndexOf("/");return e.substring(n+1)}};Hr.safeJsonParse=Gt.fromThrowable(JSON.parse,ei);var tt=Hr,ni="Bloch",ii="\u2022",ai="H",oi="Measure",si="P",ui="QFT\u2020",li="QFT",ci="X^\xBD",fi="Rx",hi="Ry",pi="Rz",di="S\u2020",mi="S",gi="\u2026",bi="Swap",vi="T\u2020",yi="T",wi="|0>",xi="|1>",Ei="X",Mi="Y",Oi="Z",Si={allowAbbreviation:!0,maxAbbreviationError:5e-4,fixedDigits:void 0,itemSeparator:", "},F=class W{static{u(this,"e")}constructor(t,e,n){this.plus=this.add.bind(this),this.height=t,this.width=e,this.buffer=n,this.plus=this.add}static rows(t){let e=t.length;if(e===0)return k(Error("rows is empty"));let n=t[0].length;return t[0].length===0?k(Error("rows[0] is empty")):W.build(e,n,(i,a)=>t[i][a])}static column_vector(...t){return W.build(t.length,1,e=>t[e])}static build(t,e,n){let i=new Float64Array(e*t*2);for(let a=0;a<t;a++)for(let o=0;o<e;o++){let m=(a*e+o)*2,v=m+1,h;n?h=H.from(n(a,o)):h=H.from(0),i[m]=h.real,i[v]=h.imag}return W.create(t,e,i)}static create(t,e,n){return e<0?k(Error(`width(${e}) < 0`)):t<0?k(Error(`height(${t}) < 0`)):e*t*2!==n.length?k(Error(`width(${e})*height(${t})*2 !== buffer.length(${n.length})`)):G(new W(t,e,n))}element(t,e){if(t<0||e<0||t>=this.height||e>=this.width)return k(Error("Element out of range"));let n=(this.width*t+e)*2,i=n+1;return G(new H(this.buffer[n],this.buffer[i]))}set(t,e,n){if(t<0||e<0||t>=this.height||e>=this.width)return k(Error("Element out of range"));let i=(this.width*t+e)*2,a=i+1;return this.buffer[i]=n.real,this.buffer[a]=n.imag,G(this)}column(t){if(t<0)return k(Error("colIndex < 0"));if(t>this.width)return k(Error("colIndex > this.width"));let e=[];for(let n=0;n<this.height;n++){let i=this.element(n,t);if(i.isErr())return k(i.error);e.push(i.value)}return G(e)}add(t){if(t.width!==this.width||t.height!==this.height)return k(Error("Incompatible sizes"));let e=new Float64Array(this.buffer.length);for(let n=0;n<e.length;n++)e[n]=this.buffer[n]+t.buffer[n];return G(new W(this.height,this.width,e))}sub(t){if(t.width!==this.width||t.height!==this.height)return k(Error("Incompatible sizes"));let e=new Float64Array(this.buffer.length);for(let n=0;n<e.length;n++)e[n]=this.buffer[n]-t.buffer[n];return G(new W(this.height,this.width,e))}mult(t){return t instanceof W?this.multMatrix(t):G(this.multScalar(t))}applyControlledGate(t,e,n=[],i=[]){let{width:a,height:o,buffer:m}=this;for(let M of n)tt.need(M>=0,"control bit out of range"),tt.need(o>=2<<M,"control bit out of range");for(let M of i)tt.need(M>=0,"anti control bit out of range"),tt.need(o>=2<<M,"anti control bit out of range");let v=n.concat(i).reduce((M,T)=>M|1<<T,0),h=n.reduce((M,T)=>M|1<<T,0);tt.need((h&1<<e)===0,"Matrix.timesQubitOperation: self-controlled"),tt.need(t.width===2&&t.height===2,"Matrix.timesQubitOperation: not 2x2");let[y,b,l,f,s,c,p,d]=t.buffer;tt.need(e>=0,"target bit out of range"),tt.need(o>=2<<e,"target bit out of range");let w=new Float64Array(m),N=0;for(let M=0;M<o;M++){let T=(M&1<<e)!==0,S=(v&M^h)===0;for(let O=0;O<a;O++){if(S&&!T){let x=N+(1<<e)*2*a,E=w[N],$=w[N+1],_=w[x],B=w[x+1];w[N]=E*y-$*b+_*l-B*f,w[N+1]=E*b+$*y+_*f+B*l,w[x]=E*s-$*c+_*p-B*d,w[x+1]=E*c+$*s+_*d+B*p}N+=2}}return W.create(o,a,w)._unsafeUnwrap()}timesQubitOperation(t,e,n){tt.need((n&1<<e)===0,"Matrix.timesQubitOperation: self-controlled"),tt.need(t.width===2&&t.height===2,"Matrix.timesQubitOperation: not 2x2");let{width:i,height:a,buffer:o}=this,[m,v,h,y,b,l,f,s]=t.buffer;tt.need(a>=2<<e,"Matrix.timesQubitOperation: qubit index out of range");let c=new Float64Array(o),p=0;for(let d=0;d<a;d++){let w=(n&d^n)!==0,N=(d&1<<e)!==0;for(let M=0;M<i;M++){if(!w&&!N){let T=p+(1<<e)*2*i,S=c[p],O=c[p+1],x=c[T],E=c[T+1];c[p]=S*m-O*v+x*h-E*y,c[p+1]=S*v+O*m+x*y+E*h,c[T]=S*b-O*l+x*f-E*s,c[T+1]=S*l+O*b+x*s+E*f}p+=2}}return W.create(a,i,c)._unsafeUnwrap()}rows(){return zt(0,this.height-1).map(t=>zt(0,this.width-1).map(e=>this.element(t,e)._unsafeUnwrap()))}isHermitian(t=0){if(this.width!==this.height)return!1;for(let e=0;e<this.width;e++)for(let n=0;n<this.height;n++){let i=(this.width*n+e)*2,a=(this.width*e+n)*2;if(Math.abs(this.buffer[i]-this.buffer[a])>t||Math.abs(this.buffer[i+1]+this.buffer[a+1])>t)return!1}return!0}trace(){let t=0,e=0,n=this.width*2+2;for(let i=0;i<this.buffer.length;i+=n)t+=this.buffer[i],e+=this.buffer[i+1];return new H(t,e)}adjoint(){let t=this.height,e=this.width,n=new Float64Array(t*e*2);for(let i=0;i<e;i++)for(let a=0;a<t;a++){let o=(a*this.width+i)*2,m=(i*t+a)*2;n[m]=this.buffer[o],n[m+1]=-this.buffer[o+1]}return new W(e,t,n)}tensorProduct(t){let e=this.width,n=this.height,i=t.width,a=t.height,o=e*i,m=n*a,v=new Float64Array(o*m*2);for(let h=0;h<n;h++)for(let y=0;y<a;y++)for(let b=0;b<e;b++)for(let l=0;l<i;l++){let f=(h*e+b)*2,s=(y*i+l)*2,c=((h*a+y)*o+(b*i+l))*2,p=this.buffer[f],d=this.buffer[f+1],w=t.buffer[s],N=t.buffer[s+1],M=p*w-d*N,T=p*N+d*w;v[c]=M,v[c+1]=T}return new W(m,o,v)}eq(t){if(this===t)return!0;if(!(t instanceof W))return!1;let e=t;return this.width===e.width&&this.height===e.height&&zt(0,this.buffer.length-1).every(n=>this.buffer[n]===e.buffer[n])}nearlyEq(t,e){return t instanceof W&&this.width===t.width&&this.height===t.height&&Math.sqrt(this.sub(t)._unsafeUnwrap().norm2())<=e}format(t=Si){let e=new ri(t.allowAbbreviation===void 0?!0:t.allowAbbreviation,t.maxAbbreviationError||0,t.fixedDigits,t.itemSeparator||", ");return`{{${this.rows().map(n=>n.map(i=>i.format(e)).join(e.itemSeparator)).join(`}${e.itemSeparator}{`)}}}`}toString(){return this.format()}qubitDensityMatrixToBlochVector(){if(this.width!==2||this.height!==2)throw new Bt("Need a 2x2 density matrix.",this);if(!this.isHermitian(.01))throw new Bt("Density matrix should be Hermitian.",this);if(!this.trace().nearlyEq(1,.01))throw new Bt("Density matrix should have unit trace.",this);let[t,e,n,i,a,o,m,v]=this.buffer,h=a+n,y=o-i,b=t-m;return[h,y,b]}clone(){return new W(this.height,this.width,this.buffer.slice())}norm2(){let t=0;for(let e of this.buffer)t+=e*e;return t}multMatrix(t){if(this.width!==t.height)return k(Error("Incompatible sizes."));let e=t.width,n=this.height,i=this.width,a=new Float64Array(e*n*2);for(let o=0;o<n;o++)for(let m=0;m<e;m++){let v=(o*e+m)*2;for(let h=0;h<i;h++){let y=(o*i+h)*2,b=(h*e+m)*2,l=this.buffer[y],f=this.buffer[y+1],s=t.buffer[b],c=t.buffer[b+1],p=l*s-f*c,d=l*c+s*f;a[v]+=p,a[v+1]+=d}}return G(new W(n,e,a))}multScalar(t){let e=new Float64Array(this.buffer.length),n=H.real(t),i=H.imag(t);for(let a=0;a<e.length;a+=2){let o=this.buffer[a],m=this.buffer[a+1];e[a]=o*n-m*i,e[a+1]=o*i+m*n}return new W(this.height,this.width,e)}},st=H.I,Nt=st.neg(),Ai=F.rows([[1,1],[1,-1]])._unsafeUnwrap().mult(Math.sqrt(.5))._unsafeUnwrap(),Ni=F.rows([[0,1],[1,0]])._unsafeUnwrap(),_i=F.rows([[0,Nt],[st,0]])._unsafeUnwrap(),$i=F.rows([[1,0],[0,-1]])._unsafeUnwrap(),Xr=F.rows([[1,0],[0,st]])._unsafeUnwrap(),Ii=Xr.adjoint(),Yr=F.rows([[1,0],[0,st.times(Math.PI/4).exp()]])._unsafeUnwrap(),Ti=Yr.adjoint();function Ci(r){let t=Kt(r);return F.rows([[1,0],[0,st.times(t).exp()]])._unsafeUnwrap()}u(Ci,"We");var Pi=F.rows([[st.plus(1),Nt.plus(1)],[Nt.plus(1),st.plus(1)]])._unsafeUnwrap().mult(.5)._unsafeUnwrap();function ji(r){let t=Kt(r),e=Math.cos(t/2),n=Math.sin(t/2);return F.rows([[e,Nt.times(n)],[Nt.times(n),e]])._unsafeUnwrap()}u(ji,"Qe");function Bi(r){let t=Kt(r),e=Math.cos(t/2),n=Math.sin(t/2);return F.rows([[e,-n],[n,e]])._unsafeUnwrap()}u(Bi,"He");function Di(r){let t=Kt(r);return F.rows([[Nt.times(t/2).exp(),0],[0,st.times(t/2).exp()]])._unsafeUnwrap()}u(Di,"Ke");var Ri=class br{static{u(this,"e")}constructor(t){this.toWolfram=this.toString.bind(this),typeof t=="string"?/^.*\|.+>$/.test(t)?this.matrix=this.ketstringToMatrix(t):this.matrix=this.bitstringToMatrix(t):this.matrix=t,this.size=this.matrix.height,this.nqubit=Math.log2(this.size),this.toWolfram=this.toString}get bra(){return this.matrix.adjoint()}get ket(){return this.matrix}amplifier(t){return this.matrix.element(t,0)._unsafeUnwrap()}setAmplifier(t,e){let n=this.matrix.set(t,0,e);return n.isErr()?k(Error(n.error.message)):G(this)}blochVector(t){return this.qubitDensityMatrix(t).qubitDensityMatrixToBlochVector()}isApproximatelyEqualTo(t,e){return t instanceof br&&this.matrix.nearlyEq(t.matrix,e)}applyControlledGate(t,e,n=[],i=[]){return this.matrix=this.matrix.applyControlledGate(t,e,n,i),this.matrix}timesQubitOperation(t,e,n){return this.matrix=this.matrix.timesQubitOperation(t,e,n),this.matrix}toString(){return this.matrix.toString()}bitstringToMatrix(t){let e=!1,n="",i=[],a=new Bt("Invalid StateVector bit string",t);for(let o of t.split(""))switch(o){case"0":{if(e)throw a;i.push(F.column_vector(1,0)._unsafeUnwrap());break}case"1":{if(e)throw a;i.push(F.column_vector(0,1)._unsafeUnwrap());break}case"+":{if(e)throw a;i.push(F.column_vector(1,1)._unsafeUnwrap().mult(Math.sqrt(.5))._unsafeUnwrap());break}case"-":{e?n+="-":i.push(F.column_vector(1,-1)._unsafeUnwrap().mult(Math.sqrt(.5))._unsafeUnwrap());break}case"i":{e?n+="i":i.push(F.column_vector(1,new H(0,1))._unsafeUnwrap().mult(Math.sqrt(.5))._unsafeUnwrap());break}case"(":{if(e)throw a;e=!0,n="";break}case")":{if(!e||n!=="-i")throw a;i.push(F.column_vector(1,new H(0,-1))._unsafeUnwrap().mult(Math.sqrt(.5))._unsafeUnwrap()),e=!1;break}default:throw a}if(i.length===0)throw a;return i.reduce((o,m)=>o.tensorProduct(m))}ketstringToMatrix(t){let e=t.match(/^(.*)\|(.+)>$/);if(e===null)throw new Error(`ketString: invalid ket ${t}`);let n=e[1],i=e[2];if(n==="")return this.bitstringToMatrix(i);{let a;if(n==="-")a=-1;else if(n==="i")a=H.I;else if(n==="-i")a=H.I.times(-1);else throw new Error(`ketString: invalid coef ${n}`);let o=new br(i).matrix.mult(a);if(o.isErr())throw new Error(`ketString: invalid ket ${i}`);return o.value}}qubitDensityMatrix(t){if(t<0||t>=this.nqubit)throw new Bt("Qubit index out of range",t);let e=[...Array(Math.log2(this.matrix.height)).keys()].filter(a=>a!==t),n=u((a,o)=>o.sort().reverse().reduce((m,v)=>{let h=m>>v+1;h=h<<v;let y=(1<<v)-1&m;return h|y},a),"n"),i=F.build(2,2)._unsafeUnwrap();for(let a=0;a<this.matrix.height;a++)for(let o=0;o<this.matrix.height;o++){if(!e.every(b=>(a>>b&1)===(o>>b&1)))continue;let m=this.matrix.element(o,0)._unsafeUnwrap().times(this.matrix.element(a,0)._unsafeUnwrap().conjugate());if(m.isEqualTo(0))continue;let v=n(o,e)===0?F.column_vector(1,0)._unsafeUnwrap():F.column_vector(0,1)._unsafeUnwrap(),h=n(a,e)===0?F.rows([[1,0]])._unsafeUnwrap():F.rows([[0,1]])._unsafeUnwrap(),y=v.mult(h)._unsafeUnwrap();i=i.add(y.mult(m)._unsafeUnwrap())._unsafeUnwrap()}return i}};function ki(r,t){return Math.round(r*Math.pow(10,t))/Math.pow(10,t)}u(ki,"Xe");var te=class{static{u(this,"Ye")}constructor(r){this.state=new Ri(r),this.measuredBits={},this.flags={},this.blochVectors={}}runStep(r){this.blochVectors={};for(let t of r)switch(t.type){case ai:if(t.if&&!this.flags[t.if])break;this.h(...t.targets,{controls:t.controls,antiControls:t.antiControls});break;case Ei:if(t.if&&!this.flags[t.if])break;this.x(...t.targets,{controls:t.controls,antiControls:t.antiControls});break;case Mi:if(t.if&&!this.flags[t.if])break;this.y(...t.targets,{controls:t.controls,antiControls:t.antiControls});break;case Oi:if(t.if&&!this.flags[t.if])break;this.z(...t.targets,{controls:t.controls,antiControls:t.antiControls});break;case ci:if(t.if&&!this.flags[t.if])break;this.rnot(...t.targets,{controls:t.controls,antiControls:t.antiControls});break;case mi:{if(t.if&&!this.flags[t.if])break;this.s(...t.targets,{controls:t.controls,antiControls:t.antiControls});break}case di:{if(t.if&&!this.flags[t.if])break;this.sDagger(...t.targets,{controls:t.controls,antiControls:t.antiControls});break}case yi:{if(t.if&&!this.flags[t.if])break;this.t(...t.targets,{controls:t.controls,antiControls:t.antiControls});break}case vi:{if(t.if&&!this.flags[t.if])break;this.tDagger(...t.targets,{controls:t.controls,antiControls:t.antiControls});break}case si:{if(!t.angle)throw new Error("angle is not set");if(t.if&&!this.flags[t.if])break;this.phase(t.angle,...t.targets,{controls:t.controls,antiControls:t.antiControls});break}case fi:if(!t.angle)throw new Error("angle is not set");if(t.if&&!this.flags[t.if])break;this.rx(t.angle,...t.targets,{controls:t.controls,antiControls:t.antiControls});break;case hi:if(!t.angle)throw new Error("angle is not set");if(t.if&&!this.flags[t.if])break;this.ry(t.angle,...t.targets,{controls:t.controls,antiControls:t.antiControls});break;case pi:if(!t.angle)throw new Error("angle is not set");if(t.if&&!this.flags[t.if])break;this.rz(t.angle,...t.targets,{controls:t.controls,antiControls:t.antiControls});break;case bi:{this.swap(t.targets[0],t.targets[1],{controls:t.controls});break}case ii:{this.z(t.targets[0],{controls:t.targets.slice(1)});break}case ni:for(let e of t.targets)this.blochDisplay(e);break;case wi:this.write(0,...t.targets);break;case xi:this.write(1,...t.targets);break;case oi:for(let e of t.targets)this.measure(e),t.flag&&(this.flags[t.flag]=this.measuredBits[e]===1);break;case gi:break;case li:this.qft(t.span,...t.targets);break;case ui:this.qftDagger(t.span,...t.targets);break;default:throw new Error("Unknown instruction")}return this}h(...r){let{targets:t,controlOptions:e}=this.processGateArgs(r);return this.cu(Ai,t,e),this}x(...r){let{targets:t,controlOptions:e}=this.processGateArgs(r);return this.cu(Ni,t,e),this}y(...r){let{targets:t,controlOptions:e}=this.processGateArgs(r);return this.cu(_i,t,e),this}z(...r){let{targets:t,controlOptions:e}=this.processGateArgs(r);return this.cu($i,t,e),this}rnot(...r){let{targets:t,controlOptions:e}=this.processGateArgs(r);return this.cu(Pi,t,e),this}s(...r){let{targets:t,controlOptions:e}=this.processGateArgs(r);return this.cu(Xr,t,e),this}sDagger(...r){let{targets:t,controlOptions:e}=this.processGateArgs(r);return this.cu(Ii,t,e),this}t(...r){let{targets:t,controlOptions:e}=this.processGateArgs(r);return this.cu(Yr,t,e),this}tDagger(...r){let{targets:t,controlOptions:e}=this.processGateArgs(r);return this.cu(Ti,t,e),this}phase(r,...t){let{targets:e,controlOptions:n}=this.processGateArgs(t);return this.cu(Ci(r),e,n),this}rx(r,...t){let{targets:e,controlOptions:n}=this.processGateArgs(t);return this.cu(ji(r),e,n),this}ry(r,...t){let{targets:e,controlOptions:n}=this.processGateArgs(t);return this.cu(Bi(r),e,n),this}rz(r,...t){let{targets:e,controlOptions:n}=this.processGateArgs(t);return this.cu(Di(r),e,n),this}swap(r,t,e){let n=e?.controls||[];return this.x(t,{controls:n.concat([r])}).x(r,{controls:n.concat([t])}).x(t,{controls:n.concat([r])}),this}blochDisplay(r){let[t,e,n]=this.state.blochVector(r);return this.blochVectors[r]={x:t,y:e,z:n},this}write(r,...t){for(let e of t){let n=ki(this.pZero(e),5);(r===0&&n===0||r===1&&n===1)&&this.x(e)}return this}measure(...r){for(let t of r){let e=this.pZero(t);if(Math.random()<=e){for(let n=0;n<1<<this.state.nqubit;n++){n&1<<t&&this.state.setAmplifier(n,H.ZERO);let i=this.state.amplifier(n).div(Math.sqrt(e));if(i.isErr())throw Error(i.error.message);this.state.setAmplifier(n,i.value)}this.measuredBits[t]=0}else{for(let n=0;n<1<<this.state.nqubit;n++){n&1<<t||this.state.setAmplifier(n,H.ZERO);let i=this.state.amplifier(n).div(Math.sqrt(1-e));if(i.isErr())throw Error(i.error.message);this.state.setAmplifier(n,i.value)}this.measuredBits[t]=1}}return this}qft(r,...t){for(let e of t)this.qftSingleTargetBit(r,e);return this}qftDagger(r,...t){for(let e of t)this.qftDaggerSingleTargetBit(r,e);return this}qftSingleTargetBit(r,t){for(let e=0;e<r;e++){this.h(t+e);for(let n=1;n<r-e;n++)this.phase(`\u03C0/${2**n}`,t+e,{controls:[t+e+n]})}return this}qftDaggerSingleTargetBit(r,t){for(let e=r-1;e>=0;e--){for(let n=r-e-1;n>0;n--)this.phase(`-\u03C0/${2**n}`,t+e,{controls:[t+e+n]});this.h(t+e)}return this}processGateArgs(r){let t=typeof r[r.length-1]=="object"?r.pop():{};return{targets:r,controlOptions:t}}cu(r,t,e){for(let n of t)this.state.applyControlledGate(r,n,e.controls,e.antiControls)}pZero(r){let t=0;for(let e=0;e<1<<this.state.nqubit;e++)e&1<<r||(t+=Math.pow(this.state.amplifier(e).abs(),2));return t}};var ho=Fr(ee());function xr(r,t,e,n){function i(a){return a instanceof e?a:new e(function(o){o(a)})}return u(i,"adopt"),new(e||(e=Promise))(function(a,o){function m(y){try{h(n.next(y))}catch(b){o(b)}}u(m,"fulfilled");function v(y){try{h(n.throw(y))}catch(b){o(b)}}u(v,"rejected");function h(y){y.done?a(y.value):i(y.value).then(m,v)}u(h,"step"),h((n=n.apply(r,t||[])).next())})}u(xr,"__awaiter");function Er(r,t){var e={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function m(h){return function(y){return v([h,y])}}function v(h){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return e.label++,{value:h[1],done:!1};case 5:e.label++,i=h[1],h=[0];continue;case 7:h=e.ops.pop(),e.trys.pop();continue;default:if(a=e.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){e=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){e.label=h[1];break}if(h[0]===6&&e.label<a[1]){e.label=a[1],a=h;break}if(a&&e.label<a[2]){e.label=a[2],e.ops.push(h);break}a[2]&&e.ops.pop(),e.trys.pop();continue}h=t.call(r,e)}catch(y){h=[6,y],i=0}finally{n=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}u(Er,"__generator");function Jt(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(m){o={error:m}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(o)throw o.error}}return a}u(Jt,"__read");function Mt(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return r.concat(a||Array.prototype.slice.call(t))}u(Mt,"__spreadArray");var Fi={withStackTrace:!1},ie=u(function(r,t,e){e===void 0&&(e=Fi);var n=t.isOk()?{type:"Ok",value:t.value}:{type:"Err",value:t.error},i=e.withStackTrace?new Error().stack:void 0;return{data:n,message:r,stack:i}},"createNeverThrowError"),$t=function(){function r(t){this._promise=t}return u(r,"ResultAsync"),r.fromSafePromise=function(t){var e=t.then(function(n){return new xt(n)});return new r(e)},r.fromPromise=function(t,e){var n=t.then(function(i){return new xt(i)}).catch(function(i){return new Et(e(i))});return new r(n)},r.combine=function(t){return qi(t)},r.combineWithAllErrors=function(t){return Li(t)},r.prototype.map=function(t){var e=this;return new r(this._promise.then(function(n){return xr(e,void 0,void 0,function(){var i;return Er(this,function(a){switch(a.label){case 0:return n.isErr()?[2,new Et(n.error)]:(i=xt.bind,[4,t(n.value)]);case 1:return[2,new(i.apply(xt,[void 0,a.sent()]))]}})})}))},r.prototype.mapErr=function(t){var e=this;return new r(this._promise.then(function(n){return xr(e,void 0,void 0,function(){var i;return Er(this,function(a){switch(a.label){case 0:return n.isOk()?[2,new xt(n.value)]:(i=Et.bind,[4,t(n.error)]);case 1:return[2,new(i.apply(Et,[void 0,a.sent()]))]}})})}))},r.prototype.andThen=function(t){return new r(this._promise.then(function(e){if(e.isErr())return new Et(e.error);var n=t(e.value);return n instanceof r?n._promise:n}))},r.prototype.orElse=function(t){var e=this;return new r(this._promise.then(function(n){return xr(e,void 0,void 0,function(){return Er(this,function(i){return n.isErr()?[2,t(n.error)]:[2,new xt(n.value)]})})}))},r.prototype.match=function(t,e){return this._promise.then(function(n){return n.match(t,e)})},r.prototype.unwrapOr=function(t){return this._promise.then(function(e){return e.unwrapOr(t)})},r.prototype.then=function(t,e){return this._promise.then(t,e)},r}();var ne=u(function(r){return new $t(Promise.resolve(new Et(r)))},"errAsync"),Io=$t.fromPromise,To=$t.fromSafePromise,Ui=u(function(r){return function(t){return Mt(Mt([],Jt(t),!1),[r],!1)}},"appendValueToEndOfList"),ae=u(function(r){return r.reduce(function(t,e){return t.isOk()?e.isErr()?it(e.error):t.map(Ui(e.value)):t},nt([]))},"combineResultList"),qi=u(function(r){return $t.fromSafePromise(Promise.all(r)).andThen(ae)},"combineResultAsyncList"),oe=u(function(r){return r.reduce(function(t,e){return e.isErr()?t.isErr()?it(Mt(Mt([],Jt(t.error),!1),[e.error],!1)):it([e.error]):t.isErr()?t:nt(Mt(Mt([],Jt(t.value),!1),[e.value],!1))},nt([]))},"combineResultListWithAllErrors"),Li=u(function(r){return $t.fromSafePromise(Promise.all(r)).andThen(oe)},"combineResultAsyncListWithAllErrors"),Dt;(function(r){function t(i,a){return function(){for(var o=[],m=0;m<arguments.length;m++)o[m]=arguments[m];try{var v=i.apply(void 0,Mt([],Jt(o),!1));return nt(v)}catch(h){return it(a?a(h):h)}}}u(t,"fromThrowable"),r.fromThrowable=t;function e(i){return ae(i)}u(e,"combine"),r.combine=e;function n(i){return oe(i)}u(n,"combineWithAllErrors"),r.combineWithAllErrors=n})(Dt||(Dt={}));var nt=u(function(r){return new xt(r)},"ok"),it=u(function(r){return new Et(r)},"err"),xt=function(){function r(t){this.value=t}return u(r,"Ok"),r.prototype.isOk=function(){return!0},r.prototype.isErr=function(){return!this.isOk()},r.prototype.map=function(t){return nt(t(this.value))},r.prototype.mapErr=function(t){return nt(this.value)},r.prototype.andThen=function(t){return t(this.value)},r.prototype.orElse=function(t){return nt(this.value)},r.prototype.asyncAndThen=function(t){return t(this.value)},r.prototype.asyncMap=function(t){return $t.fromSafePromise(t(this.value))},r.prototype.unwrapOr=function(t){return this.value},r.prototype.match=function(t,e){return t(this.value)},r.prototype._unsafeUnwrap=function(t){return this.value},r.prototype._unsafeUnwrapErr=function(t){throw ie("Called `_unsafeUnwrapErr` on an Ok",this,t)},r}(),Et=function(){function r(t){this.error=t}return u(r,"Err"),r.prototype.isOk=function(){return!1},r.prototype.isErr=function(){return!this.isOk()},r.prototype.map=function(t){return it(this.error)},r.prototype.mapErr=function(t){return it(t(this.error))},r.prototype.andThen=function(t){return it(this.error)},r.prototype.orElse=function(t){return t(this.error)},r.prototype.asyncAndThen=function(t){return ne(this.error)},r.prototype.asyncMap=function(t){return ne(this.error)},r.prototype.unwrapOr=function(t){return t},r.prototype.match=function(t,e){return e(this.error)},r.prototype._unsafeUnwrap=function(t){throw ie("Called `_unsafeUnwrap` on an Err",this,t)},r.prototype._unsafeUnwrapErr=function(t){return this.error},r}(),Co=Dt.fromThrowable;var po=Fr(ln());var fn=[{character:"\xBD",ref:"\xBD",expanded:"1/2",value:.5},{character:"\xBC",ref:"\xBC",expanded:"1/4",value:.25},{character:"\xBE",ref:"\xBE",expanded:"3/4",value:.75},{character:"\u2153",ref:"\u2153",expanded:"1/3",value:.3333333333333333},{character:"\u2154",ref:"\u2154",expanded:"2/3",value:.6666666666666666},{character:"\u2155",ref:"\u2155",expanded:"1/5",value:.2},{character:"\u2156",ref:"\u2156",expanded:"2/5",value:.4},{character:"\u2157",ref:"\u2157",expanded:"3/5",value:.6},{character:"\u2158",ref:"\u2158",expanded:"4/5",value:.8},{character:"\u2159",ref:"\u2159",expanded:"1/6",value:.16666666666666666},{character:"\u215A",ref:"\u215A",expanded:"5/6",value:.8333333333333334},{character:"\u2150",ref:"\u2150",expanded:"1/7",value:.14285714285714285},{character:"\u215B",ref:"\u215B",expanded:"1/8",value:.125},{character:"\u215C",ref:"\u215C",expanded:"3/8",value:.375},{character:"\u215D",ref:"\u215D",expanded:"5/8",value:.625},{character:"\u215E",ref:"\u215E",expanded:"7/8",value:.875},{character:"\u2151",ref:"\u2151",expanded:"1/9",value:.1111111111111111},{character:"\u2152",ref:"\u2152",expanded:"1/10",value:.1}],mt=class ot{static{u(this,"o")}static parseFloat(t){if(t.length===0)throw new Error(`Not a number: '${t}'`);if(t[0]==="-")return-ot.parseFloat(t.substr(1));if(t[0]==="\u221A")return Math.sqrt(ot.parseFloat(t.substr(1)));let e=ot.matchUnicodeFraction(i=>i.character===t);if(e!==void 0)return e.value;let n=parseFloat(t);if(isNaN(n))throw new Error(`Not a number: '${t}'`);return n}static simplifyByRounding(t,e){if(t<0)return-ot.simplifyByRounding(-t,e);let n=t%1;if(n<=e||1-n<=e)return Math.round(t);let i=ot.matchUnicodeFraction(o=>Math.abs(o.value-t)<=e);if(i!==void 0)return i.value;let a=ot.matchUnicodeFraction(o=>Math.abs(Math.sqrt(o.value)-t)<=e);return a!==void 0?Math.sqrt(a.value):t}static matchUnicodeFraction(t){for(let e of fn)if(t(e))return e}constructor(t,e,n,i){this.allowAbbreviation=t,this.maxAbbreviationError=e,this.fixedDigits=n,this.itemSeparator=i}formatFloat(t){return this.allowAbbreviation?this.abbreviateFloat(t,this.maxAbbreviationError,this.fixedDigits):this.fixedDigits!==void 0?t.toFixed(this.fixedDigits):String(t)}abbreviateFloat(t,e=0,n=void 0){if(Math.abs(t)<e)return"0";if(t<0)return`-${this.abbreviateFloat(-t,e,n)}`;let i=ot.matchUnicodeFraction(o=>Math.abs(o.value-t)<=e);if(i!==void 0)return i.character;let a=ot.matchUnicodeFraction(o=>Math.abs(Math.sqrt(o.value)-t)<=e);return a!==void 0?`\u221A${a.character}`:t%1!==0&&n!==void 0?t.toFixed(n):t.toString()}};mt.CONSISTENT=new mt(!1,0,2,", "),mt.EXACT=new mt(!0,0,void 0,", "),mt.MINIFIED=new mt(!0,0,void 0,","),mt.SIMPLIFIED=new mt(!0,5e-4,3,", ");var cn=class Cr{static{u(this,"n")}static matchUnicodeFraction(t){for(let e of fn)if(t(e))return e}constructor(t,e,n,i=", "){this.allowAbbreviation=t,this.maxAbbreviationError=e,this.fixedDigits=n,this.itemSeparator=i}format(t){return this.allowAbbreviation?this.abbreviateNumber(t,this.maxAbbreviationError,this.fixedDigits):this.fixedDigits!==void 0?t.toFixed(this.fixedDigits):String(t)}abbreviateNumber(t,e=0,n=void 0){if(Math.abs(t)<e)return"0";if(t<0)return`-${this.abbreviateNumber(-t,e,n)}`;let i=Cr.matchUnicodeFraction(o=>Math.abs(o.value-t)<=e);if(i!==void 0)return i.character;let a=Cr.matchUnicodeFraction(o=>Math.abs(Math.sqrt(o.value)-t)<=e);return a!==void 0?`\u221A${a.character}`:t%1!==0&&n!==void 0?t.toFixed(n):t.toString()}},qt={allowAbbreviation:!0,maxAbbreviationError:0,fixedDigits:void 0},Pt=class U{static{u(this,"a")}constructor(t,e){this.isEqualTo=this.eq.bind(this),this.isApproximatelyEqualTo=this.nearlyEq.bind(this),this.conj=this.conjugate.bind(this),this.plus=this.add.bind(this),this.subtract=this.sub.bind(this),this.minus=this.sub.bind(this),this.multiply=this.mult.bind(this),this.times=this.mult.bind(this),this.dividedBy=this.div.bind(this),this.magnitude=this.abs.bind(this),this.norm2=this.abs2.bind(this),this.angle=this.arg.bind(this),this.phase=this.arg.bind(this),this.real=t,this.imag=e,this.isApproximatelyEqualTo=this.nearlyEq,this.isEqualTo=this.eq,this.conj=this.conjugate,this.plus=this.add,this.subtract=this.sub,this.minus=this.sub,this.multiply=this.mult,this.times=this.mult,this.dividedBy=this.div,this.magnitude=this.abs,this.norm2=this.abs2,this.angle=this.arg,this.phase=this.arg}static from(t){return typeof t=="number"?new U(t,0):t}static real(t){return typeof t=="number"?t:t.real}static imag(t){return typeof t=="number"?0:t.imag}static polar(t,e){let[n,i]=this.cosAndSin(e);return new U(t*n,t*i)}static cosAndSin(t){let e=Math.PI/4,n=Math.round(t/e);if(n*e===t){let i=Math.sqrt(.5);return[[1,0],[i,i],[0,1],[-i,i],[-1,0],[-i,-i],[0,-1],[i,-i]][n&7]}return[Math.cos(t),Math.sin(t)]}eq(t){return typeof t=="number"?this.real===t&&this.imag===0:t instanceof U?this.real===t.real&&this.imag===t.imag:!1}nearlyEq(t,e){if(typeof t=="number"||t instanceof U){let n=this.sub(U.from(t));return Math.abs(n.real)<=e&&Math.abs(n.imag)<=e&&n.abs()<=e}return!1}conjugate(){return new U(this.real,-this.imag)}neg(){return new U(-this.real,-this.imag)}add(t){let e=U.from(t);return new U(this.real+e.real,this.imag+e.imag)}sub(t){let e=U.from(t);return new U(this.real-e.real,this.imag-e.imag)}mult(t){let e=U.from(t);return new U(this.real*e.real-this.imag*e.imag,this.real*e.imag+this.imag*e.real)}div(t){let e=U.from(t),n=e.abs2();if(n===0)return it(Error("Division by Zero"));let i=this.mult(e.conjugate());return nt(new U(i.real/n,i.imag/n))}abs(){return Math.sqrt(this.abs2())}abs2(){return this.real*this.real+this.imag*this.imag}arg(){return Math.atan2(this.imag,this.real)}pow(t){return t===.5&&this.imag===0&&this.real>=0?new U(Math.sqrt(this.real),0):this.eq(U.ZERO)?U.ZERO:this.ln().mult(U.from(t)).exp()}exp(){return U.polar(Math.exp(this.real),this.imag)}format(t=qt){let e=new cn(t.allowAbbreviation===void 0?qt.allowAbbreviation:t.allowAbbreviation,t.maxAbbreviationError||0,t.fixedDigits);return e.allowAbbreviation?this.toStringAllowSingleValue(e):this.toStringBothValues(e)}toString(){let t=new cn(qt.allowAbbreviation,qt.maxAbbreviationError,qt.fixedDigits);return this.toStringAllowSingleValue(t)}ln(){return new U(Math.log(this.abs()),this.arg())}toStringAllowSingleValue(t){if(this.canImagPartBeOmitted(t.maxAbbreviationError))return t.format(this.real);if(this.canRealPartBeOmitted(t.maxAbbreviationError)){let e;return this.isImagFactorCloseToOne(t.maxAbbreviationError)?e="":this.isImagFactorMinusOne(t.maxAbbreviationError)?e="-":e=t.format(this.imag),`${e}i`}return this.toStringBothValues(t)}toStringBothValues(t){let e=this.imag>=0?"+":"-",n=this.canImagFactorBeOmitted(t)?"":t.format(Math.abs(this.imag));return`${(t.allowAbbreviation||t.fixedDigits===void 0||this.real<0?"":"+")+t.format(this.real)+e+n}i`}canRealPartBeOmitted(t){return Math.abs(this.real)<=t}canImagPartBeOmitted(t){return Math.abs(this.imag)<=t}isImagFactorCloseToOne(t){return Math.abs(this.imag-1)<=t}isImagFactorMinusOne(t){return Math.abs(this.imag+1)<=t}canImagFactorBeOmitted(t){return t.allowAbbreviation&&Math.abs(Math.abs(this.imag)-1)<=t.maxAbbreviationError}};Pt.ZERO=new Pt(0,0),Pt.ONE=new Pt(1,0),Pt.I=new Pt(0,1);var mo=u(()=>({message:"Parse Error"}),"C"),hn=class pn{static{u(this,"d")}static need(t,e,n){if(t!==!0){let i=n===void 0?"(not provided)":`[${Array.prototype.slice.call(n).join(", ")}]`,a=`Precondition failed

Message: ${e===void 0?"(not provided)":e}

Args: ${i}`;throw new Error(a)}}static notNull(t){pn.need(t!=null,"notNull")}static get urlJson(){let t=new URL(location.href,window.location.origin),e=decodeURIComponent(t.pathname),n=e.lastIndexOf("/");return e.substring(n+1)}};hn.safeJsonParse=Dt.fromThrowable(JSON.parse,mo);var Lt=hn;var At={};function go(r){let t=r.data.circuitJson,e=r.data.qubitCount,n=r.data.stepIndex,i=r.data.steps,a=r.data.targets,o=r.data.invalidateCaches,m=new te("0".repeat(e));Lt.notNull(e),Lt.notNull(n),Lt.notNull(i),Lt.notNull(a),(At[t]===void 0||o)&&(At={},At[t]={});for(let[v,h]of i.entries()){let y={};At[t][v]===void 0&&(At[t][v]={});let b=At[t][v];if(b===void 0||b.targets===void 0||b.targets.length<a.length){m.runStep(h);let l=m.state.matrix.clone(),f=Object.assign({},m.blochVectors),s=Object.assign({},m.measuredBits),c=Object.assign({},m.flags);if(At[t][v]={type:"step",step:v,amplitudes:l,targets:a,blochVectors:f,measuredBits:s,flags:c},v===n){let p=dn(a,l);y={type:"step",step:v,amplitudes:p,blochVectors:f,measuredBits:s,flags:c}}else y={type:"step",step:v,amplitudes:[],blochVectors:f,measuredBits:s,flags:c}}else y={type:"step",step:v,amplitudes:[],blochVectors:b.blochVectors,measuredBits:b.measuredBits,flags:b.flags},v===n&&(y.amplitudes=dn(a,b.amplitudes));self.postMessage(y)}self.postMessage({type:"finish"})}u(go,"runSimulator");var dn=u((r,t)=>r.reduce((e,n)=>{if(n>=t.height)e[n]=[0,0];else{let i=t.element(n,0).value;e[n]=[i.real,i.imag]}return e},{}),"pickTargetAmplitudes");self.addEventListener("message",go);})();
/*! Bundled license information:

fraction.js/fraction.js:
  (**
   * @license Fraction.js v4.2.0 05/03/2022
   * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
   *
   * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
   * Dual licensed under the MIT or GPL Version 2 licenses.
   **)

react-is/cjs/react-is.production.min.js:
  (**
   * @license React
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/
/*! Bundled license information:

fraction.js/fraction.js:
  (**
   * @license Fraction.js v4.2.0 05/03/2022
   * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
   *
   * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
   * Dual licensed under the MIT or GPL Version 2 licenses.
   **)

react-is/cjs/react-is.production.min.js:
  (**
   * @license React
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/
//# sourceMappingURL=serviceworker.js.map
