"use strict";(()=>{var Pn=Object.create;var he=Object.defineProperty;var Bn=Object.getOwnPropertyDescriptor;var jn=Object.getOwnPropertyNames;var Dn=Object.getPrototypeOf,Rn=Object.prototype.hasOwnProperty;var u=(e,t)=>he(e,"name",{value:t,configurable:!0});var Z=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Fn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of jn(t))!Rn.call(e,i)&&i!==r&&he(e,i,{get:()=>t[i],enumerable:!(n=Bn(t,i))||n.enumerable});return e};var Ue=(e,t,r)=>(r=e!=null?Pn(Dn(e)):{},Fn(t||!e||!e.__esModule?he(r,"default",{value:e,enumerable:!0}):r,e));var pr=Z((xe,hr)=>{(function(e){"use strict";var t=2e3,r={s:1,n:0,d:1};function n(l,f){if(isNaN(l=parseInt(l,10)))throw v.InvalidParameter;return l*f}u(n,"assign");function i(l,f){if(f===0)throw v.DivisionByZero;var o=Object.create(v.prototype);o.s=l<0?-1:1,l=l<0?-l:l;var c=y(l,f);return o.n=l/c,o.d=f/c,o}u(i,"newFraction");function a(l){for(var f={},o=l,c=2,h=4;h<=o;){for(;o%c===0;)o/=c,f[c]=(f[c]||0)+1;h+=1+2*c++}return o!==l?o>1&&(f[o]=(f[o]||0)+1):f[l]=(f[l]||0)+1,f}u(a,"factorize");var s=u(function(l,f){var o=0,c=1,h=1,d=0,w=0,N=0,A=1,T=1,O=0,M=1,x=1,E=1,$=1e7,_;if(l!=null)if(f!==void 0){if(o=l,c=f,h=o*c,o%1!==0||c%1!==0)throw v.NonIntegerParameter}else switch(typeof l){case"object":{if("d"in l&&"n"in l)o=l.n,c=l.d,"s"in l&&(o*=l.s);else if(0 in l)o=l[0],1 in l&&(c=l[1]);else throw v.InvalidParameter;h=o*c;break}case"number":{if(l<0&&(h=l,l=-l),l%1===0)o=l;else if(l>0){for(l>=1&&(T=Math.pow(10,Math.floor(1+Math.log(l)/Math.LN10)),l/=T);M<=$&&E<=$;)if(_=(O+x)/(M+E),l===_){M+E<=$?(o=O+x,c=M+E):E>M?(o=x,c=E):(o=O,c=M);break}else l>_?(O+=x,M+=E):(x+=O,E+=M),M>$?(o=x,c=E):(o=O,c=M);o*=T}else(isNaN(l)||isNaN(f))&&(c=o=NaN);break}case"string":{if(M=l.match(/\d+|./g),M===null)throw v.InvalidParameter;if(M[O]==="-"?(h=-1,O++):M[O]==="+"&&O++,M.length===O+1?w=n(M[O++],h):M[O+1]==="."||M[O]==="."?(M[O]!=="."&&(d=n(M[O++],h)),O++,(O+1===M.length||M[O+1]==="("&&M[O+3]===")"||M[O+1]==="'"&&M[O+3]==="'")&&(w=n(M[O],h),A=Math.pow(10,M[O].length),O++),(M[O]==="("&&M[O+2]===")"||M[O]==="'"&&M[O+2]==="'")&&(N=n(M[O+1],h),T=Math.pow(10,M[O+1].length)-1,O+=3)):M[O+1]==="/"||M[O+1]===":"?(w=n(M[O],h),A=n(M[O+2],1),O+=3):M[O+3]==="/"&&M[O+1]===" "&&(d=n(M[O],h),w=n(M[O+2],h),A=n(M[O+4],1),O+=5),M.length<=O){c=A*T,h=o=N+c*d+T*w;break}}default:throw v.InvalidParameter}if(c===0)throw v.DivisionByZero;r.s=h<0?-1:1,r.n=Math.abs(o),r.d=Math.abs(c)},"parse");function m(l,f,o){for(var c=1;f>0;l=l*l%o,f>>=1)f&1&&(c=c*l%o);return c}u(m,"modpow");function g(l,f){for(;f%2===0;f/=2);for(;f%5===0;f/=5);if(f===1)return 0;for(var o=10%f,c=1;o!==1;c++)if(o=o*10%f,c>t)return 0;return c}u(g,"cycleLen");function p(l,f,o){for(var c=1,h=m(10,o,f),d=0;d<300;d++){if(c===h)return d;c=c*10%f,h=h*10%f}return 0}u(p,"cycleStart");function y(l,f){if(!l)return f;if(!f)return l;for(;;){if(l%=f,!l)return f;if(f%=l,!f)return l}}u(y,"gcd");function v(l,f){if(s(l,f),this instanceof v)l=y(r.d,r.n),this.s=r.s,this.n=r.n/l,this.d=r.d/l;else return i(r.s*r.n,r.d)}u(v,"Fraction"),v.DivisionByZero=new Error("Division by Zero"),v.InvalidParameter=new Error("Invalid argument"),v.NonIntegerParameter=new Error("Parameters must be integer"),v.prototype={s:1,n:0,d:1,abs:function(){return i(this.n,this.d)},neg:function(){return i(-this.s*this.n,this.d)},add:function(l,f){return s(l,f),i(this.s*this.n*r.d+r.s*this.d*r.n,this.d*r.d)},sub:function(l,f){return s(l,f),i(this.s*this.n*r.d-r.s*this.d*r.n,this.d*r.d)},mul:function(l,f){return s(l,f),i(this.s*r.s*this.n*r.n,this.d*r.d)},div:function(l,f){return s(l,f),i(this.s*r.s*this.n*r.d,this.d*r.n)},clone:function(){return i(this.s*this.n,this.d)},mod:function(l,f){if(isNaN(this.n)||isNaN(this.d))return new v(NaN);if(l===void 0)return i(this.s*this.n%this.d,1);if(s(l,f),r.n===0&&this.d===0)throw v.DivisionByZero;return i(this.s*(r.d*this.n)%(r.n*this.d),r.d*this.d)},gcd:function(l,f){return s(l,f),i(y(r.n,this.n)*y(r.d,this.d),r.d*this.d)},lcm:function(l,f){return s(l,f),r.n===0&&this.n===0?i(0,1):i(r.n*this.n,y(r.n,this.n)*y(r.d,this.d))},ceil:function(l){return l=Math.pow(10,l||0),isNaN(this.n)||isNaN(this.d)?new v(NaN):i(Math.ceil(l*this.s*this.n/this.d),l)},floor:function(l){return l=Math.pow(10,l||0),isNaN(this.n)||isNaN(this.d)?new v(NaN):i(Math.floor(l*this.s*this.n/this.d),l)},round:function(l){return l=Math.pow(10,l||0),isNaN(this.n)||isNaN(this.d)?new v(NaN):i(Math.round(l*this.s*this.n/this.d),l)},inverse:function(){return i(this.s*this.d,this.n)},pow:function(l,f){if(s(l,f),r.d===1)return r.s<0?i(Math.pow(this.s*this.d,r.n),Math.pow(this.n,r.n)):i(Math.pow(this.s*this.n,r.n),Math.pow(this.d,r.n));if(this.s<0)return null;var o=a(this.n),c=a(this.d),h=1,d=1;for(var w in o)if(w!=="1"){if(w==="0"){h=0;break}if(o[w]*=r.n,o[w]%r.d===0)o[w]/=r.d;else return null;h*=Math.pow(w,o[w])}for(var w in c)if(w!=="1"){if(c[w]*=r.n,c[w]%r.d===0)c[w]/=r.d;else return null;d*=Math.pow(w,c[w])}return r.s<0?i(d,h):i(h,d)},equals:function(l,f){return s(l,f),this.s*this.n*r.d===r.s*r.n*this.d},compare:function(l,f){s(l,f);var o=this.s*this.n*r.d-r.s*r.n*this.d;return(0<o)-(o<0)},simplify:function(l){if(isNaN(this.n)||isNaN(this.d))return this;l=l||.001;for(var f=this.abs(),o=f.toContinued(),c=1;c<o.length;c++){for(var h=i(o[c-1],1),d=c-2;d>=0;d--)h=h.inverse().add(o[d]);if(h.sub(f).abs().valueOf()<l)return h.mul(this.s)}return this},divisible:function(l,f){return s(l,f),!(!(r.n*this.d)||this.n*r.d%(r.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(l){var f,o="",c=this.n,h=this.d;return this.s<0&&(o+="-"),h===1?o+=c:(l&&(f=Math.floor(c/h))>0&&(o+=f,o+=" ",c%=h),o+=c,o+="/",o+=h),o},toLatex:function(l){var f,o="",c=this.n,h=this.d;return this.s<0&&(o+="-"),h===1?o+=c:(l&&(f=Math.floor(c/h))>0&&(o+=f,c%=h),o+="\\frac{",o+=c,o+="}{",o+=h,o+="}"),o},toContinued:function(){var l,f=this.n,o=this.d,c=[];if(isNaN(f)||isNaN(o))return c;do c.push(Math.floor(f/o)),l=f%o,f=o,o=l;while(f!==1);return c},toString:function(l){var f=this.n,o=this.d;if(isNaN(f)||isNaN(o))return"NaN";l=l||15;var c=g(f,o),h=p(f,o,c),d=this.s<0?"-":"";if(d+=f/o|0,f%=o,f*=10,f&&(d+="."),c){for(var w=h;w--;)d+=f/o|0,f%=o,f*=10;d+="(";for(var w=c;w--;)d+=f/o|0,f%=o,f*=10;d+=")"}else for(var w=l;f&&w--;)d+=f/o|0,f%=o,f*=10;return d}},typeof define=="function"&&define.amd?define([],function(){return v}):typeof xe=="object"?(Object.defineProperty(v,"__esModule",{value:!0}),v.default=v,v.Fraction=v,hr.exports=v):e.Fraction=v})(xe)});var xr=Z((jo,wr)=>{"use strict";var gr=u((e=0)=>t=>`\x1B[${38+e};5;${t}m`,"wrapAnsi256"),yr=u((e=0)=>(t,r,n)=>`\x1B[${38+e};2;${t};${r};${n}m`,"wrapAnsi16m");function zi(){let e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(let[r,n]of Object.entries(t)){for(let[i,a]of Object.entries(n))t[i]={open:`\x1B[${a[0]}m`,close:`\x1B[${a[1]}m`},n[i]=t[i],e.set(a[0],a[1]);Object.defineProperty(t,r,{value:n,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="\x1B[39m",t.bgColor.close="\x1B[49m",t.color.ansi256=gr(),t.color.ansi16m=yr(),t.bgColor.ansi256=gr(10),t.bgColor.ansi16m=yr(10),Object.defineProperties(t,{rgbToAnsi256:{value:(r,n,i)=>r===n&&n===i?r<8?16:r>248?231:Math.round((r-8)/247*24)+232:16+36*Math.round(r/255*5)+6*Math.round(n/255*5)+Math.round(i/255*5),enumerable:!1},hexToRgb:{value:r=>{let n=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(r.toString(16));if(!n)return[0,0,0];let{colorString:i}=n.groups;i.length===3&&(i=i.split("").map(s=>s+s).join(""));let a=Number.parseInt(i,16);return[a>>16&255,a>>8&255,a&255]},enumerable:!1},hexToAnsi256:{value:r=>t.rgbToAnsi256(...t.hexToRgb(r)),enumerable:!1}}),t}u(zi,"assembleStyles");Object.defineProperty(wr,"exports",{enumerable:!0,get:zi})});var Rt=Z(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.printIteratorEntries=Gi;It.printIteratorValues=Vi;It.printListItems=Zi;It.printObjectProperties=Ki;var Wi=u((e,t)=>{let r=Object.keys(e),n=t!==null?r.sort(t):r;return Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(i=>{Object.getOwnPropertyDescriptor(e,i).enumerable&&n.push(i)}),n},"getKeysOfEnumerableProperties");function Gi(e,t,r,n,i,a,s=": "){let m="",g=0,p=e.next();if(!p.done){m+=t.spacingOuter;let y=r+t.indent;for(;!p.done;){if(m+=y,g++===t.maxWidth){m+="\u2026";break}let v=a(p.value[0],t,y,n,i),l=a(p.value[1],t,y,n,i);m+=v+s+l,p=e.next(),p.done?t.min||(m+=","):m+=`,${t.spacingInner}`}m+=t.spacingOuter+r}return m}u(Gi,"printIteratorEntries");function Vi(e,t,r,n,i,a){let s="",m=0,g=e.next();if(!g.done){s+=t.spacingOuter;let p=r+t.indent;for(;!g.done;){if(s+=p,m++===t.maxWidth){s+="\u2026";break}s+=a(g.value,t,p,n,i),g=e.next(),g.done?t.min||(s+=","):s+=`,${t.spacingInner}`}s+=t.spacingOuter+r}return s}u(Vi,"printIteratorValues");function Zi(e,t,r,n,i,a){let s="";if(e.length){s+=t.spacingOuter;let m=r+t.indent;for(let g=0;g<e.length;g++){if(s+=m,g===t.maxWidth){s+="\u2026";break}g in e&&(s+=a(e[g],t,m,n,i)),g<e.length-1?s+=`,${t.spacingInner}`:t.min||(s+=",")}s+=t.spacingOuter+r}return s}u(Zi,"printListItems");function Ki(e,t,r,n,i,a){let s="",m=Wi(e,t.compareKeys);if(m.length){s+=t.spacingOuter;let g=r+t.indent;for(let p=0;p<m.length;p++){let y=m[p],v=a(y,t,g,n,i),l=a(e[y],t,g,n,i);s+=`${g+v}: ${l}`,p<m.length-1?s+=`,${t.spacingInner}`:t.min||(s+=",")}s+=t.spacingOuter+r}return s}u(Ki,"printObjectProperties")});var Ar=Z(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.test=st.serialize=st.default=void 0;var Er=Rt(),Oe=globalThis["jest-symbol-do-not-touch"]||globalThis.Symbol,Ji=typeof Oe=="function"&&Oe.for?Oe.for("jest.asymmetricMatcher"):1267621,Jt=" ",Mr=u((e,t,r,n,i,a)=>{let s=e.toString();if(s==="ArrayContaining"||s==="ArrayNotContaining")return++n>t.maxDepth?`[${s}]`:`${s+Jt}[${(0,Er.printListItems)(e.sample,t,r,n,i,a)}]`;if(s==="ObjectContaining"||s==="ObjectNotContaining")return++n>t.maxDepth?`[${s}]`:`${s+Jt}{${(0,Er.printObjectProperties)(e.sample,t,r,n,i,a)}}`;if(s==="StringMatching"||s==="StringNotMatching"||s==="StringContaining"||s==="StringNotContaining")return s+Jt+a(e.sample,t,r,n,i);if(typeof e.toAsymmetricMatcher!="function")throw new Error(`Asymmetric matcher ${e.constructor.name} does not implement toAsymmetricMatcher()`);return e.toAsymmetricMatcher()},"serialize");st.serialize=Mr;var Or=u(e=>e&&e.$$typeof===Ji,"test");st.test=Or;var Qi={serialize:Mr,test:Or},Hi=Qi;st.default=Hi});var Ir=Z(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.test=ut.serialize=ut.default=void 0;var Sr=Rt(),Xi=" ",Nr=["DOMStringMap","NamedNodeMap"],Yi=/^(HTML\w*Collection|NodeList)$/,ta=u(e=>Nr.indexOf(e)!==-1||Yi.test(e),"testName"),_r=u(e=>e&&e.constructor&&!!e.constructor.name&&ta(e.constructor.name),"test");ut.test=_r;var ea=u(e=>e.constructor.name==="NamedNodeMap","isNamedNodeMap"),$r=u((e,t,r,n,i,a)=>{let s=e.constructor.name;return++n>t.maxDepth?`[${s}]`:(t.min?"":s+Xi)+(Nr.indexOf(s)!==-1?`{${(0,Sr.printObjectProperties)(ea(e)?Array.from(e).reduce((m,g)=>(m[g.name]=g.value,m),{}):{...e},t,r,n,i,a)}}`:`[${(0,Sr.printListItems)(Array.from(e),t,r,n,i,a)}]`)},"serialize");ut.serialize=$r;var ra={serialize:$r,test:_r},na=ra;ut.default=na});var Tr=Z(Ae=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});Ae.default=ia;function ia(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}u(ia,"escapeHTML")});var Qt=Z(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});J.printText=J.printProps=J.printElementAsLeaf=J.printElement=J.printComment=J.printChildren=void 0;var Cr=aa(Tr());function aa(e){return e&&e.__esModule?e:{default:e}}u(aa,"_interopRequireDefault");var oa=u((e,t,r,n,i,a,s)=>{let m=n+r.indent,g=r.colors;return e.map(p=>{let y=t[p],v=s(y,r,m,i,a);return typeof y!="string"&&(v.indexOf(`
`)!==-1&&(v=r.spacingOuter+m+v+r.spacingOuter+n),v=`{${v}}`),`${r.spacingInner+n+g.prop.open+p+g.prop.close}=${g.value.open}${v}${g.value.close}`}).join("")},"printProps");J.printProps=oa;var sa=u((e,t,r,n,i,a)=>e.map(s=>t.spacingOuter+r+(typeof s=="string"?Pr(s,t):a(s,t,r,n,i))).join(""),"printChildren");J.printChildren=sa;var Pr=u((e,t)=>{let r=t.colors.content;return r.open+(0,Cr.default)(e)+r.close},"printText");J.printText=Pr;var ua=u((e,t)=>{let r=t.colors.comment;return`${r.open}<!--${(0,Cr.default)(e)}-->${r.close}`},"printComment");J.printComment=ua;var la=u((e,t,r,n,i)=>{let a=n.colors.tag;return`${a.open}<${e}${t&&a.close+t+n.spacingOuter+i+a.open}${r?`>${a.close}${r}${n.spacingOuter}${i}${a.open}</${e}`:`${t&&!n.min?"":" "}/`}>${a.close}`},"printElement");J.printElement=la;var ca=u((e,t)=>{let r=t.colors.tag;return`${r.open}<${e}${r.close} \u2026${r.open} />${r.close}`},"printElementAsLeaf");J.printElementAsLeaf=ca});var kr=Z(lt=>{"use strict";Object.defineProperty(lt,"__esModule",{value:!0});lt.test=lt.serialize=lt.default=void 0;var Tt=Qt(),fa=1,Br=3,jr=8,Dr=11,ha=/^((HTML|SVG)\w*)?Element$/,pa=u(e=>{try{return typeof e.hasAttribute=="function"&&e.hasAttribute("is")}catch{return!1}},"testHasAttribute"),da=u(e=>{let t=e.constructor.name,{nodeType:r,tagName:n}=e,i=typeof n=="string"&&n.includes("-")||pa(e);return r===fa&&(ha.test(t)||i)||r===Br&&t==="Text"||r===jr&&t==="Comment"||r===Dr&&t==="DocumentFragment"},"testNode"),Rr=u(e=>e?.constructor?.name&&da(e),"test");lt.test=Rr;function ma(e){return e.nodeType===Br}u(ma,"nodeIsText");function ba(e){return e.nodeType===jr}u(ba,"nodeIsComment");function Se(e){return e.nodeType===Dr}u(Se,"nodeIsFragment");var Fr=u((e,t,r,n,i,a)=>{if(ma(e))return(0,Tt.printText)(e.data,t);if(ba(e))return(0,Tt.printComment)(e.data,t);let s=Se(e)?"DocumentFragment":e.tagName.toLowerCase();return++n>t.maxDepth?(0,Tt.printElementAsLeaf)(s,t):(0,Tt.printElement)(s,(0,Tt.printProps)(Se(e)?[]:Array.from(e.attributes).map(m=>m.name).sort(),Se(e)?{}:Array.from(e.attributes).reduce((m,g)=>(m[g.name]=g.value,m),{}),t,r+t.indent,n,i,a),(0,Tt.printChildren)(Array.prototype.slice.call(e.childNodes||e.children),t,r+t.indent,n,i,a),t,r)},"serialize");lt.serialize=Fr;var va={serialize:Fr,test:Rr},ga=va;lt.default=ga});var Wr=Z(ct=>{"use strict";Object.defineProperty(ct,"__esModule",{value:!0});ct.test=ct.serialize=ct.default=void 0;var Ft=Rt(),ya="@@__IMMUTABLE_ITERABLE__@@",wa="@@__IMMUTABLE_LIST__@@",xa="@@__IMMUTABLE_KEYED__@@",Ea="@@__IMMUTABLE_MAP__@@",Ur="@@__IMMUTABLE_ORDERED__@@",Ma="@@__IMMUTABLE_RECORD__@@",Oa="@@__IMMUTABLE_SEQ__@@",Aa="@@__IMMUTABLE_SET__@@",Sa="@@__IMMUTABLE_STACK__@@",Ct=u(e=>`Immutable.${e}`,"getImmutableName"),Ht=u(e=>`[${e}]`,"printAsLeaf"),kt=" ",qr="\u2026",Na=u((e,t,r,n,i,a,s)=>++n>t.maxDepth?Ht(Ct(s)):`${Ct(s)+kt}{${(0,Ft.printIteratorEntries)(e.entries(),t,r,n,i,a)}}`,"printImmutableEntries");function _a(e){let t=0;return{next(){if(t<e._keys.length){let r=e._keys[t++];return{done:!1,value:[r,e.get(r)]}}return{done:!0,value:void 0}}}}u(_a,"getRecordEntries");var $a=u((e,t,r,n,i,a)=>{let s=Ct(e._name||"Record");return++n>t.maxDepth?Ht(s):`${s+kt}{${(0,Ft.printIteratorEntries)(_a(e),t,r,n,i,a)}}`},"printImmutableRecord"),Ia=u((e,t,r,n,i,a)=>{let s=Ct("Seq");return++n>t.maxDepth?Ht(s):e[xa]?`${s+kt}{${e._iter||e._object?(0,Ft.printIteratorEntries)(e.entries(),t,r,n,i,a):qr}}`:`${s+kt}[${e._iter||e._array||e._collection||e._iterable?(0,Ft.printIteratorValues)(e.values(),t,r,n,i,a):qr}]`},"printImmutableSeq"),Ne=u((e,t,r,n,i,a,s)=>++n>t.maxDepth?Ht(Ct(s)):`${Ct(s)+kt}[${(0,Ft.printIteratorValues)(e.values(),t,r,n,i,a)}]`,"printImmutableValues"),Lr=u((e,t,r,n,i,a)=>e[Ea]?Na(e,t,r,n,i,a,e[Ur]?"OrderedMap":"Map"):e[wa]?Ne(e,t,r,n,i,a,"List"):e[Aa]?Ne(e,t,r,n,i,a,e[Ur]?"OrderedSet":"Set"):e[Sa]?Ne(e,t,r,n,i,a,"Stack"):e[Oa]?Ia(e,t,r,n,i,a):$a(e,t,r,n,i,a),"serialize");ct.serialize=Lr;var zr=u(e=>e&&(e[ya]===!0||e[Ma]===!0),"test");ct.test=zr;var Ta={serialize:Lr,test:zr},Ca=Ta;ct.default=Ca});var Vr=Z(B=>{"use strict";var _e=Symbol.for("react.element"),$e=Symbol.for("react.portal"),Xt=Symbol.for("react.fragment"),Yt=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),ee=Symbol.for("react.provider"),re=Symbol.for("react.context"),Pa=Symbol.for("react.server_context"),ne=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),oe=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),Ba=Symbol.for("react.offscreen"),Gr;Gr=Symbol.for("react.module.reference");function H(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case _e:switch(e=e.type,e){case Xt:case te:case Yt:case ie:case ae:return e;default:switch(e=e&&e.$$typeof,e){case Pa:case re:case ne:case se:case oe:case ee:return e;default:return t}}case $e:return t}}}u(H,"v");B.ContextConsumer=re;B.ContextProvider=ee;B.Element=_e;B.ForwardRef=ne;B.Fragment=Xt;B.Lazy=se;B.Memo=oe;B.Portal=$e;B.Profiler=te;B.StrictMode=Yt;B.Suspense=ie;B.SuspenseList=ae;B.isAsyncMode=function(){return!1};B.isConcurrentMode=function(){return!1};B.isContextConsumer=function(e){return H(e)===re};B.isContextProvider=function(e){return H(e)===ee};B.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===_e};B.isForwardRef=function(e){return H(e)===ne};B.isFragment=function(e){return H(e)===Xt};B.isLazy=function(e){return H(e)===se};B.isMemo=function(e){return H(e)===oe};B.isPortal=function(e){return H(e)===$e};B.isProfiler=function(e){return H(e)===te};B.isStrictMode=function(e){return H(e)===Yt};B.isSuspense=function(e){return H(e)===ie};B.isSuspenseList=function(e){return H(e)===ae};B.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Xt||e===te||e===Yt||e===ie||e===ae||e===Ba||typeof e=="object"&&e!==null&&(e.$$typeof===se||e.$$typeof===oe||e.$$typeof===ee||e.$$typeof===re||e.$$typeof===ne||e.$$typeof===Gr||e.getModuleId!==void 0)};B.typeOf=H});var Kr=Z((Yo,Zr)=>{"use strict";Zr.exports=Vr()});var tn=Z(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.test=ft.serialize=ft.default=void 0;var Mt=ja(Kr()),ue=Qt();function Qr(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(Qr=u(function(n){return n?r:t},"_getRequireWildcardCache"))(e)}u(Qr,"_getRequireWildcardCache");function ja(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=Qr(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}u(ja,"_interopRequireWildcard");var Hr=u((e,t=[])=>(Array.isArray(e)?e.forEach(r=>{Hr(r,t)}):e!=null&&e!==!1&&t.push(e),t),"getChildren"),Jr=u(e=>{let t=e.type;if(typeof t=="string")return t;if(typeof t=="function")return t.displayName||t.name||"Unknown";if(Mt.isFragment(e))return"React.Fragment";if(Mt.isSuspense(e))return"React.Suspense";if(typeof t=="object"&&t!==null){if(Mt.isContextProvider(e))return"Context.Provider";if(Mt.isContextConsumer(e))return"Context.Consumer";if(Mt.isForwardRef(e)){if(t.displayName)return t.displayName;let r=t.render.displayName||t.render.name||"";return r!==""?`ForwardRef(${r})`:"ForwardRef"}if(Mt.isMemo(e)){let r=t.displayName||t.type.displayName||t.type.name||"";return r!==""?`Memo(${r})`:"Memo"}}return"UNDEFINED"},"getType"),Da=u(e=>{let{props:t}=e;return Object.keys(t).filter(r=>r!=="children"&&t[r]!==void 0).sort()},"getPropKeys"),Xr=u((e,t,r,n,i,a)=>++n>t.maxDepth?(0,ue.printElementAsLeaf)(Jr(e),t):(0,ue.printElement)(Jr(e),(0,ue.printProps)(Da(e),e.props,t,r+t.indent,n,i,a),(0,ue.printChildren)(Hr(e.props.children),t,r+t.indent,n,i,a),t,r),"serialize");ft.serialize=Xr;var Yr=u(e=>e!=null&&Mt.isElement(e),"test");ft.test=Yr;var Ra={serialize:Xr,test:Yr},Fa=Ra;ft.default=Fa});var nn=Z(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.test=ht.serialize=ht.default=void 0;var le=Qt(),Ie=globalThis["jest-symbol-do-not-touch"]||globalThis.Symbol,ka=typeof Ie=="function"&&Ie.for?Ie.for("react.test.json"):245830487,Ua=u(e=>{let{props:t}=e;return t?Object.keys(t).filter(r=>t[r]!==void 0).sort():[]},"getPropKeys"),en=u((e,t,r,n,i,a)=>++n>t.maxDepth?(0,le.printElementAsLeaf)(e.type,t):(0,le.printElement)(e.type,e.props?(0,le.printProps)(Ua(e),e.props,t,r+t.indent,n,i,a):"",e.children?(0,le.printChildren)(e.children,t,r+t.indent,n,i,a):"",t,r),"serialize");ht.serialize=en;var rn=u(e=>e&&e.$$typeof===ka,"test");ht.test=rn;var qa={serialize:en,test:rn},La=qa;ht.default=La});var wn=Z(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});it.default=it.DEFAULT_OPTIONS=void 0;it.format=yn;it.plugins=void 0;var za=Ot(xr()),Ut=Rt(),Wa=Ot(Ar()),Ga=Ot(Ir()),Va=Ot(kr()),Za=Ot(Wr()),Ka=Ot(tn()),Ja=Ot(nn());function Ot(e){return e&&e.__esModule?e:{default:e}}u(Ot,"_interopRequireDefault");var cn=Object.prototype.toString,Qa=Date.prototype.toISOString,Ha=Error.prototype.toString,an=RegExp.prototype.toString,Te=u(e=>typeof e.constructor=="function"&&e.constructor.name||"Object","getConstructorName"),Xa=u(e=>typeof window<"u"&&e===window,"isWindow"),Ya=/^Symbol\((.*)\)(.*)$/,to=/\n/gi,ce=class extends Error{static{u(this,"PrettyFormatPluginError")}constructor(t,r){super(t),this.stack=r,this.name=this.constructor.name}};function eo(e){return e==="[object Array]"||e==="[object ArrayBuffer]"||e==="[object DataView]"||e==="[object Float32Array]"||e==="[object Float64Array]"||e==="[object Int8Array]"||e==="[object Int16Array]"||e==="[object Int32Array]"||e==="[object Uint8Array]"||e==="[object Uint8ClampedArray]"||e==="[object Uint16Array]"||e==="[object Uint32Array]"}u(eo,"isToStringedArrayType");function ro(e){return Object.is(e,-0)?"-0":String(e)}u(ro,"printNumber");function no(e){return`${e}n`}u(no,"printBigInt");function on(e,t){return t?`[Function ${e.name||"anonymous"}]`:"[Function]"}u(on,"printFunction");function sn(e){return String(e).replace(Ya,"Symbol($1)")}u(sn,"printSymbol");function un(e){return`[${Ha.call(e)}]`}u(un,"printError");function fn(e,t,r,n){if(e===!0||e===!1)return`${e}`;if(e===void 0)return"undefined";if(e===null)return"null";let i=typeof e;if(i==="number")return ro(e);if(i==="bigint")return no(e);if(i==="string")return n?`"${e.replace(/"|\\/g,"\\$&")}"`:`"${e}"`;if(i==="function")return on(e,t);if(i==="symbol")return sn(e);let a=cn.call(e);return a==="[object WeakMap]"?"WeakMap {}":a==="[object WeakSet]"?"WeakSet {}":a==="[object Function]"||a==="[object GeneratorFunction]"?on(e,t):a==="[object Symbol]"?sn(e):a==="[object Date]"?isNaN(+e)?"Date { NaN }":Qa.call(e):a==="[object Error]"?un(e):a==="[object RegExp]"?r?an.call(e).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&"):an.call(e):e instanceof Error?un(e):null}u(fn,"printBasicValue");function hn(e,t,r,n,i,a){if(i.indexOf(e)!==-1)return"[Circular]";i=i.slice(),i.push(e);let s=++n>t.maxDepth,m=t.min;if(t.callToJSON&&!s&&e.toJSON&&typeof e.toJSON=="function"&&!a)return pt(e.toJSON(),t,r,n,i,!0);let g=cn.call(e);return g==="[object Arguments]"?s?"[Arguments]":`${m?"":"Arguments "}[${(0,Ut.printListItems)(e,t,r,n,i,pt)}]`:eo(g)?s?`[${e.constructor.name}]`:`${m||!t.printBasicPrototype&&e.constructor.name==="Array"?"":`${e.constructor.name} `}[${(0,Ut.printListItems)(e,t,r,n,i,pt)}]`:g==="[object Map]"?s?"[Map]":`Map {${(0,Ut.printIteratorEntries)(e.entries(),t,r,n,i,pt," => ")}}`:g==="[object Set]"?s?"[Set]":`Set {${(0,Ut.printIteratorValues)(e.values(),t,r,n,i,pt)}}`:s||Xa(e)?`[${Te(e)}]`:`${m||!t.printBasicPrototype&&Te(e)==="Object"?"":`${Te(e)} `}{${(0,Ut.printObjectProperties)(e,t,r,n,i,pt)}}`}u(hn,"printComplexValue");function io(e){return e.serialize!=null}u(io,"isNewPlugin");function pn(e,t,r,n,i,a){let s;try{s=io(e)?e.serialize(t,r,n,i,a,pt):e.print(t,m=>pt(m,r,n,i,a),m=>{let g=n+r.indent;return g+m.replace(to,`
${g}`)},{edgeSpacing:r.spacingOuter,min:r.min,spacing:r.spacingInner},r.colors)}catch(m){throw new ce(m.message,m.stack)}if(typeof s!="string")throw new Error(`pretty-format: Plugin must return type "string" but instead returned "${typeof s}".`);return s}u(pn,"printPlugin");function dn(e,t){for(let r=0;r<e.length;r++)try{if(e[r].test(t))return e[r]}catch(n){throw new ce(n.message,n.stack)}return null}u(dn,"findPlugin");function pt(e,t,r,n,i,a){let s=dn(t.plugins,e);if(s!==null)return pn(s,e,t,r,n,i);let m=fn(e,t.printFunctionName,t.escapeRegex,t.escapeString);return m!==null?m:hn(e,t,r,n,i,a)}u(pt,"printer");var Ce={comment:"gray",content:"reset",prop:"yellow",tag:"cyan",value:"green"},mn=Object.keys(Ce),ao=u(e=>e,"toOptionsSubtype"),X=ao({callToJSON:!0,compareKeys:void 0,escapeRegex:!1,escapeString:!0,highlight:!1,indent:2,maxDepth:1/0,maxWidth:1/0,min:!1,plugins:[],printBasicPrototype:!0,printFunctionName:!0,theme:Ce});it.DEFAULT_OPTIONS=X;function oo(e){if(Object.keys(e).forEach(t=>{if(!Object.prototype.hasOwnProperty.call(X,t))throw new Error(`pretty-format: Unknown option "${t}".`)}),e.min&&e.indent!==void 0&&e.indent!==0)throw new Error('pretty-format: Options "min" and "indent" cannot be used together.');if(e.theme!==void 0){if(e.theme===null)throw new Error('pretty-format: Option "theme" must not be null.');if(typeof e.theme!="object")throw new Error(`pretty-format: Option "theme" must be of type "object" but instead received "${typeof e.theme}".`)}}u(oo,"validateOptions");var so=u(e=>mn.reduce((t,r)=>{let n=e.theme&&e.theme[r]!==void 0?e.theme[r]:Ce[r],i=n&&za.default[n];if(i&&typeof i.close=="string"&&typeof i.open=="string")t[r]=i;else throw new Error(`pretty-format: Option "theme" has a key "${r}" whose value "${n}" is undefined in ansi-styles.`);return t},Object.create(null)),"getColorsHighlight"),uo=u(()=>mn.reduce((e,t)=>(e[t]={close:"",open:""},e),Object.create(null)),"getColorsEmpty"),bn=u(e=>e?.printFunctionName??X.printFunctionName,"getPrintFunctionName"),vn=u(e=>e?.escapeRegex??X.escapeRegex,"getEscapeRegex"),gn=u(e=>e?.escapeString??X.escapeString,"getEscapeString"),ln=u(e=>({callToJSON:e?.callToJSON??X.callToJSON,colors:e?.highlight?so(e):uo(),compareKeys:typeof e?.compareKeys=="function"||e?.compareKeys===null?e.compareKeys:X.compareKeys,escapeRegex:vn(e),escapeString:gn(e),indent:e?.min?"":lo(e?.indent??X.indent),maxDepth:e?.maxDepth??X.maxDepth,maxWidth:e?.maxWidth??X.maxWidth,min:e?.min??X.min,plugins:e?.plugins??X.plugins,printBasicPrototype:e?.printBasicPrototype??!0,printFunctionName:bn(e),spacingInner:e?.min?" ":`
`,spacingOuter:e?.min?"":`
`}),"getConfig");function lo(e){return new Array(e+1).join(" ")}u(lo,"createIndent");function yn(e,t){if(t&&(oo(t),t.plugins)){let n=dn(t.plugins,e);if(n!==null)return pn(n,e,ln(t),"",0,[])}let r=fn(e,bn(t),vn(t),gn(t));return r!==null?r:hn(e,ln(t),"",0,[])}u(yn,"format");var co={AsymmetricMatcher:Wa.default,DOMCollection:Ga.default,DOMElement:Va.default,Immutable:Za.default,ReactElement:Ka.default,ReactTestComponent:Ja.default};it.plugins=co;var fo=yn;it.default=fo});var kn=u(function(e){return function(t){for(var r=Math.max(0,Math.floor(t)),n=[e(0)],i=1;i<r;i++)n.push(e(i));return n}},"makeBy");var zt=u(function(e,t){return e<=t?kn(function(r){return e+r})(t-e+1):[e]},"range");var Un=Object.create,ye=Object.defineProperty,qn=Object.getOwnPropertyDescriptor,Ln=Object.getOwnPropertyNames,qe=Object.getOwnPropertySymbols,zn=Object.getPrototypeOf,rr=Object.prototype.hasOwnProperty,Wn=Object.prototype.propertyIsEnumerable,Le=u((e,t,r)=>t in e?ye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,"ce"),Gn=u((e,t)=>{for(var r in t||(t={}))rr.call(t,r)&&Le(e,r,t[r]);if(qe)for(var r of qe(t))Wn.call(t,r)&&Le(e,r,t[r]);return e},"he"),K=u((e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),"k"),Vn=u((e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Ln(t))!rr.call(e,i)&&i!==r&&ye(e,i,{get:()=>t[i],enumerable:!(n=qn(t,i))||n.enumerable});return e},"an"),nr=u((e,t,r)=>(r=e!=null?Un(zn(e)):{},Vn(t||!e||!e.__esModule?ye(r,"default",{value:e,enumerable:!0}):r,e)),"me"),Zn=K((e,t)=>{(function(r){"use strict";var n=2e3,i={s:1,n:0,d:1};function a(o,c){if(isNaN(o=parseInt(o,10)))throw f.InvalidParameter;return o*c}u(a,"n");function s(o,c){if(c===0)throw f.DivisionByZero;var h=Object.create(f.prototype);h.s=o<0?-1:1,o=o<0?-o:o;var d=l(o,c);return h.n=o/d,h.d=c/d,h}u(s,"i");function m(o){for(var c={},h=o,d=2,w=4;w<=h;){for(;h%d===0;)h/=d,c[d]=(c[d]||0)+1;w+=1+2*d++}return h!==o?h>1&&(c[h]=(c[h]||0)+1):c[o]=(c[o]||0)+1,c}u(m,"a");var g=u(function(o,c){var h=0,d=1,w=1,N=0,A=0,T=0,O=1,M=1,x=0,E=1,$=1,_=1,j=1e7,D;if(o!=null)if(c!==void 0){if(h=o,d=c,w=h*d,h%1!==0||d%1!==0)throw f.NonIntegerParameter}else switch(typeof o){case"object":{if("d"in o&&"n"in o)h=o.n,d=o.d,"s"in o&&(h*=o.s);else if(0 in o)h=o[0],1 in o&&(d=o[1]);else throw f.InvalidParameter;w=h*d;break}case"number":{if(o<0&&(w=o,o=-o),o%1===0)h=o;else if(o>0){for(o>=1&&(M=Math.pow(10,Math.floor(1+Math.log(o)/Math.LN10)),o/=M);E<=j&&_<=j;)if(D=(x+$)/(E+_),o===D){E+_<=j?(h=x+$,d=E+_):_>E?(h=$,d=_):(h=x,d=E);break}else o>D?(x+=$,E+=_):($+=x,_+=E),E>j?(h=$,d=_):(h=x,d=E);h*=M}else(isNaN(o)||isNaN(c))&&(d=h=NaN);break}case"string":{if(E=o.match(/\d+|./g),E===null)throw f.InvalidParameter;if(E[x]==="-"?(w=-1,x++):E[x]==="+"&&x++,E.length===x+1?A=a(E[x++],w):E[x+1]==="."||E[x]==="."?(E[x]!=="."&&(N=a(E[x++],w)),x++,(x+1===E.length||E[x+1]==="("&&E[x+3]===")"||E[x+1]==="'"&&E[x+3]==="'")&&(A=a(E[x],w),O=Math.pow(10,E[x].length),x++),(E[x]==="("&&E[x+2]===")"||E[x]==="'"&&E[x+2]==="'")&&(T=a(E[x+1],w),M=Math.pow(10,E[x+1].length)-1,x+=3)):E[x+1]==="/"||E[x+1]===":"?(A=a(E[x],w),O=a(E[x+2],1),x+=3):E[x+3]==="/"&&E[x+1]===" "&&(N=a(E[x],w),A=a(E[x+2],w),O=a(E[x+4],1),x+=5),E.length<=x){d=O*M,w=h=T+d*N+M*A;break}}default:throw f.InvalidParameter}if(d===0)throw f.DivisionByZero;i.s=w<0?-1:1,i.n=Math.abs(h),i.d=Math.abs(d)},"s");function p(o,c,h){for(var d=1;c>0;o=o*o%h,c>>=1)c&1&&(d=d*o%h);return d}u(p,"c");function y(o,c){for(;c%2===0;c/=2);for(;c%5===0;c/=5);if(c===1)return 0;for(var h=10%c,d=1;h!==1;d++)if(h=h*10%c,d>n)return 0;return d}u(y,"m");function v(o,c,h){for(var d=1,w=p(10,h,c),N=0;N<300;N++){if(d===w)return N;d=d*10%c,w=w*10%c}return 0}u(v,"h");function l(o,c){if(!o)return c;if(!c)return o;for(;;){if(o%=c,!o)return c;if(c%=o,!c)return o}}u(l,"y");function f(o,c){if(g(o,c),this instanceof f)o=l(i.d,i.n),this.s=i.s,this.n=i.n/o,this.d=i.d/o;else return s(i.s*i.n,i.d)}u(f,"p"),f.DivisionByZero=new Error("Division by Zero"),f.InvalidParameter=new Error("Invalid argument"),f.NonIntegerParameter=new Error("Parameters must be integer"),f.prototype={s:1,n:0,d:1,abs:function(){return s(this.n,this.d)},neg:function(){return s(-this.s*this.n,this.d)},add:function(o,c){return g(o,c),s(this.s*this.n*i.d+i.s*this.d*i.n,this.d*i.d)},sub:function(o,c){return g(o,c),s(this.s*this.n*i.d-i.s*this.d*i.n,this.d*i.d)},mul:function(o,c){return g(o,c),s(this.s*i.s*this.n*i.n,this.d*i.d)},div:function(o,c){return g(o,c),s(this.s*i.s*this.n*i.d,this.d*i.n)},clone:function(){return s(this.s*this.n,this.d)},mod:function(o,c){if(isNaN(this.n)||isNaN(this.d))return new f(NaN);if(o===void 0)return s(this.s*this.n%this.d,1);if(g(o,c),i.n===0&&this.d===0)throw f.DivisionByZero;return s(this.s*(i.d*this.n)%(i.n*this.d),i.d*this.d)},gcd:function(o,c){return g(o,c),s(l(i.n,this.n)*l(i.d,this.d),i.d*this.d)},lcm:function(o,c){return g(o,c),i.n===0&&this.n===0?s(0,1):s(i.n*this.n,l(i.n,this.n)*l(i.d,this.d))},ceil:function(o){return o=Math.pow(10,o||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):s(Math.ceil(o*this.s*this.n/this.d),o)},floor:function(o){return o=Math.pow(10,o||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):s(Math.floor(o*this.s*this.n/this.d),o)},round:function(o){return o=Math.pow(10,o||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):s(Math.round(o*this.s*this.n/this.d),o)},inverse:function(){return s(this.s*this.d,this.n)},pow:function(o,c){if(g(o,c),i.d===1)return i.s<0?s(Math.pow(this.s*this.d,i.n),Math.pow(this.n,i.n)):s(Math.pow(this.s*this.n,i.n),Math.pow(this.d,i.n));if(this.s<0)return null;var h=m(this.n),d=m(this.d),w=1,N=1;for(var A in h)if(A!=="1"){if(A==="0"){w=0;break}if(h[A]*=i.n,h[A]%i.d===0)h[A]/=i.d;else return null;w*=Math.pow(A,h[A])}for(var A in d)if(A!=="1"){if(d[A]*=i.n,d[A]%i.d===0)d[A]/=i.d;else return null;N*=Math.pow(A,d[A])}return i.s<0?s(N,w):s(w,N)},equals:function(o,c){return g(o,c),this.s*this.n*i.d===i.s*i.n*this.d},compare:function(o,c){g(o,c);var h=this.s*this.n*i.d-i.s*i.n*this.d;return(0<h)-(h<0)},simplify:function(o){if(isNaN(this.n)||isNaN(this.d))return this;o=o||.001;for(var c=this.abs(),h=c.toContinued(),d=1;d<h.length;d++){for(var w=s(h[d-1],1),N=d-2;N>=0;N--)w=w.inverse().add(h[N]);if(w.sub(c).abs().valueOf()<o)return w.mul(this.s)}return this},divisible:function(o,c){return g(o,c),!(!(i.n*this.d)||this.n*i.d%(i.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(o){var c,h="",d=this.n,w=this.d;return this.s<0&&(h+="-"),w===1?h+=d:(o&&(c=Math.floor(d/w))>0&&(h+=c,h+=" ",d%=w),h+=d,h+="/",h+=w),h},toLatex:function(o){var c,h="",d=this.n,w=this.d;return this.s<0&&(h+="-"),w===1?h+=d:(o&&(c=Math.floor(d/w))>0&&(h+=c,d%=w),h+="\\frac{",h+=d,h+="}{",h+=w,h+="}"),h},toContinued:function(){var o,c=this.n,h=this.d,d=[];if(isNaN(c)||isNaN(h))return d;do d.push(Math.floor(c/h)),o=c%h,c=h,h=o;while(c!==1);return d},toString:function(o){var c=this.n,h=this.d;if(isNaN(c)||isNaN(h))return"NaN";o=o||15;var d=y(c,h),w=v(c,h,d),N=this.s<0?"-":"";if(N+=c/h|0,c%=h,c*=10,c&&(N+="."),d){for(var A=w;A--;)N+=c/h|0,c%=h,c*=10;N+="(";for(var A=d;A--;)N+=c/h|0,c%=h,c*=10;N+=")"}else for(var A=o;c&&A--;)N+=c/h|0,c%=h,c*=10;return N}},typeof define=="function"&&define.amd?define([],function(){return f}):typeof e=="object"?(Object.defineProperty(f,"__esModule",{value:!0}),f.default=f,f.Fraction=f,t.exports=f):r.Fraction=f})(e)}),Kn=K((e,t)=>{"use strict";var r=u((a=0)=>s=>`\x1B[${38+a};5;${s}m`,"ve"),n=u((a=0)=>(s,m,g)=>`\x1B[${38+a};2;${s};${m};${g}m`,"Se");function i(){let a=new Map,s={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};s.color.gray=s.color.blackBright,s.bgColor.bgGray=s.bgColor.bgBlackBright,s.color.grey=s.color.blackBright,s.bgColor.bgGrey=s.bgColor.bgBlackBright;for(let[m,g]of Object.entries(s)){for(let[p,y]of Object.entries(g))s[p]={open:`\x1B[${y[0]}m`,close:`\x1B[${y[1]}m`},g[p]=s[p],a.set(y[0],y[1]);Object.defineProperty(s,m,{value:g,enumerable:!1})}return Object.defineProperty(s,"codes",{value:a,enumerable:!1}),s.color.close="\x1B[39m",s.bgColor.close="\x1B[49m",s.color.ansi256=r(),s.color.ansi16m=n(),s.bgColor.ansi256=r(10),s.bgColor.ansi16m=n(10),Object.defineProperties(s,{rgbToAnsi256:{value:(m,g,p)=>m===g&&g===p?m<8?16:m>248?231:Math.round((m-8)/247*24)+232:16+36*Math.round(m/255*5)+6*Math.round(g/255*5)+Math.round(p/255*5),enumerable:!1},hexToRgb:{value:m=>{let g=new RegExp("(?<colorString>[a-f\\d]{6}|[a-f\\d]{3})","i").exec(m.toString(16));if(!g)return[0,0,0];let{colorString:p}=g.groups;p.length===3&&(p=p.split("").map(v=>v+v).join(""));let y=Number.parseInt(p,16);return[y>>16&255,y>>8&255,y&255]},enumerable:!1},hexToAnsi256:{value:m=>s.rgbToAnsi256(...s.hexToRgb(m)),enumerable:!1}}),s}u(i,"cn"),Object.defineProperty(t,"exports",{enumerable:!0,get:i})}),Vt=K(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.printIteratorEntries=r,e.printIteratorValues=n,e.printListItems=i,e.printObjectProperties=a;var t=u((s,m)=>{let g=Object.keys(s),p=m!==null?g.sort(m):g;return Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(s).forEach(y=>{Object.getOwnPropertyDescriptor(s,y).enumerable&&p.push(y)}),p},"fn");function r(s,m,g,p,y,v,l=": "){let f="",o=0,c=s.next();if(!c.done){f+=m.spacingOuter;let h=g+m.indent;for(;!c.done;){if(f+=h,o++===m.maxWidth){f+="\u2026";break}let d=v(c.value[0],m,h,p,y),w=v(c.value[1],m,h,p,y);f+=d+l+w,c=s.next(),c.done?m.min||(f+=","):f+=`,${m.spacingInner}`}f+=m.spacingOuter+g}return f}u(r,"hn");function n(s,m,g,p,y,v){let l="",f=0,o=s.next();if(!o.done){l+=m.spacingOuter;let c=g+m.indent;for(;!o.done;){if(l+=c,f++===m.maxWidth){l+="\u2026";break}l+=v(o.value,m,c,p,y),o=s.next(),o.done?m.min||(l+=","):l+=`,${m.spacingInner}`}l+=m.spacingOuter+g}return l}u(n,"mn");function i(s,m,g,p,y,v){let l="";if(s.length){l+=m.spacingOuter;let f=g+m.indent;for(let o=0;o<s.length;o++){if(l+=f,o===m.maxWidth){l+="\u2026";break}o in s&&(l+=v(s[o],m,f,p,y)),o<s.length-1?l+=`,${m.spacingInner}`:m.min||(l+=",")}l+=m.spacingOuter+g}return l}u(i,"pn");function a(s,m,g,p,y,v){let l="",f=t(s,m.compareKeys);if(f.length){l+=m.spacingOuter;let o=g+m.indent;for(let c=0;c<f.length;c++){let h=f[c],d=v(h,m,o,p,y),w=v(s[h],m,o,p,y);l+=`${o+d}: ${w}`,c<f.length-1?l+=`,${m.spacingInner}`:m.min||(l+=",")}l+=m.spacingOuter+g}return l}u(a,"bn")}),Jn=K(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.test=e.serialize=e.default=void 0;var t=Vt(),r=globalThis["jest-symbol-do-not-touch"]||globalThis.Symbol,n=typeof r=="function"&&r.for?r.for("jest.asymmetricMatcher"):1267621,i=" ",a=u((p,y,v,l,f,o)=>{let c=p.toString();if(c==="ArrayContaining"||c==="ArrayNotContaining")return++l>y.maxDepth?`[${c}]`:`${c+i}[${(0,t.printListItems)(p.sample,y,v,l,f,o)}]`;if(c==="ObjectContaining"||c==="ObjectNotContaining")return++l>y.maxDepth?`[${c}]`:`${c+i}{${(0,t.printObjectProperties)(p.sample,y,v,l,f,o)}}`;if(c==="StringMatching"||c==="StringNotMatching"||c==="StringContaining"||c==="StringNotContaining")return c+i+o(p.sample,y,v,l,f);if(typeof p.toAsymmetricMatcher!="function")throw new Error(`Asymmetric matcher ${p.constructor.name} does not implement toAsymmetricMatcher()`);return p.toAsymmetricMatcher()},"_e");e.serialize=a;var s=u(p=>p&&p.$$typeof===n,"Oe");e.test=s;var m={serialize:a,test:s},g=m;e.default=g}),Qn=K(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.test=e.serialize=e.default=void 0;var t=Vt(),r=" ",n=["DOMStringMap","NamedNodeMap"],i=/^(HTML\w*Collection|NodeList)$/,a=u(v=>n.indexOf(v)!==-1||i.test(v),"Sn"),s=u(v=>v&&v.constructor&&!!v.constructor.name&&a(v.constructor.name),"Ce");e.test=s;var m=u(v=>v.constructor.name==="NamedNodeMap","xn"),g=u((v,l,f,o,c,h)=>{let d=v.constructor.name;return++o>l.maxDepth?`[${d}]`:(l.min?"":d+r)+(n.indexOf(d)!==-1?`{${(0,t.printObjectProperties)(m(v)?Array.from(v).reduce((w,N)=>(w[N.name]=N.value,w),{}):Gn({},v),l,f,o,c,h)}}`:`[${(0,t.printListItems)(Array.from(v),l,f,o,c,h)}]`)},"$e");e.serialize=g;var p={serialize:g,test:s},y=p;e.default=y}),Hn=K(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r){return r.replace(/</g,"&lt;").replace(/>/g,"&gt;")}u(t,"_n")}),we=K(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.printText=e.printProps=e.printElementAsLeaf=e.printElement=e.printComment=e.printChildren=void 0;var t=r(Hn());function r(p){return p&&p.__esModule?p:{default:p}}u(r,"On");var n=u((p,y,v,l,f,o,c)=>{let h=l+v.indent,d=v.colors;return p.map(w=>{let N=y[w],A=c(N,v,h,f,o);return typeof N!="string"&&(A.indexOf(`
`)!==-1&&(A=v.spacingOuter+h+A+v.spacingOuter+l),A=`{${A}}`),`${v.spacingInner+l+d.prop.open+w+d.prop.close}=${d.value.open}${A}${d.value.close}`}).join("")},"Tn");e.printProps=n;var i=u((p,y,v,l,f,o)=>p.map(c=>y.spacingOuter+v+(typeof c=="string"?a(c,y):o(c,y,v,l,f))).join(""),"An");e.printChildren=i;var a=u((p,y)=>{let v=y.colors.content;return v.open+(0,t.default)(p)+v.close},"Re");e.printText=a;var s=u((p,y)=>{let v=y.colors.comment;return`${v.open}<!--${(0,t.default)(p)}-->${v.close}`},"Nn");e.printComment=s;var m=u((p,y,v,l,f)=>{let o=l.colors.tag;return`${o.open}<${p}${y&&o.close+y+l.spacingOuter+f+o.open}${v?`>${o.close}${v}${l.spacingOuter}${f}${o.open}</${p}`:`${y&&!l.min?"":" "}/`}>${o.close}`},"Cn");e.printElement=m;var g=u((p,y)=>{let v=y.colors.tag;return`${v.open}<${p}${v.close} \u2026${v.open} />${v.close}`},"$n");e.printElementAsLeaf=g}),Xn=K(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.test=e.serialize=e.default=void 0;var t=we(),r=1,n=3,i=8,a=11,s=/^((HTML|SVG)\w*)?Element$/,m=u(h=>{try{return typeof h.hasAttribute=="function"&&h.hasAttribute("is")}catch{return!1}},"Dn"),g=u(h=>{let d=h.constructor.name,{nodeType:w,tagName:N}=h,A=typeof N=="string"&&N.includes("-")||m(h);return w===r&&(s.test(d)||A)||w===n&&d==="Text"||w===i&&d==="Comment"||w===a&&d==="DocumentFragment"},"Rn"),p=u(h=>{var d;return((d=h?.constructor)==null?void 0:d.name)&&g(h)},"ze");e.test=p;function y(h){return h.nodeType===n}u(y,"Bn");function v(h){return h.nodeType===i}u(v,"Pn");function l(h){return h.nodeType===a}u(l,"qt");var f=u((h,d,w,N,A,T)=>{if(y(h))return(0,t.printText)(h.data,d);if(v(h))return(0,t.printComment)(h.data,d);let O=l(h)?"DocumentFragment":h.tagName.toLowerCase();return++N>d.maxDepth?(0,t.printElementAsLeaf)(O,d):(0,t.printElement)(O,(0,t.printProps)(l(h)?[]:Array.from(h.attributes).map(M=>M.name).sort(),l(h)?{}:Array.from(h.attributes).reduce((M,x)=>(M[x.name]=x.value,M),{}),d,w+d.indent,N,A,T),(0,t.printChildren)(Array.prototype.slice.call(h.childNodes||h.children),d,w+d.indent,N,A,T),d,w)},"Ue");e.serialize=f;var o={serialize:f,test:p},c=o;e.default=c}),Yn=K(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.test=e.serialize=e.default=void 0;var t=Vt(),r="@@__IMMUTABLE_ITERABLE__@@",n="@@__IMMUTABLE_LIST__@@",i="@@__IMMUTABLE_KEYED__@@",a="@@__IMMUTABLE_MAP__@@",s="@@__IMMUTABLE_ORDERED__@@",m="@@__IMMUTABLE_RECORD__@@",g="@@__IMMUTABLE_SEQ__@@",p="@@__IMMUTABLE_SET__@@",y="@@__IMMUTABLE_STACK__@@",v=u(x=>`Immutable.${x}`,"st"),l=u(x=>`[${x}]`,"wt"),f=" ",o="\u2026",c=u((x,E,$,_,j,D,q)=>++_>E.maxDepth?l(v(q)):`${v(q)+f}{${(0,t.printIteratorEntries)(x.entries(),E,$,_,j,D)}}`,"Qn");function h(x){let E=0;return{next(){if(E<x._keys.length){let $=x._keys[E++];return{done:!1,value:[$,x.get($)]}}return{done:!0,value:void 0}}}}u(h,"Kn");var d=u((x,E,$,_,j,D)=>{let q=v(x._name||"Record");return++_>E.maxDepth?l(q):`${q+f}{${(0,t.printIteratorEntries)(h(x),E,$,_,j,D)}}`},"Xn"),w=u((x,E,$,_,j,D)=>{let q=v("Seq");return++_>E.maxDepth?l(q):x[i]?`${q+f}{${x._iter||x._object?(0,t.printIteratorEntries)(x.entries(),E,$,_,j,D):o}}`:`${q+f}[${x._iter||x._array||x._collection||x._iterable?(0,t.printIteratorValues)(x.values(),E,$,_,j,D):o}]`},"Hn"),N=u((x,E,$,_,j,D,q)=>++_>E.maxDepth?l(v(q)):`${v(q)+f}[${(0,t.printIteratorValues)(x.values(),E,$,_,j,D)}]`,"Lt"),A=u((x,E,$,_,j,D)=>x[a]?c(x,E,$,_,j,D,x[s]?"OrderedMap":"Map"):x[n]?N(x,E,$,_,j,D,"List"):x[p]?N(x,E,$,_,j,D,x[s]?"OrderedSet":"Set"):x[y]?N(x,E,$,_,j,D,"Stack"):x[g]?w(x,E,$,_,j,D):d(x,E,$,_,j,D),"Ge");e.serialize=A;var T=u(x=>x&&(x[r]===!0||x[m]===!0),"Ve");e.test=T;var O={serialize:A,test:T},M=O;e.default=M}),ti=K(e=>{"use strict";var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),m=Symbol.for("react.context"),g=Symbol.for("react.server_context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),l=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),o=Symbol.for("react.offscreen"),c;c=Symbol.for("react.module.reference");function h(d){if(typeof d=="object"&&d!==null){var w=d.$$typeof;switch(w){case t:switch(d=d.type,d){case n:case a:case i:case y:case v:return d;default:switch(d=d&&d.$$typeof,d){case g:case m:case p:case f:case l:case s:return d;default:return w}}case r:return w}}}u(h,"D"),e.ContextConsumer=m,e.ContextProvider=s,e.Element=t,e.ForwardRef=p,e.Fragment=n,e.Lazy=f,e.Memo=l,e.Portal=r,e.Profiler=a,e.StrictMode=i,e.Suspense=y,e.SuspenseList=v,e.isAsyncMode=function(){return!1},e.isConcurrentMode=function(){return!1},e.isContextConsumer=function(d){return h(d)===m},e.isContextProvider=function(d){return h(d)===s},e.isElement=function(d){return typeof d=="object"&&d!==null&&d.$$typeof===t},e.isForwardRef=function(d){return h(d)===p},e.isFragment=function(d){return h(d)===n},e.isLazy=function(d){return h(d)===f},e.isMemo=function(d){return h(d)===l},e.isPortal=function(d){return h(d)===r},e.isProfiler=function(d){return h(d)===a},e.isStrictMode=function(d){return h(d)===i},e.isSuspense=function(d){return h(d)===y},e.isSuspenseList=function(d){return h(d)===v},e.isValidElementType=function(d){return typeof d=="string"||typeof d=="function"||d===n||d===a||d===i||d===y||d===v||d===o||typeof d=="object"&&d!==null&&(d.$$typeof===f||d.$$typeof===l||d.$$typeof===s||d.$$typeof===m||d.$$typeof===p||d.$$typeof===c||d.getModuleId!==void 0)},e.typeOf=h}),ei=K((e,t)=>{"use strict";t.exports=ti()}),ri=K(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.test=e.serialize=e.default=void 0;var t=i(ei()),r=we();function n(l){if(typeof WeakMap!="function")return null;var f=new WeakMap,o=new WeakMap;return(n=u(function(c){return c?o:f},"Ye"))(l)}u(n,"Ye");function i(l,f){if(!f&&l&&l.__esModule)return l;if(l===null||typeof l!="object"&&typeof l!="function")return{default:l};var o=n(f);if(o&&o.has(l))return o.get(l);var c={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in l)if(d!=="default"&&Object.prototype.hasOwnProperty.call(l,d)){var w=h?Object.getOwnPropertyDescriptor(l,d):null;w&&(w.get||w.set)?Object.defineProperty(c,d,w):c[d]=l[d]}return c.default=l,o&&o.set(l,c),c}u(i,"ri");var a=u((l,f=[])=>(Array.isArray(l)?l.forEach(o=>{a(o,f)}):l!=null&&l!==!1&&f.push(l),f),"Je"),s=u(l=>{let f=l.type;if(typeof f=="string")return f;if(typeof f=="function")return f.displayName||f.name||"Unknown";if(t.isFragment(l))return"React.Fragment";if(t.isSuspense(l))return"React.Suspense";if(typeof f=="object"&&f!==null){if(t.isContextProvider(l))return"Context.Provider";if(t.isContextConsumer(l))return"Context.Consumer";if(t.isForwardRef(l)){if(f.displayName)return f.displayName;let o=f.render.displayName||f.render.name||"";return o!==""?`ForwardRef(${o})`:"ForwardRef"}if(t.isMemo(l)){let o=f.displayName||f.type.displayName||f.type.name||"";return o!==""?`Memo(${o})`:"Memo"}}return"UNDEFINED"},"He"),m=u(l=>{let{props:f}=l;return Object.keys(f).filter(o=>o!=="children"&&f[o]!==void 0).sort()},"ni"),g=u((l,f,o,c,h,d)=>++c>f.maxDepth?(0,r.printElementAsLeaf)(s(l),f):(0,r.printElement)(s(l),(0,r.printProps)(m(l),l.props,f,o+f.indent,c,h,d),(0,r.printChildren)(a(l.props.children),f,o+f.indent,c,h,d),f,o),"tr");e.serialize=g;var p=u(l=>l!=null&&t.isElement(l),"er");e.test=p;var y={serialize:g,test:p},v=y;e.default=v}),ni=K(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.test=e.serialize=e.default=void 0;var t=we(),r=globalThis["jest-symbol-do-not-touch"]||globalThis.Symbol,n=typeof r=="function"&&r.for?r.for("react.test.json"):245830487,i=u(p=>{let{props:y}=p;return y?Object.keys(y).filter(v=>y[v]!==void 0).sort():[]},"oi"),a=u((p,y,v,l,f,o)=>++l>y.maxDepth?(0,t.printElementAsLeaf)(p.type,y):(0,t.printElement)(p.type,p.props?(0,t.printProps)(i(p),p.props,y,v+y.indent,l,f,o):"",p.children?(0,t.printChildren)(p.children,y,v+y.indent,l,f,o):"",y,v),"nr");e.serialize=a;var s=u(p=>p&&p.$$typeof===n,"ir");e.test=s;var m={serialize:a,test:s},g=m;e.default=g}),ii=K(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.DEFAULT_OPTIONS=void 0,e.format=ke,e.plugins=void 0;var t=p(Kn()),r=Vt(),n=p(Jn()),i=p(Qn()),a=p(Xn()),s=p(Yn()),m=p(ri()),g=p(ni());function p(b){return b&&b.__esModule?b:{default:b}}u(p,"J");var y=Object.prototype.toString,v=Date.prototype.toISOString,l=Error.prototype.toString,f=RegExp.prototype.toString,o=u(b=>typeof b.constructor=="function"&&b.constructor.name||"Object","Zt"),c=u(b=>typeof window<"u"&&b===window,"wi"),h=/^Symbol\((.*)\)(.*)$/,d=/\n/gi,w=class extends Error{static{u(this,"kt")}constructor(b,S){super(b),this.stack=S,this.name=this.constructor.name}};function N(b){return b==="[object Array]"||b==="[object ArrayBuffer]"||b==="[object DataView]"||b==="[object Float32Array]"||b==="[object Float64Array]"||b==="[object Int8Array]"||b==="[object Int16Array]"||b==="[object Int32Array]"||b==="[object Uint8Array]"||b==="[object Uint8ClampedArray]"||b==="[object Uint16Array]"||b==="[object Uint32Array]"}u(N,"xi");function A(b){return Object.is(b,-0)?"-0":String(b)}u(A,"Ei");function T(b){return`${b}n`}u(T,"Mi");function O(b,S){return S?`[Function ${b.name||"anonymous"}]`:"[Function]"}u(O,"or");function M(b){return String(b).replace(h,"Symbol($1)")}u(M,"ur");function x(b){return`[${l.call(b)}]`}u(x,"lr");function E(b,S,I,P){if(b===!0||b===!1)return`${b}`;if(b===void 0)return"undefined";if(b===null)return"null";let C=typeof b;if(C==="number")return A(b);if(C==="bigint")return T(b);if(C==="string")return P?`"${b.replace(/"|\\/g,"\\$&")}"`:`"${b}"`;if(C==="function")return O(b,S);if(C==="symbol")return M(b);let L=y.call(b);return L==="[object WeakMap]"?"WeakMap {}":L==="[object WeakSet]"?"WeakSet {}":L==="[object Function]"||L==="[object GeneratorFunction]"?O(b,S):L==="[object Symbol]"?M(b):L==="[object Date]"?isNaN(+b)?"Date { NaN }":v.call(b):L==="[object Error]"?x(b):L==="[object RegExp]"?I?f.call(b).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&"):f.call(b):b instanceof Error?x(b):null}u(E,"hr");function $(b,S,I,P,C,L){if(C.indexOf(b)!==-1)return"[Circular]";C=C.slice(),C.push(b);let z=++P>S.maxDepth,V=S.min;if(S.callToJSON&&!z&&b.toJSON&&typeof b.toJSON=="function"&&!L)return q(b.toJSON(),S,I,P,C,!0);let mt=y.call(b);return mt==="[object Arguments]"?z?"[Arguments]":`${V?"":"Arguments "}[${(0,r.printListItems)(b,S,I,P,C,q)}]`:N(mt)?z?`[${b.constructor.name}]`:`${V||!S.printBasicPrototype&&b.constructor.name==="Array"?"":`${b.constructor.name} `}[${(0,r.printListItems)(b,S,I,P,C,q)}]`:mt==="[object Map]"?z?"[Map]":`Map {${(0,r.printIteratorEntries)(b.entries(),S,I,P,C,q," => ")}}`:mt==="[object Set]"?z?"[Set]":`Set {${(0,r.printIteratorValues)(b.values(),S,I,P,C,q)}}`:z||c(b)?`[${o(b)}]`:`${V||!S.printBasicPrototype&&o(b)==="Object"?"":`${o(b)} `}{${(0,r.printObjectProperties)(b,S,I,P,C,q)}}`}u($,"mr");function _(b){return b.serialize!=null}u(_,"_i");function j(b,S,I,P,C,L){let z;try{z=_(b)?b.serialize(S,I,P,C,L,q):b.print(S,V=>q(V,I,P,C,L),V=>{let mt=P+I.indent;return mt+V.replace(d,`
${mt}`)},{edgeSpacing:I.spacingOuter,min:I.min,spacing:I.spacingInner},I.colors)}catch(V){throw new w(V.message,V.stack)}if(typeof z!="string")throw new Error(`pretty-format: Plugin must return type "string" but instead returned "${typeof z}".`);return z}u(j,"pr");function D(b,S){for(let I=0;I<b.length;I++)try{if(b[I].test(S))return b[I]}catch(P){throw new w(P.message,P.stack)}return null}u(D,"br");function q(b,S,I,P,C,L){let z=D(S.plugins,b);if(z!==null)return j(z,b,S,I,P,C);let V=E(b,S.printFunctionName,S.escapeRegex,S.escapeString);return V!==null?V:$(b,S,I,P,C,L)}u(q,"Z");var fe={comment:"gray",content:"reset",prop:"yellow",tag:"cyan",value:"green"},Be=Object.keys(fe),Sn=u(b=>b,"Oi"),Q=Sn({callToJSON:!0,compareKeys:void 0,escapeRegex:!1,escapeString:!0,highlight:!1,indent:2,maxDepth:1/0,maxWidth:1/0,min:!1,plugins:[],printBasicPrototype:!0,printFunctionName:!0,theme:fe});e.DEFAULT_OPTIONS=Q;function Nn(b){if(Object.keys(b).forEach(S=>{if(!Object.prototype.hasOwnProperty.call(Q,S))throw new Error(`pretty-format: Unknown option "${S}".`)}),b.min&&b.indent!==void 0&&b.indent!==0)throw new Error('pretty-format: Options "min" and "indent" cannot be used together.');if(b.theme!==void 0){if(b.theme===null)throw new Error('pretty-format: Option "theme" must not be null.');if(typeof b.theme!="object")throw new Error(`pretty-format: Option "theme" must be of type "object" but instead received "${typeof b.theme}".`)}}u(Nn,"Ti");var _n=u(b=>Be.reduce((S,I)=>{let P=b.theme&&b.theme[I]!==void 0?b.theme[I]:fe[I],C=P&&t.default[P];if(C&&typeof C.close=="string"&&typeof C.open=="string")S[I]=C;else throw new Error(`pretty-format: Option "theme" has a key "${I}" whose value "${P}" is undefined in ansi-styles.`);return S},Object.create(null)),"Ai"),$n=u(()=>Be.reduce((b,S)=>(b[S]={close:"",open:""},b),Object.create(null)),"Ni"),je=u(b=>{var S;return(S=b?.printFunctionName)!=null?S:Q.printFunctionName},"gr"),De=u(b=>{var S;return(S=b?.escapeRegex)!=null?S:Q.escapeRegex},"yr"),Re=u(b=>{var S;return(S=b?.escapeString)!=null?S:Q.escapeString},"wr"),Fe=u(b=>{var S,I,P,C,L,z,V;return{callToJSON:(S=b?.callToJSON)!=null?S:Q.callToJSON,colors:b!=null&&b.highlight?_n(b):$n(),compareKeys:typeof b?.compareKeys=="function"||b?.compareKeys===null?b.compareKeys:Q.compareKeys,escapeRegex:De(b),escapeString:Re(b),indent:b!=null&&b.min?"":In((I=b?.indent)!=null?I:Q.indent),maxDepth:(P=b?.maxDepth)!=null?P:Q.maxDepth,maxWidth:(C=b?.maxWidth)!=null?C:Q.maxWidth,min:(L=b?.min)!=null?L:Q.min,plugins:(z=b?.plugins)!=null?z:Q.plugins,printBasicPrototype:(V=b?.printBasicPrototype)!=null?V:!0,printFunctionName:je(b),spacingInner:b!=null&&b.min?" ":`
`,spacingOuter:b!=null&&b.min?"":`
`}},"cr");function In(b){return new Array(b+1).join(" ")}u(In,"Ci");function ke(b,S){if(S&&(Nn(S),S.plugins)){let P=D(S.plugins,b);if(P!==null)return j(P,b,Fe(S),"",0,[])}let I=E(b,je(S),De(S),Re(S));return I!==null?I:$(b,Fe(S),"",0,[])}u(ke,"vr");var Tn={AsymmetricMatcher:n.default,DOMCollection:i.default,DOMElement:a.default,Immutable:s.default,ReactElement:m.default,ReactTestComponent:g.default};e.plugins=Tn;var Cn=ke;e.default=Cn}),ai=nr(Zn());function pe(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return u(i,"i"),new(r||(r=Promise))(function(a,s){function m(y){try{p(n.next(y))}catch(v){s(v)}}u(m,"c");function g(y){try{p(n.throw(y))}catch(v){s(v)}}u(g,"m");function p(y){y.done?a(y.value):i(y.value).then(m,g)}u(p,"h"),p((n=n.apply(e,t||[])).next())})}u(pe,"Ft");function de(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function m(p){return function(y){return g([p,y])}}function g(p){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,i=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){r.label=p[1];break}if(p[0]===6&&r.label<a[1]){r.label=a[1],a=p;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(p);break}a[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(y){p=[6,y],i=0}finally{n=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}u(de,"zt");function Wt(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(m){s={error:m}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return a}u(Wt,"dt");function yt(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}u(yt,"H");var oi={withStackTrace:!1},ir=u(function(e,t,r){r===void 0&&(r=oi);var n=t.isOk()?{type:"Ok",value:t.value}:{type:"Err",value:t.error},i=r.withStackTrace?new Error().stack:void 0;return{data:n,message:e,stack:i}},"ge"),_t=function(){function e(t){this._promise=t}return u(e,"r"),e.fromSafePromise=function(t){var r=t.then(function(n){return new bt(n)});return new e(r)},e.fromPromise=function(t,r){var n=t.then(function(i){return new bt(i)}).catch(function(i){return new gt(r(i))});return new e(n)},e.combine=function(t){return ui(t)},e.combineWithAllErrors=function(t){return li(t)},e.prototype.map=function(t){var r=this;return new e(this._promise.then(function(n){return pe(r,void 0,void 0,function(){var i;return de(this,function(a){switch(a.label){case 0:return n.isErr()?[2,new gt(n.error)]:(i=bt.bind,[4,t(n.value)]);case 1:return[2,new(i.apply(bt,[void 0,a.sent()]))]}})})}))},e.prototype.mapErr=function(t){var r=this;return new e(this._promise.then(function(n){return pe(r,void 0,void 0,function(){var i;return de(this,function(a){switch(a.label){case 0:return n.isOk()?[2,new bt(n.value)]:(i=gt.bind,[4,t(n.error)]);case 1:return[2,new(i.apply(gt,[void 0,a.sent()]))]}})})}))},e.prototype.andThen=function(t){return new e(this._promise.then(function(r){if(r.isErr())return new gt(r.error);var n=t(r.value);return n instanceof e?n._promise:n}))},e.prototype.orElse=function(t){var r=this;return new e(this._promise.then(function(n){return pe(r,void 0,void 0,function(){return de(this,function(i){return n.isErr()?[2,t(n.error)]:[2,new bt(n.value)]})})}))},e.prototype.match=function(t,r){return this._promise.then(function(n){return n.match(t,r)})},e.prototype.unwrapOr=function(t){return this._promise.then(function(r){return r.unwrapOr(t)})},e.prototype.then=function(t,r){return this._promise.then(t,r)},e}(),ze=u(function(e){return new _t(Promise.resolve(new gt(e)))},"de"),wo=_t.fromPromise,xo=_t.fromSafePromise,si=u(function(e){return function(t){return yt(yt([],Wt(t),!1),[e],!1)}},"on"),ar=u(function(e){return e.reduce(function(t,r){return t.isOk()?r.isErr()?F(r.error):t.map(si(r.value)):t},G([]))},"ye"),ui=u(function(e){return _t.fromSafePromise(Promise.all(e)).andThen(ar)},"un"),or=u(function(e){return e.reduce(function(t,r){return r.isErr()?t.isErr()?F(yt(yt([],Wt(t.error),!1),[r.error],!1)):F([r.error]):t.isErr()?t:G(yt(yt([],Wt(t.value),!1),[r.value],!1))},G([]))},"we"),li=u(function(e){return _t.fromSafePromise(Promise.all(e)).andThen(or)},"ln"),Gt;(function(e){function t(i,a){return function(){for(var s=[],m=0;m<arguments.length;m++)s[m]=arguments[m];try{var g=i.apply(void 0,yt([],Wt(s),!1));return G(g)}catch(p){return F(a?a(p):p)}}}u(t,"t"),e.fromThrowable=t;function r(i){return ar(i)}u(r,"e"),e.combine=r;function n(i){return or(i)}u(n,"n"),e.combineWithAllErrors=n})(Gt||(Gt={}));var G=u(function(e){return new bt(e)},"_"),F=u(function(e){return new gt(e)},"E"),bt=function(){function e(t){this.value=t}return u(e,"r"),e.prototype.isOk=function(){return!0},e.prototype.isErr=function(){return!this.isOk()},e.prototype.map=function(t){return G(t(this.value))},e.prototype.mapErr=function(t){return G(this.value)},e.prototype.andThen=function(t){return t(this.value)},e.prototype.orElse=function(t){return G(this.value)},e.prototype.asyncAndThen=function(t){return t(this.value)},e.prototype.asyncMap=function(t){return _t.fromSafePromise(t(this.value))},e.prototype.unwrapOr=function(t){return this.value},e.prototype.match=function(t,r){return t(this.value)},e.prototype._unsafeUnwrap=function(t){return this.value},e.prototype._unsafeUnwrapErr=function(t){throw ir("Called `_unsafeUnwrapErr` on an Ok",this,t)},e}(),gt=function(){function e(t){this.error=t}return u(e,"r"),e.prototype.isOk=function(){return!1},e.prototype.isErr=function(){return!this.isOk()},e.prototype.map=function(t){return F(this.error)},e.prototype.mapErr=function(t){return F(t(this.error))},e.prototype.andThen=function(t){return F(this.error)},e.prototype.orElse=function(t){return t(this.error)},e.prototype.asyncAndThen=function(t){return ze(this.error)},e.prototype.asyncMap=function(t){return ze(this.error)},e.prototype.unwrapOr=function(t){return t},e.prototype.match=function(t,r){return r(this.error)},e.prototype._unsafeUnwrap=function(t){throw ir("Called `_unsafeUnwrap` on an Err",this,t)},e.prototype._unsafeUnwrapErr=function(t){return this.error},e}(),Eo=Gt.fromThrowable,ci=nr(ii());function Zt(e){let t=fi(e);return new ai.default(t).valueOf()*Math.PI}u(Zt,"pt");function fi(e){return e.replace(/(\d+)π/g,"$1").replace(/π/g,"1")}u(fi,"Ii");var sr=[{character:"\xBD",ref:"\xBD",expanded:"1/2",value:.5},{character:"\xBC",ref:"\xBC",expanded:"1/4",value:.25},{character:"\xBE",ref:"\xBE",expanded:"3/4",value:.75},{character:"\u2153",ref:"\u2153",expanded:"1/3",value:.3333333333333333},{character:"\u2154",ref:"\u2154",expanded:"2/3",value:.6666666666666666},{character:"\u2155",ref:"\u2155",expanded:"1/5",value:.2},{character:"\u2156",ref:"\u2156",expanded:"2/5",value:.4},{character:"\u2157",ref:"\u2157",expanded:"3/5",value:.6},{character:"\u2158",ref:"\u2158",expanded:"4/5",value:.8},{character:"\u2159",ref:"\u2159",expanded:"1/6",value:.16666666666666666},{character:"\u215A",ref:"\u215A",expanded:"5/6",value:.8333333333333334},{character:"\u2150",ref:"\u2150",expanded:"1/7",value:.14285714285714285},{character:"\u215B",ref:"\u215B",expanded:"1/8",value:.125},{character:"\u215C",ref:"\u215C",expanded:"3/8",value:.375},{character:"\u215D",ref:"\u215D",expanded:"5/8",value:.625},{character:"\u215E",ref:"\u215E",expanded:"7/8",value:.875},{character:"\u2151",ref:"\u2151",expanded:"1/9",value:.1111111111111111},{character:"\u2152",ref:"\u2152",expanded:"1/10",value:.1}],tt=class et{static{u(this,"z")}static parseFloat(t){if(t.length===0)throw new Error(`Not a number: '${t}'`);if(t[0]==="-")return-et.parseFloat(t.substr(1));if(t[0]==="\u221A")return Math.sqrt(et.parseFloat(t.substr(1)));let r=et.matchUnicodeFraction(i=>i.character===t);if(r!==void 0)return r.value;let n=parseFloat(t);if(isNaN(n))throw new Error(`Not a number: '${t}'`);return n}static simplifyByRounding(t,r){if(t<0)return-et.simplifyByRounding(-t,r);let n=t%1;if(n<=r||1-n<=r)return Math.round(t);let i=et.matchUnicodeFraction(s=>Math.abs(s.value-t)<=r);if(i!==void 0)return i.value;let a=et.matchUnicodeFraction(s=>Math.abs(Math.sqrt(s.value)-t)<=r);return a!==void 0?Math.sqrt(a.value):t}static matchUnicodeFraction(t){for(let r of sr)if(t(r))return r}constructor(t,r,n,i){this.allowAbbreviation=t,this.maxAbbreviationError=r,this.fixedDigits=n,this.itemSeparator=i}formatFloat(t){return this.allowAbbreviation?this.abbreviateFloat(t,this.maxAbbreviationError,this.fixedDigits):this.fixedDigits!==void 0?t.toFixed(this.fixedDigits):String(t)}abbreviateFloat(t,r=0,n=void 0){if(Math.abs(t)<r)return"0";if(t<0)return`-${this.abbreviateFloat(-t,r,n)}`;let i=et.matchUnicodeFraction(s=>Math.abs(s.value-t)<=r);if(i!==void 0)return i.character;let a=et.matchUnicodeFraction(s=>Math.abs(Math.sqrt(s.value)-t)<=r);return a!==void 0?`\u221A${a.character}`:t%1!==0&&n!==void 0?t.toFixed(n):t.toString()}};tt.CONSISTENT=new tt(!1,0,2,", "),tt.EXACT=new tt(!0,0,void 0,", "),tt.MINIFIED=new tt(!0,0,void 0,","),tt.SIMPLIFIED=new tt(!0,5e-4,3,", ");var hi=tt,We=class be{static{u(this,"Xt")}static matchUnicodeFraction(t){for(let r of sr)if(t(r))return r}constructor(t,r,n,i=", "){this.allowAbbreviation=t,this.maxAbbreviationError=r,this.fixedDigits=n,this.itemSeparator=i}format(t){return this.allowAbbreviation?this.abbreviateNumber(t,this.maxAbbreviationError,this.fixedDigits):this.fixedDigits!==void 0?t.toFixed(this.fixedDigits):String(t)}abbreviateNumber(t,r=0,n=void 0){if(Math.abs(t)<r)return"0";if(t<0)return`-${this.abbreviateNumber(-t,r,n)}`;let i=be.matchUnicodeFraction(s=>Math.abs(s.value-t)<=r);if(i!==void 0)return i.character;let a=be.matchUnicodeFraction(s=>Math.abs(Math.sqrt(s.value)-t)<=r);return a!==void 0?`\u221A${a.character}`:t%1!==0&&n!==void 0?t.toFixed(n):t.toString()}},Bt={allowAbbreviation:!0,maxAbbreviationError:0,fixedDigits:void 0},vt=class R{static{u(this,"M")}constructor(t,r){this.isEqualTo=this.eq.bind(this),this.isApproximatelyEqualTo=this.nearlyEq.bind(this),this.conj=this.conjugate.bind(this),this.plus=this.add.bind(this),this.subtract=this.sub.bind(this),this.minus=this.sub.bind(this),this.multiply=this.mult.bind(this),this.times=this.mult.bind(this),this.dividedBy=this.div.bind(this),this.magnitude=this.abs.bind(this),this.norm2=this.abs2.bind(this),this.angle=this.arg.bind(this),this.phase=this.arg.bind(this),this.real=t,this.imag=r,this.isApproximatelyEqualTo=this.nearlyEq,this.isEqualTo=this.eq,this.conj=this.conjugate,this.plus=this.add,this.subtract=this.sub,this.minus=this.sub,this.multiply=this.mult,this.times=this.mult,this.dividedBy=this.div,this.magnitude=this.abs,this.norm2=this.abs2,this.angle=this.arg,this.phase=this.arg}static from(t){return typeof t=="number"?new R(t,0):t}static real(t){return typeof t=="number"?t:t.real}static imag(t){return typeof t=="number"?0:t.imag}static polar(t,r){let[n,i]=this.cosAndSin(r);return new R(t*n,t*i)}static cosAndSin(t){let r=Math.PI/4,n=Math.round(t/r);if(n*r===t){let i=Math.sqrt(.5);return[[1,0],[i,i],[0,1],[-i,i],[-1,0],[-i,-i],[0,-1],[i,-i]][n&7]}return[Math.cos(t),Math.sin(t)]}eq(t){return typeof t=="number"?this.real===t&&this.imag===0:t instanceof R?this.real===t.real&&this.imag===t.imag:!1}nearlyEq(t,r){if(typeof t=="number"||t instanceof R){let n=this.sub(R.from(t));return Math.abs(n.real)<=r&&Math.abs(n.imag)<=r&&n.abs()<=r}return!1}conjugate(){return new R(this.real,-this.imag)}neg(){return new R(-this.real,-this.imag)}add(t){let r=R.from(t);return new R(this.real+r.real,this.imag+r.imag)}sub(t){let r=R.from(t);return new R(this.real-r.real,this.imag-r.imag)}mult(t){let r=R.from(t);return new R(this.real*r.real-this.imag*r.imag,this.real*r.imag+this.imag*r.real)}div(t){let r=R.from(t),n=r.abs2();if(n===0)return F(Error("Division by Zero"));let i=this.mult(r.conjugate());return G(new R(i.real/n,i.imag/n))}abs(){return Math.sqrt(this.abs2())}abs2(){return this.real*this.real+this.imag*this.imag}arg(){return Math.atan2(this.imag,this.real)}pow(t){return t===.5&&this.imag===0&&this.real>=0?new R(Math.sqrt(this.real),0):this.eq(R.ZERO)?R.ZERO:this.ln().mult(R.from(t)).exp()}exp(){return R.polar(Math.exp(this.real),this.imag)}format(t=Bt){let r=new We(t.allowAbbreviation===void 0?Bt.allowAbbreviation:t.allowAbbreviation,t.maxAbbreviationError||0,t.fixedDigits);return r.allowAbbreviation?this.toStringAllowSingleValue(r):this.toStringBothValues(r)}toString(){let t=new We(Bt.allowAbbreviation,Bt.maxAbbreviationError,Bt.fixedDigits);return this.toStringAllowSingleValue(t)}ln(){return new R(Math.log(this.abs()),this.arg())}toStringAllowSingleValue(t){if(this.canImagPartBeOmitted(t.maxAbbreviationError))return t.format(this.real);if(this.canRealPartBeOmitted(t.maxAbbreviationError)){let r;return this.isImagFactorCloseToOne(t.maxAbbreviationError)?r="":this.isImagFactorMinusOne(t.maxAbbreviationError)?r="-":r=t.format(this.imag),`${r}i`}return this.toStringBothValues(t)}toStringBothValues(t){let r=this.imag>=0?"+":"-",n=this.canImagFactorBeOmitted(t)?"":t.format(Math.abs(this.imag));return`${(t.allowAbbreviation||t.fixedDigits===void 0||this.real<0?"":"+")+t.format(this.real)+r+n}i`}canRealPartBeOmitted(t){return Math.abs(this.real)<=t}canImagPartBeOmitted(t){return Math.abs(this.imag)<=t}isImagFactorCloseToOne(t){return Math.abs(this.imag-1)<=t}isImagFactorMinusOne(t){return Math.abs(this.imag+1)<=t}canImagFactorBeOmitted(t){return t.allowAbbreviation&&Math.abs(Math.abs(this.imag)-1)<=t.maxAbbreviationError}};vt.ZERO=new vt(0,0),vt.ONE=new vt(1,0),vt.I=new vt(0,1);var Y=vt,me=0,jt=class extends Error{static{u(this,"et")}constructor(e,t){super(e),this.detailsObj=t,this.name="Error",this.message=e,this.stack=new Error().stack,this.stack!==void 0&&(this.stack=this.stack.replace(/^Error\n\s+at new DetailedError (\S+)\s?\n\s+at /,`
    `)),me++;try{this.details=me===1?(0,ci.format)(this.detailsObj):"(failed to prettyFormat detailsObj due to possibly re-entrancy)"}catch(r){console.error(r),this.details="(failed to prettyFormat detailsObj, see the console for details)"}finally{me--}}},pi=u(()=>({message:"Parse Error"}),"Di"),ur=class lr{static{u(this,"Ar")}static need(t,r,n){if(t!==!0){let i=n===void 0?"(not provided)":`[${Array.prototype.slice.call(n).join(", ")}]`,a=`Precondition failed

Message: ${r===void 0?"(not provided)":r}

Args: ${i}`;throw new Error(a)}}static notNull(t){lr.need(t!=null,"notNull")}static get urlJson(){let t=new URL(location.href,window.location.origin),r=decodeURIComponent(t.pathname),n=r.lastIndexOf("/");return r.substring(n+1)}};ur.safeJsonParse=Gt.fromThrowable(JSON.parse,pi);var St=ur,di="Bloch",mi="\u2022",bi="H",vi="Measure",gi="P",yi="QFT\u2020",wi="QFT",xi="X^\xBD",Ei="Rx",Mi="Ry",Oi="Rz",Ai="S\u2020",Si="S",Ni="\u2026",_i="Swap",$i="T\u2020",Ii="T",Ti="|0>",Ci="|1>",Pi="X",Bi="Y",ji="Z",Di={allowAbbreviation:!0,maxAbbreviationError:0,fixedDigits:void 0,itemSeparator:", "},k=class W{static{u(this,"r")}constructor(t,r,n){this.plus=this.add.bind(this),this.height=t,this.width=r,this.buffer=n,this.plus=this.add}static rows(t){let r=t.length;if(r===0)return F(Error("rows is empty"));let n=t[0].length;return t[0].length===0?F(Error("rows[0] is empty")):W.build(r,n,(i,a)=>t[i][a])}static column_vector(...t){return W.build(t.length,1,r=>t[r])}static build(t,r,n){let i=new Float64Array(r*t*2);for(let a=0;a<t;a++)for(let s=0;s<r;s++){let m=(a*r+s)*2,g=m+1,p;n?p=Y.from(n(a,s)):p=Y.from(0),i[m]=p.real,i[g]=p.imag}return W.create(t,r,i)}static create(t,r,n){return r<0?F(Error(`width(${r}) < 0`)):t<0?F(Error(`height(${t}) < 0`)):r*t*2!==n.length?F(Error(`width(${r})*height(${t})*2 !== buffer.length(${n.length})`)):G(new W(t,r,n))}element(t,r){if(t<0||r<0||t>=this.height||r>=this.width)return F(Error("Element out of range"));let n=(this.width*t+r)*2,i=n+1;return G(new Y(this.buffer[n],this.buffer[i]))}set(t,r,n){if(t<0||r<0||t>=this.height||r>=this.width)return F(Error("Element out of range"));let i=(this.width*t+r)*2,a=i+1;return this.buffer[i]=n.real,this.buffer[a]=n.imag,G(this)}column(t){if(t<0)return F(Error("colIndex < 0"));if(t>this.width)return F(Error("colIndex > this.width"));let r=[];for(let n=0;n<this.height;n++){let i=this.element(n,t);if(i.isErr())return F(i.error);r.push(i.value)}return G(r)}add(t){if(t.width!==this.width||t.height!==this.height)return F(Error("Incompatible sizes"));let r=new Float64Array(this.buffer.length);for(let n=0;n<r.length;n++)r[n]=this.buffer[n]+t.buffer[n];return G(new W(this.height,this.width,r))}sub(t){if(t.width!==this.width||t.height!==this.height)return F(Error("Incompatible sizes"));let r=new Float64Array(this.buffer.length);for(let n=0;n<r.length;n++)r[n]=this.buffer[n]-t.buffer[n];return G(new W(this.height,this.width,r))}mult(t){return t instanceof W?this.multMatrix(t):G(this.multScalar(t))}applyControlledGate(t,r,n,i){let a=n.concat(i).reduce((A,T)=>A|1<<T,0),s=n.reduce((A,T)=>A|1<<T,0);St.need((s&1<<r)===0,"Matrix.timesQubitOperation: self-controlled"),St.need(t.width===2&&t.height===2,"Matrix.timesQubitOperation: not 2x2");let{width:m,height:g,buffer:p}=this,[y,v,l,f,o,c,h,d]=t.buffer;St.need(g>=2<<r,"Matrix.timesQubitOperation: qubit index out of range");let w=new Float64Array(p),N=0;for(let A=0;A<g;A++){let T=(A&1<<r)!==0,O=(a&A^s)===0;for(let M=0;M<m;M++){if(O&&!T){let x=N+(1<<r)*2*m,E=w[N],$=w[N+1],_=w[x],j=w[x+1];w[N]=E*y-$*v+_*l-j*f,w[N+1]=E*v+$*y+_*f+j*l,w[x]=E*o-$*c+_*h-j*d,w[x+1]=E*c+$*o+_*d+j*h}N+=2}}return W.create(g,m,w)._unsafeUnwrap()}timesQubitOperation(t,r,n){St.need((n&1<<r)===0,"Matrix.timesQubitOperation: self-controlled"),St.need(t.width===2&&t.height===2,"Matrix.timesQubitOperation: not 2x2");let{width:i,height:a,buffer:s}=this,[m,g,p,y,v,l,f,o]=t.buffer;St.need(a>=2<<r,"Matrix.timesQubitOperation: qubit index out of range");let c=new Float64Array(s),h=0;for(let d=0;d<a;d++){let w=(n&d^n)!==0,N=(d&1<<r)!==0;for(let A=0;A<i;A++){if(!w&&!N){let T=h+(1<<r)*2*i,O=c[h],M=c[h+1],x=c[T],E=c[T+1];c[h]=O*m-M*g+x*p-E*y,c[h+1]=O*g+M*m+x*y+E*p,c[T]=O*v-M*l+x*f-E*o,c[T+1]=O*l+M*v+x*o+E*f}h+=2}}return W.create(a,i,c)._unsafeUnwrap()}rows(){return zt(0,this.height-1).map(t=>zt(0,this.width-1).map(r=>this.element(t,r)._unsafeUnwrap()))}isHermitian(t=0){if(this.width!==this.height)return!1;for(let r=0;r<this.width;r++)for(let n=0;n<this.height;n++){let i=(this.width*n+r)*2,a=(this.width*r+n)*2;if(Math.abs(this.buffer[i]-this.buffer[a])>t||Math.abs(this.buffer[i+1]+this.buffer[a+1])>t)return!1}return!0}trace(){let t=0,r=0,n=this.width*2+2;for(let i=0;i<this.buffer.length;i+=n)t+=this.buffer[i],r+=this.buffer[i+1];return new Y(t,r)}adjoint(){let t=this.height,r=this.width,n=new Float64Array(t*r*2);for(let i=0;i<r;i++)for(let a=0;a<t;a++){let s=(a*this.width+i)*2,m=(i*t+a)*2;n[m]=this.buffer[s],n[m+1]=-this.buffer[s+1]}return new W(r,t,n)}tensorProduct(t){let r=this.width,n=this.height,i=t.width,a=t.height,s=r*i,m=n*a,g=new Float64Array(s*m*2);for(let p=0;p<n;p++)for(let y=0;y<a;y++)for(let v=0;v<r;v++)for(let l=0;l<i;l++){let f=(p*r+v)*2,o=(y*i+l)*2,c=((p*a+y)*s+(v*i+l))*2,h=this.buffer[f],d=this.buffer[f+1],w=t.buffer[o],N=t.buffer[o+1],A=h*w-d*N,T=h*N+d*w;g[c]=A,g[c+1]=T}return new W(m,s,g)}eq(t){if(this===t)return!0;if(!(t instanceof W))return!1;let r=t;return this.width===r.width&&this.height===r.height&&zt(0,this.buffer.length-1).every(n=>this.buffer[n]===r.buffer[n])}nearlyEq(t,r){return t instanceof W&&this.width===t.width&&this.height===t.height&&Math.sqrt(this.sub(t)._unsafeUnwrap().norm2())<=r}format(t=Di){let r=new hi(t.allowAbbreviation===void 0?!0:t.allowAbbreviation,t.maxAbbreviationError||0,t.fixedDigits,t.itemSeparator||", ");return`{{${this.rows().map(n=>n.map(i=>i.format(r)).join(r.itemSeparator)).join(`}${r.itemSeparator}{`)}}}`}toString(){return this.format()}qubitDensityMatrixToBlochVector(){if(this.width!==2||this.height!==2)throw new jt("Need a 2x2 density matrix.",this);if(!this.isHermitian(.01))throw new jt("Density matrix should be Hermitian.",this);if(!this.trace().nearlyEq(1,.01))throw new jt("Density matrix should have unit trace.",this);let[t,r,n,i,a,s,m,g]=this.buffer,p=a+n,y=s-i,v=t-m;return[p,y,v]}clone(){return new W(this.height,this.width,this.buffer.slice())}norm2(){let t=0;for(let r of this.buffer)t+=r*r;return t}multMatrix(t){if(this.width!==t.height)return F(Error("Incompatible sizes."));let r=t.width,n=this.height,i=this.width,a=new Float64Array(r*n*2);for(let s=0;s<n;s++)for(let m=0;m<r;m++){let g=(s*r+m)*2;for(let p=0;p<i;p++){let y=(s*i+p)*2,v=(p*r+m)*2,l=this.buffer[y],f=this.buffer[y+1],o=t.buffer[v],c=t.buffer[v+1],h=l*o-f*c,d=l*c+o*f;a[g]+=h,a[g+1]+=d}}return G(new W(n,r,a))}multScalar(t){let r=new Float64Array(this.buffer.length),n=Y.real(t),i=Y.imag(t);for(let a=0;a<r.length;a+=2){let s=this.buffer[a],m=this.buffer[a+1];r[a]=s*n-m*i,r[a+1]=s*i+m*n}return new W(this.height,this.width,r)}},ot=Y.I,Nt=ot.neg(),Ge=k.rows([[1,1],[1,-1]])._unsafeUnwrap().mult(Math.sqrt(.5))._unsafeUnwrap(),Ve=k.rows([[0,1],[1,0]])._unsafeUnwrap(),Ze=k.rows([[0,Nt],[ot,0]])._unsafeUnwrap(),Ke=k.rows([[1,0],[0,-1]])._unsafeUnwrap(),ve=k.rows([[1,0],[0,ot]])._unsafeUnwrap(),Je=ve.adjoint(),ge=k.rows([[1,0],[0,ot.times(Math.PI/4).exp()]])._unsafeUnwrap(),Qe=ge.adjoint();function He(e){let t=Zt(e);return k.rows([[1,0],[0,ot.times(t).exp()]])._unsafeUnwrap()}u(He,"ie");var Xe=k.rows([[ot.plus(1),Nt.plus(1)],[Nt.plus(1),ot.plus(1)]])._unsafeUnwrap().mult(.5)._unsafeUnwrap();function Ye(e){let t=Zt(e),r=Math.cos(t/2),n=Math.sin(t/2);return k.rows([[r,Nt.times(n)],[Nt.times(n),r]])._unsafeUnwrap()}u(Ye,"se");function tr(e){let t=Zt(e),r=Math.cos(t/2),n=Math.sin(t/2);return k.rows([[r,-n],[n,r]])._unsafeUnwrap()}u(tr,"oe");function er(e){let t=Zt(e);return k.rows([[Nt.times(t/2).exp(),0],[0,ot.times(t/2).exp()]])._unsafeUnwrap()}u(er,"ue");var Ri=class cr{static{u(this,"r")}get bra(){return this.matrix.adjoint()}get ket(){return this.matrix}constructor(t){typeof t=="string"?this.matrix=this.bitstringToMatrix(t):this.matrix=t,this.size=this.matrix.height,this.nqubit=Math.log2(this.size)}amplifier(t){return this.matrix.element(t,0)._unsafeUnwrap()}setAmplifier(t,r){let n=this.matrix.set(t,0,r);return n.isErr()?F(Error(n.error.message)):G(this)}blochVector(t){return this.qubitDensityMatrix(t).qubitDensityMatrixToBlochVector()}isApproximatelyEqualTo(t,r){return t instanceof cr&&this.matrix.nearlyEq(t.matrix,r)}applyControlledGate(t,r,n,i){return this.matrix=this.matrix.applyControlledGate(t,r,n,i),this.matrix}timesQubitOperation(t,r,n){return this.matrix=this.matrix.timesQubitOperation(t,r,n),this.matrix}toString(){return this.matrix.toString()}bitstringToMatrix(t){let r=!1,n="",i=[],a=new jt("Invalid StateVector bit string",t);for(let s of t.split(""))switch(s){case"0":{if(r)throw a;i.push(k.column_vector(1,0)._unsafeUnwrap());break}case"1":{if(r)throw a;i.push(k.column_vector(0,1)._unsafeUnwrap());break}case"+":{if(r)throw a;i.push(k.column_vector(1,1)._unsafeUnwrap().mult(Math.sqrt(.5))._unsafeUnwrap());break}case"-":{r?n+="-":i.push(k.column_vector(1,-1)._unsafeUnwrap().mult(Math.sqrt(.5))._unsafeUnwrap());break}case"i":{r?n+="i":i.push(k.column_vector(1,new Y(0,1))._unsafeUnwrap().mult(Math.sqrt(.5))._unsafeUnwrap());break}case"(":{if(r)throw a;r=!0,n="";break}case")":{if(!r||n!=="-i")throw a;i.push(k.column_vector(1,new Y(0,-1))._unsafeUnwrap().mult(Math.sqrt(.5))._unsafeUnwrap()),r=!1;break}default:throw a}if(i.length===0)throw a;return i.reduce((s,m)=>s.tensorProduct(m))}qubitDensityMatrix(t){if(t<0||t>=this.nqubit)throw new jt("Qubit index out of range",t);let r=[...Array(Math.log2(this.matrix.height)).keys()].filter(a=>a!==t),n=u((a,s)=>s.sort().reverse().reduce((m,g)=>{let p=m>>g+1;p=p<<g;let y=(1<<g)-1&m;return p|y},a),"n"),i=k.build(2,2)._unsafeUnwrap();for(let a=0;a<this.matrix.height;a++)for(let s=0;s<this.matrix.height;s++){if(!r.every(v=>(a>>v&1)===(s>>v&1)))continue;let m=this.matrix.element(s,0)._unsafeUnwrap().times(this.matrix.element(a,0)._unsafeUnwrap().conjugate());if(m.isEqualTo(0))continue;let g=n(s,r)===0?k.column_vector(1,0)._unsafeUnwrap():k.column_vector(0,1)._unsafeUnwrap(),p=n(a,r)===0?k.rows([[1,0]])._unsafeUnwrap():k.rows([[0,1]])._unsafeUnwrap(),y=g.mult(p)._unsafeUnwrap();i=i.add(y.mult(m)._unsafeUnwrap())._unsafeUnwrap()}return i}};function Fi(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}u(Fi,"Hr");var fr=class{static{u(this,"Yr")}constructor(e){typeof e=="string"?this.state=new Ri(e):this.state=e,this.measuredBits={},this.flags={}}runStep(e){this.blochVectors={};for(let t of e)switch(t.type){case Ti:this.write(0,...t.targets);break;case Ci:this.write(1,...t.targets);break;case di:for(let r of t.targets)this.blochVectors[r]=this.state.blochVector(r);break;case bi:if(t.if&&!this.flags[t.if])break;this.ch(t.targets,t.controls,t.antiControls);break;case Pi:if(t.if&&!this.flags[t.if])break;this.cnot(t.targets,t.controls,t.antiControls);break;case Bi:if(t.if&&!this.flags[t.if])break;this.cy(t.targets,t.controls,t.antiControls);break;case ji:if(t.if&&!this.flags[t.if])break;this.cz(t.targets,t.controls,t.antiControls);break;case Ni:break;case gi:{if(!t.angle)break;this.cphase(t.angle,[t.targets[0]],t.controls,t.antiControls);break}case Si:{if(t.if&&!this.flags[t.if])break;this.cs(t.targets,t.controls,t.antiControls);break}case Ai:{if(t.if&&!this.flags[t.if])break;this.csDagger(t.targets,t.controls,t.antiControls);break}case Ii:{if(t.if&&!this.flags[t.if])break;this.ct(t.targets,t.controls,t.antiControls);break}case $i:{if(t.if&&!this.flags[t.if])break;this.ctDagger(t.targets,t.controls,t.antiControls);break}case wi:this.qft(t.span,...t.targets);break;case yi:this.qftDagger(t.span,...t.targets);break;case mi:{this.cz([t.targets[0]],t.targets.slice(1));break}case _i:{this.cswap(t.targets[0],t.targets[1],t.controls);break}case xi:if(t.if&&!this.flags[t.if])break;this.crnot(t.targets,t.controls,t.antiControls);break;case Ei:if(t.if&&!this.flags[t.if]||!t.angle)break;this.crx(t.angle,t.targets,t.controls,t.antiControls);break;case Mi:if(t.if&&!this.flags[t.if]||!t.angle)break;this.cry(t.angle,t.targets,t.controls,t.antiControls);break;case Oi:if(t.if&&!this.flags[t.if]||!t.angle)break;this.crz(t.angle,t.targets,t.controls,t.antiControls);break;case vi:for(let r of t.targets)this.measure(r),t.flag&&(this.flags[t.flag]=this.measuredBits[r]===1);break;default:throw new Error("Unknown instruction")}return this}write(e,...t){for(let r of t){let n=Fi(this.pZero(r),5);(e===0&&n===0||e===1&&n===1)&&this.x(r)}return this}h(...e){return this.cu(Ge,e,[],[]),this}ch(e,t,r){return this.cu(Ge,e,t,r),this}x(...e){return this.cu(Ve,e),this}cnot(e,t,r){return this.cu(Ve,e,t,r),this}y(...e){return this.cu(Ze,e),this}cy(e,t,r){return this.cu(Ze,e,t,r),this}z(...e){return this.u(Ke,...e),this}cz(e,t,r){return this.cu(Ke,e,t,r),this}phase(e,...t){return this.u(He(e),...t),this}cphase(e,t,r,n){return this.cu(He(e),t,r,n),this}s(...e){return this.u(ve,...e),this}cs(e,t,r){return this.cu(ve,e,t,r),this}sDagger(...e){return this.u(Je,...e),this}csDagger(e,t,r){return this.cu(Je,e,t,r),this}t(...e){return this.u(ge,...e),this}ct(e,t,r){return this.cu(ge,e,t,r),this}tDagger(...e){return this.u(Qe,...e),this}ctDagger(e,t,r){return this.cu(Qe,e,t,r),this}swap(e,t){return this.cswap(e,t),this}cswap(e,t,r=[]){return this.cnot([t],r.concat([e])).cnot([e],r.concat([t])).cnot([t],r.concat([e])),this}rnot(...e){return this.u(Xe,...e),this}crnot(e,t,r){return this.cu(Xe,e,t,r),this}rx(e,...t){return this.u(Ye(e),...t),this}crx(e,t,r,n){return this.cu(Ye(e),t,r,n),this}ry(e,...t){return this.u(tr(e),...t),this}cry(e,t,r,n){return this.cu(tr(e),t,r,n),this}rz(e,...t){return this.u(er(e),...t),this}crz(e,t,r,n){return this.cu(er(e),t,r,n),this}qft(e,...t){for(let r of t)this.qftSingleTargetBit(e,r);return this}qftSingleTargetBit(e,t){for(let r=0;r<e;r++){this.h(t+r);for(let n=1;n<e-r;n++)this.cphase(`\u03C0/${2**n}`,[t+r],[t+r+n])}return this}qftDagger(e,...t){for(let r of t)this.qftDaggerSingleTargetBit(e,r);return this}qftDaggerSingleTargetBit(e,t){for(let r=e-1;r>=0;r--){for(let n=e-r-1;n>0;n--)this.cphase(`-\u03C0/${2**n}`,[t+r],[t+r+n]);this.h(t+r)}return this}measure(...e){for(let t of e){let r=this.pZero(t);if(Math.random()<=r){for(let n=0;n<1<<this.state.nqubit;n++){n&1<<t&&this.state.setAmplifier(n,Y.ZERO);let i=this.state.amplifier(n).div(Math.sqrt(r));if(i.isOk())this.state.setAmplifier(n,i.value);else throw Error(i.error.message)}this.measuredBits[t]=0}else{for(let n=0;n<1<<this.state.nqubit;n++){n&1<<t||this.state.setAmplifier(n,Y.ZERO);let i=this.state.amplifier(n).div(Math.sqrt(1-r));if(i.isOk())this.state.setAmplifier(n,i.value);else throw Error(i.error.message)}this.measuredBits[t]=1}}return this}amplitudes(){return this.state.matrix.column(0)._unsafeUnwrap()}u(e,...t){for(let r of t)this.state.timesQubitOperation(e,r,0)}cu(e,t,r=[],n=[]){for(let i of t)this.state.applyControlledGate(e,i,r,n)}pZero(e){let t=0;for(let r=0;r<1<<this.state.nqubit;r++)r&1<<e||(t+=Math.pow(this.state.amplifier(r).abs(),2));return t}};var ho=Ue(pr());function Ee(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return u(i,"adopt"),new(r||(r=Promise))(function(a,s){function m(y){try{p(n.next(y))}catch(v){s(v)}}u(m,"fulfilled");function g(y){try{p(n.throw(y))}catch(v){s(v)}}u(g,"rejected");function p(y){y.done?a(y.value):i(y.value).then(m,g)}u(p,"step"),p((n=n.apply(e,t||[])).next())})}u(Ee,"__awaiter");function Me(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function m(p){return function(y){return g([p,y])}}function g(p){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,i=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){r.label=p[1];break}if(p[0]===6&&r.label<a[1]){r.label=a[1],a=p;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(p);break}a[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(y){p=[6,y],i=0}finally{n=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}u(Me,"__generator");function Kt(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(m){s={error:m}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return a}u(Kt,"__read");function Et(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}u(Et,"__spreadArray");var ki={withStackTrace:!1},mr=u(function(e,t,r){r===void 0&&(r=ki);var n=t.isOk()?{type:"Ok",value:t.value}:{type:"Err",value:t.error},i=r.withStackTrace?new Error().stack:void 0;return{data:n,message:e,stack:i}},"createNeverThrowError"),$t=function(){function e(t){this._promise=t}return u(e,"ResultAsync"),e.fromSafePromise=function(t){var r=t.then(function(n){return new wt(n)});return new e(r)},e.fromPromise=function(t,r){var n=t.then(function(i){return new wt(i)}).catch(function(i){return new xt(r(i))});return new e(n)},e.combine=function(t){return qi(t)},e.combineWithAllErrors=function(t){return Li(t)},e.prototype.map=function(t){var r=this;return new e(this._promise.then(function(n){return Ee(r,void 0,void 0,function(){var i;return Me(this,function(a){switch(a.label){case 0:return n.isErr()?[2,new xt(n.error)]:(i=wt.bind,[4,t(n.value)]);case 1:return[2,new(i.apply(wt,[void 0,a.sent()]))]}})})}))},e.prototype.mapErr=function(t){var r=this;return new e(this._promise.then(function(n){return Ee(r,void 0,void 0,function(){var i;return Me(this,function(a){switch(a.label){case 0:return n.isOk()?[2,new wt(n.value)]:(i=xt.bind,[4,t(n.error)]);case 1:return[2,new(i.apply(xt,[void 0,a.sent()]))]}})})}))},e.prototype.andThen=function(t){return new e(this._promise.then(function(r){if(r.isErr())return new xt(r.error);var n=t(r.value);return n instanceof e?n._promise:n}))},e.prototype.orElse=function(t){var r=this;return new e(this._promise.then(function(n){return Ee(r,void 0,void 0,function(){return Me(this,function(i){return n.isErr()?[2,t(n.error)]:[2,new wt(n.value)]})})}))},e.prototype.match=function(t,r){return this._promise.then(function(n){return n.match(t,r)})},e.prototype.unwrapOr=function(t){return this._promise.then(function(r){return r.unwrapOr(t)})},e.prototype.then=function(t,r){return this._promise.then(t,r)},e}();var dr=u(function(e){return new $t(Promise.resolve(new xt(e)))},"errAsync"),Io=$t.fromPromise,To=$t.fromSafePromise,Ui=u(function(e){return function(t){return Et(Et([],Kt(t),!1),[e],!1)}},"appendValueToEndOfList"),br=u(function(e){return e.reduce(function(t,r){return t.isOk()?r.isErr()?nt(r.error):t.map(Ui(r.value)):t},rt([]))},"combineResultList"),qi=u(function(e){return $t.fromSafePromise(Promise.all(e)).andThen(br)},"combineResultAsyncList"),vr=u(function(e){return e.reduce(function(t,r){return r.isErr()?t.isErr()?nt(Et(Et([],Kt(t.error),!1),[r.error],!1)):nt([r.error]):t.isErr()?t:rt(Et(Et([],Kt(t.value),!1),[r.value],!1))},rt([]))},"combineResultListWithAllErrors"),Li=u(function(e){return $t.fromSafePromise(Promise.all(e)).andThen(vr)},"combineResultAsyncListWithAllErrors"),Dt;(function(e){function t(i,a){return function(){for(var s=[],m=0;m<arguments.length;m++)s[m]=arguments[m];try{var g=i.apply(void 0,Et([],Kt(s),!1));return rt(g)}catch(p){return nt(a?a(p):p)}}}u(t,"fromThrowable"),e.fromThrowable=t;function r(i){return br(i)}u(r,"combine"),e.combine=r;function n(i){return vr(i)}u(n,"combineWithAllErrors"),e.combineWithAllErrors=n})(Dt||(Dt={}));var rt=u(function(e){return new wt(e)},"ok"),nt=u(function(e){return new xt(e)},"err"),wt=function(){function e(t){this.value=t}return u(e,"Ok"),e.prototype.isOk=function(){return!0},e.prototype.isErr=function(){return!this.isOk()},e.prototype.map=function(t){return rt(t(this.value))},e.prototype.mapErr=function(t){return rt(this.value)},e.prototype.andThen=function(t){return t(this.value)},e.prototype.orElse=function(t){return rt(this.value)},e.prototype.asyncAndThen=function(t){return t(this.value)},e.prototype.asyncMap=function(t){return $t.fromSafePromise(t(this.value))},e.prototype.unwrapOr=function(t){return this.value},e.prototype.match=function(t,r){return t(this.value)},e.prototype._unsafeUnwrap=function(t){return this.value},e.prototype._unsafeUnwrapErr=function(t){throw mr("Called `_unsafeUnwrapErr` on an Ok",this,t)},e}(),xt=function(){function e(t){this.error=t}return u(e,"Err"),e.prototype.isOk=function(){return!1},e.prototype.isErr=function(){return!this.isOk()},e.prototype.map=function(t){return nt(this.error)},e.prototype.mapErr=function(t){return nt(t(this.error))},e.prototype.andThen=function(t){return nt(this.error)},e.prototype.orElse=function(t){return t(this.error)},e.prototype.asyncAndThen=function(t){return dr(this.error)},e.prototype.asyncMap=function(t){return dr(this.error)},e.prototype.unwrapOr=function(t){return t},e.prototype.match=function(t,r){return r(this.error)},e.prototype._unsafeUnwrap=function(t){throw mr("Called `_unsafeUnwrap` on an Err",this,t)},e.prototype._unsafeUnwrapErr=function(t){return this.error},e}(),Co=Dt.fromThrowable;var po=Ue(wn());var En=[{character:"\xBD",ref:"\xBD",expanded:"1/2",value:.5},{character:"\xBC",ref:"\xBC",expanded:"1/4",value:.25},{character:"\xBE",ref:"\xBE",expanded:"3/4",value:.75},{character:"\u2153",ref:"\u2153",expanded:"1/3",value:.3333333333333333},{character:"\u2154",ref:"\u2154",expanded:"2/3",value:.6666666666666666},{character:"\u2155",ref:"\u2155",expanded:"1/5",value:.2},{character:"\u2156",ref:"\u2156",expanded:"2/5",value:.4},{character:"\u2157",ref:"\u2157",expanded:"3/5",value:.6},{character:"\u2158",ref:"\u2158",expanded:"4/5",value:.8},{character:"\u2159",ref:"\u2159",expanded:"1/6",value:.16666666666666666},{character:"\u215A",ref:"\u215A",expanded:"5/6",value:.8333333333333334},{character:"\u2150",ref:"\u2150",expanded:"1/7",value:.14285714285714285},{character:"\u215B",ref:"\u215B",expanded:"1/8",value:.125},{character:"\u215C",ref:"\u215C",expanded:"3/8",value:.375},{character:"\u215D",ref:"\u215D",expanded:"5/8",value:.625},{character:"\u215E",ref:"\u215E",expanded:"7/8",value:.875},{character:"\u2151",ref:"\u2151",expanded:"1/9",value:.1111111111111111},{character:"\u2152",ref:"\u2152",expanded:"1/10",value:.1}],dt=class at{static{u(this,"o")}static parseFloat(t){if(t.length===0)throw new Error(`Not a number: '${t}'`);if(t[0]==="-")return-at.parseFloat(t.substr(1));if(t[0]==="\u221A")return Math.sqrt(at.parseFloat(t.substr(1)));let r=at.matchUnicodeFraction(i=>i.character===t);if(r!==void 0)return r.value;let n=parseFloat(t);if(isNaN(n))throw new Error(`Not a number: '${t}'`);return n}static simplifyByRounding(t,r){if(t<0)return-at.simplifyByRounding(-t,r);let n=t%1;if(n<=r||1-n<=r)return Math.round(t);let i=at.matchUnicodeFraction(s=>Math.abs(s.value-t)<=r);if(i!==void 0)return i.value;let a=at.matchUnicodeFraction(s=>Math.abs(Math.sqrt(s.value)-t)<=r);return a!==void 0?Math.sqrt(a.value):t}static matchUnicodeFraction(t){for(let r of En)if(t(r))return r}constructor(t,r,n,i){this.allowAbbreviation=t,this.maxAbbreviationError=r,this.fixedDigits=n,this.itemSeparator=i}formatFloat(t){return this.allowAbbreviation?this.abbreviateFloat(t,this.maxAbbreviationError,this.fixedDigits):this.fixedDigits!==void 0?t.toFixed(this.fixedDigits):String(t)}abbreviateFloat(t,r=0,n=void 0){if(Math.abs(t)<r)return"0";if(t<0)return`-${this.abbreviateFloat(-t,r,n)}`;let i=at.matchUnicodeFraction(s=>Math.abs(s.value-t)<=r);if(i!==void 0)return i.character;let a=at.matchUnicodeFraction(s=>Math.abs(Math.sqrt(s.value)-t)<=r);return a!==void 0?`\u221A${a.character}`:t%1!==0&&n!==void 0?t.toFixed(n):t.toString()}};dt.CONSISTENT=new dt(!1,0,2,", "),dt.EXACT=new dt(!0,0,void 0,", "),dt.MINIFIED=new dt(!0,0,void 0,","),dt.SIMPLIFIED=new dt(!0,5e-4,3,", ");var xn=class Pe{static{u(this,"r")}static matchUnicodeFraction(t){for(let r of En)if(t(r))return r}constructor(t,r,n,i=", "){this.allowAbbreviation=t,this.maxAbbreviationError=r,this.fixedDigits=n,this.itemSeparator=i}format(t){return this.allowAbbreviation?this.abbreviateNumber(t,this.maxAbbreviationError,this.fixedDigits):this.fixedDigits!==void 0?t.toFixed(this.fixedDigits):String(t)}abbreviateNumber(t,r=0,n=void 0){if(Math.abs(t)<r)return"0";if(t<0)return`-${this.abbreviateNumber(-t,r,n)}`;let i=Pe.matchUnicodeFraction(s=>Math.abs(s.value-t)<=r);if(i!==void 0)return i.character;let a=Pe.matchUnicodeFraction(s=>Math.abs(Math.sqrt(s.value)-t)<=r);return a!==void 0?`\u221A${a.character}`:t%1!==0&&n!==void 0?t.toFixed(n):t.toString()}},qt={allowAbbreviation:!0,maxAbbreviationError:0,fixedDigits:void 0},Pt=class U{static{u(this,"a")}constructor(t,r){this.isEqualTo=this.eq.bind(this),this.isApproximatelyEqualTo=this.nearlyEq.bind(this),this.conj=this.conjugate.bind(this),this.plus=this.add.bind(this),this.subtract=this.sub.bind(this),this.minus=this.sub.bind(this),this.multiply=this.mult.bind(this),this.times=this.mult.bind(this),this.dividedBy=this.div.bind(this),this.magnitude=this.abs.bind(this),this.norm2=this.abs2.bind(this),this.angle=this.arg.bind(this),this.phase=this.arg.bind(this),this.real=t,this.imag=r,this.isApproximatelyEqualTo=this.nearlyEq,this.isEqualTo=this.eq,this.conj=this.conjugate,this.plus=this.add,this.subtract=this.sub,this.minus=this.sub,this.multiply=this.mult,this.times=this.mult,this.dividedBy=this.div,this.magnitude=this.abs,this.norm2=this.abs2,this.angle=this.arg,this.phase=this.arg}static from(t){return typeof t=="number"?new U(t,0):t}static real(t){return typeof t=="number"?t:t.real}static imag(t){return typeof t=="number"?0:t.imag}static polar(t,r){let[n,i]=this.cosAndSin(r);return new U(t*n,t*i)}static cosAndSin(t){let r=Math.PI/4,n=Math.round(t/r);if(n*r===t){let i=Math.sqrt(.5);return[[1,0],[i,i],[0,1],[-i,i],[-1,0],[-i,-i],[0,-1],[i,-i]][n&7]}return[Math.cos(t),Math.sin(t)]}eq(t){return typeof t=="number"?this.real===t&&this.imag===0:t instanceof U?this.real===t.real&&this.imag===t.imag:!1}nearlyEq(t,r){if(typeof t=="number"||t instanceof U){let n=this.sub(U.from(t));return Math.abs(n.real)<=r&&Math.abs(n.imag)<=r&&n.abs()<=r}return!1}conjugate(){return new U(this.real,-this.imag)}neg(){return new U(-this.real,-this.imag)}add(t){let r=U.from(t);return new U(this.real+r.real,this.imag+r.imag)}sub(t){let r=U.from(t);return new U(this.real-r.real,this.imag-r.imag)}mult(t){let r=U.from(t);return new U(this.real*r.real-this.imag*r.imag,this.real*r.imag+this.imag*r.real)}div(t){let r=U.from(t),n=r.abs2();if(n===0)return nt(Error("Division by Zero"));let i=this.mult(r.conjugate());return rt(new U(i.real/n,i.imag/n))}abs(){return Math.sqrt(this.abs2())}abs2(){return this.real*this.real+this.imag*this.imag}arg(){return Math.atan2(this.imag,this.real)}pow(t){return t===.5&&this.imag===0&&this.real>=0?new U(Math.sqrt(this.real),0):this.eq(U.ZERO)?U.ZERO:this.ln().mult(U.from(t)).exp()}exp(){return U.polar(Math.exp(this.real),this.imag)}format(t=qt){let r=new xn(t.allowAbbreviation===void 0?qt.allowAbbreviation:t.allowAbbreviation,t.maxAbbreviationError||0,t.fixedDigits);return r.allowAbbreviation?this.toStringAllowSingleValue(r):this.toStringBothValues(r)}toString(){let t=new xn(qt.allowAbbreviation,qt.maxAbbreviationError,qt.fixedDigits);return this.toStringAllowSingleValue(t)}ln(){return new U(Math.log(this.abs()),this.arg())}toStringAllowSingleValue(t){if(this.canImagPartBeOmitted(t.maxAbbreviationError))return t.format(this.real);if(this.canRealPartBeOmitted(t.maxAbbreviationError)){let r;return this.isImagFactorCloseToOne(t.maxAbbreviationError)?r="":this.isImagFactorMinusOne(t.maxAbbreviationError)?r="-":r=t.format(this.imag),`${r}i`}return this.toStringBothValues(t)}toStringBothValues(t){let r=this.imag>=0?"+":"-",n=this.canImagFactorBeOmitted(t)?"":t.format(Math.abs(this.imag));return`${(t.allowAbbreviation||t.fixedDigits===void 0||this.real<0?"":"+")+t.format(this.real)+r+n}i`}canRealPartBeOmitted(t){return Math.abs(this.real)<=t}canImagPartBeOmitted(t){return Math.abs(this.imag)<=t}isImagFactorCloseToOne(t){return Math.abs(this.imag-1)<=t}isImagFactorMinusOne(t){return Math.abs(this.imag+1)<=t}canImagFactorBeOmitted(t){return t.allowAbbreviation&&Math.abs(Math.abs(this.imag)-1)<=t.maxAbbreviationError}};Pt.ZERO=new Pt(0,0),Pt.ONE=new Pt(1,0),Pt.I=new Pt(0,1);var mo=u(()=>({message:"Parse Error"}),"P"),Mn=class On{static{u(this,"h")}static need(t,r,n){if(t!==!0){let i=n===void 0?"(not provided)":`[${Array.prototype.slice.call(n).join(", ")}]`,a=`Precondition failed

Message: ${r===void 0?"(not provided)":r}

Args: ${i}`;throw new Error(a)}}static notNull(t){On.need(t!=null,"notNull")}static get urlJson(){let t=new URL(location.href,window.location.origin),r=decodeURIComponent(t.pathname),n=r.lastIndexOf("/");return r.substring(n+1)}};Mn.safeJsonParse=Dt.fromThrowable(JSON.parse,mo);var Lt=Mn;var At={};function bo(e){let t=e.data.circuitJson,r=e.data.qubitCount,n=e.data.stepIndex,i=e.data.steps,a=e.data.targets,s=e.data.invalidateCaches,m=new fr("0".repeat(r));Lt.notNull(r),Lt.notNull(n),Lt.notNull(i),Lt.notNull(a),(At[t]===void 0||s)&&(At={},At[t]={});for(let[g,p]of i.entries()){let y={};At[t][g]===void 0&&(At[t][g]={});let v=At[t][g];if(v===void 0||v.targets===void 0||v.targets.length<a.length){m.runStep(p);let l=m.state.matrix.clone(),f=Object.assign({},m.blochVectors),o=Object.assign({},m.measuredBits),c=Object.assign({},m.flags);if(At[t][g]={type:"step",step:g,amplitudes:l,targets:a,blochVectors:f,measuredBits:o,flags:c},g===n){let h=An(a,l);y={type:"step",step:g,amplitudes:h,blochVectors:f,measuredBits:o,flags:c}}else y={type:"step",step:g,amplitudes:[],blochVectors:f,measuredBits:o,flags:c}}else y={type:"step",step:g,amplitudes:[],blochVectors:v.blochVectors,measuredBits:v.measuredBits,flags:v.flags},g===n&&(y.amplitudes=An(a,v.amplitudes));self.postMessage(y)}self.postMessage({type:"finish"})}u(bo,"runSimulator");var An=u((e,t)=>e.reduce((r,n)=>{if(n>=t.height)r[n]=[0,0];else{let i=t.element(n,0).value;r[n]=[i.real,i.imag]}return r},{}),"pickTargetAmplitudes");self.addEventListener("message",bo);})();
/*! Bundled license information:

fraction.js/fraction.js:
  (**
   * @license Fraction.js v4.2.0 05/03/2022
   * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
   *
   * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
   * Dual licensed under the MIT or GPL Version 2 licenses.
   **)

react-is/cjs/react-is.production.min.js:
  (**
   * @license React
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/
/*! Bundled license information:

fraction.js/fraction.js:
  (**
   * @license Fraction.js v4.2.0 05/03/2022
   * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
   *
   * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
   * Dual licensed under the MIT or GPL Version 2 licenses.
   **)

react-is/cjs/react-is.production.min.js:
  (**
   * @license React
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/
//# sourceMappingURL=serviceworker.js.map
